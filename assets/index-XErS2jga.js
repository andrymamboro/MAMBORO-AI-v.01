(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function jT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dc={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function eE(){if(Cm)return Ds;Cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Ds.Fragment=e,Ds.jsx=o,Ds.jsxs=o,Ds}var Am;function tE(){return Am||(Am=1,dc.exports=eE()),dc.exports}var C=tE(),hc={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function nE(){if(Rm)return re;Rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function V(I,B,K){this.props=I,this.context=B,this.refs=U,this.updater=K||x}V.prototype.isReactComponent={},V.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},V.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function F(){}F.prototype=V.prototype;function z(I,B,K){this.props=I,this.context=B,this.refs=U,this.updater=K||x}var Y=z.prototype=new F;Y.constructor=z,L(Y,V.prototype),Y.isPureReactComponent=!0;var j=Array.isArray;function te(){}var J={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function Z(I,B,K){var Q=K.ref;return{$$typeof:n,type:I,key:B,ref:Q!==void 0?Q:null,props:K}}function de(I,B){return Z(I.type,B,I.props)}function Te(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function ge(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return B[K]})}var le=/\/+/g;function De(I,B){return typeof I=="object"&&I!==null&&I.key!=null?ge(""+I.key):B.toString(36)}function ze(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(te,te):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function P(I,B,K,Q,ae){var he=typeof I;(he==="undefined"||he==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(he){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case n:case e:Re=!0;break;case v:return Re=I._init,P(Re(I._payload),B,K,Q,ae)}}if(Re)return ae=ae(I),Re=Q===""?"."+De(I,0):Q,j(ae)?(K="",Re!=null&&(K=Re.replace(le,"$&/")+"/"),P(ae,B,K,"",function(Oo){return Oo})):ae!=null&&(Te(ae)&&(ae=de(ae,K+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(le,"$&/")+"/")+Re)),B.push(ae)),1;Re=0;var lt=Q===""?".":Q+":";if(j(I))for(var qe=0;qe<I.length;qe++)Q=I[qe],he=lt+De(Q,qe),Re+=P(Q,B,K,he,ae);else if(qe=A(I),typeof qe=="function")for(I=qe.call(I),qe=0;!(Q=I.next()).done;)Q=Q.value,he=lt+De(Q,qe++),Re+=P(Q,B,K,he,ae);else if(he==="object"){if(typeof I.then=="function")return P(ze(I),B,K,Q,ae);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Re}function q(I,B,K){if(I==null)return I;var Q=[],ae=0;return P(I,Q,"","",function(he){return B.call(K,he,ae++)}),Q}function ne(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var we=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ue={map:q,forEach:function(I,B,K){q(I,function(){B.apply(this,arguments)},K)},count:function(I){var B=0;return q(I,function(){B++}),B},toArray:function(I){return q(I,function(B){return B})||[]},only:function(I){if(!Te(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return re.Activity=E,re.Children=Ue,re.Component=V,re.Fragment=o,re.Profiler=l,re.PureComponent=z,re.StrictMode=s,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,re.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},re.cache=function(I){return function(){return I.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(I,B,K){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Q=L({},I.props),ae=I.key;if(B!=null)for(he in B.key!==void 0&&(ae=""+B.key),B)!fe.call(B,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&B.ref===void 0||(Q[he]=B[he]);var he=arguments.length-2;if(he===1)Q.children=K;else if(1<he){for(var Re=Array(he),lt=0;lt<he;lt++)Re[lt]=arguments[lt+2];Q.children=Re}return Z(I.type,ae,Q)},re.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},re.createElement=function(I,B,K){var Q,ae={},he=null;if(B!=null)for(Q in B.key!==void 0&&(he=""+B.key),B)fe.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ae[Q]=B[Q]);var Re=arguments.length-2;if(Re===1)ae.children=K;else if(1<Re){for(var lt=Array(Re),qe=0;qe<Re;qe++)lt[qe]=arguments[qe+2];ae.children=lt}if(I&&I.defaultProps)for(Q in Re=I.defaultProps,Re)ae[Q]===void 0&&(ae[Q]=Re[Q]);return Z(I,he,ae)},re.createRef=function(){return{current:null}},re.forwardRef=function(I){return{$$typeof:g,render:I}},re.isValidElement=Te,re.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ne}},re.memo=function(I,B){return{$$typeof:m,type:I,compare:B===void 0?null:B}},re.startTransition=function(I){var B=J.T,K={};J.T=K;try{var Q=I(),ae=J.S;ae!==null&&ae(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(te,we)}catch(he){we(he)}finally{B!==null&&K.types!==null&&(B.types=K.types),J.T=B}},re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},re.use=function(I){return J.H.use(I)},re.useActionState=function(I,B,K){return J.H.useActionState(I,B,K)},re.useCallback=function(I,B){return J.H.useCallback(I,B)},re.useContext=function(I){return J.H.useContext(I)},re.useDebugValue=function(){},re.useDeferredValue=function(I,B){return J.H.useDeferredValue(I,B)},re.useEffect=function(I,B){return J.H.useEffect(I,B)},re.useEffectEvent=function(I){return J.H.useEffectEvent(I)},re.useId=function(){return J.H.useId()},re.useImperativeHandle=function(I,B,K){return J.H.useImperativeHandle(I,B,K)},re.useInsertionEffect=function(I,B){return J.H.useInsertionEffect(I,B)},re.useLayoutEffect=function(I,B){return J.H.useLayoutEffect(I,B)},re.useMemo=function(I,B){return J.H.useMemo(I,B)},re.useOptimistic=function(I,B){return J.H.useOptimistic(I,B)},re.useReducer=function(I,B,K){return J.H.useReducer(I,B,K)},re.useRef=function(I){return J.H.useRef(I)},re.useState=function(I){return J.H.useState(I)},re.useSyncExternalStore=function(I,B,K){return J.H.useSyncExternalStore(I,B,K)},re.useTransition=function(){return J.H.useTransition()},re.version="19.2.3",re}var bm;function Zc(){return bm||(bm=1,hc.exports=nE()),hc.exports}var Pe=Zc();const iE=jT(Pe);var pc={exports:{}},Us={},mc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function oE(){return Im||(Im=1,(function(n){function e(P,q){var ne=P.length;P.push(q);e:for(;0<ne;){var we=ne-1>>>1,Ue=P[we];if(0<l(Ue,q))P[we]=q,P[ne]=Ue,ne=we;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],ne=P.pop();if(ne!==q){P[0]=ne;e:for(var we=0,Ue=P.length,I=Ue>>>1;we<I;){var B=2*(we+1)-1,K=P[B],Q=B+1,ae=P[Q];if(0>l(K,ne))Q<Ue&&0>l(ae,K)?(P[we]=ae,P[Q]=ne,we=Q):(P[we]=K,P[B]=ne,we=B);else if(Q<Ue&&0>l(ae,ne))P[we]=ae,P[Q]=ne,we=Q;else break e}}return q}function l(P,q){var ne=P.sortIndex-q.sortIndex;return ne!==0?ne:P.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();n.unstable_now=function(){return d.now()-g}}var y=[],m=[],v=1,E=null,T=3,A=!1,x=!1,L=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Y(P){for(var q=o(m);q!==null;){if(q.callback===null)s(m);else if(q.startTime<=P)s(m),q.sortIndex=q.expirationTime,e(y,q);else break;q=o(m)}}function j(P){if(L=!1,Y(P),!x)if(o(y)!==null)x=!0,te||(te=!0,ge());else{var q=o(m);q!==null&&ze(j,q.startTime-P)}}var te=!1,J=-1,fe=5,Z=-1;function de(){return U?!0:!(n.unstable_now()-Z<fe)}function Te(){if(U=!1,te){var P=n.unstable_now();Z=P;var q=!0;try{e:{x=!1,L&&(L=!1,F(J),J=-1),A=!0;var ne=T;try{t:{for(Y(P),E=o(y);E!==null&&!(E.expirationTime>P&&de());){var we=E.callback;if(typeof we=="function"){E.callback=null,T=E.priorityLevel;var Ue=we(E.expirationTime<=P);if(P=n.unstable_now(),typeof Ue=="function"){E.callback=Ue,Y(P),q=!0;break t}E===o(y)&&s(y),Y(P)}else s(y);E=o(y)}if(E!==null)q=!0;else{var I=o(m);I!==null&&ze(j,I.startTime-P),q=!1}}break e}finally{E=null,T=ne,A=!1}q=void 0}}finally{q?ge():te=!1}}}var ge;if(typeof z=="function")ge=function(){z(Te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,De=le.port2;le.port1.onmessage=Te,ge=function(){De.postMessage(null)}}else ge=function(){V(Te,0)};function ze(P,q){J=V(function(){P(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(P){switch(T){case 1:case 2:case 3:var q=3;break;default:q=T}var ne=T;T=q;try{return P()}finally{T=ne}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ne=T;T=P;try{return q()}finally{T=ne}},n.unstable_scheduleCallback=function(P,q,ne){var we=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,P){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ne+Ue,P={id:v++,callback:q,priorityLevel:P,startTime:ne,expirationTime:Ue,sortIndex:-1},ne>we?(P.sortIndex=ne,e(m,P),o(y)===null&&P===o(m)&&(L?(F(J),J=-1):L=!0,ze(j,ne-we))):(P.sortIndex=Ue,e(y,P),x||A||(x=!0,te||(te=!0,ge()))),P},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(P){var q=T;return function(){var ne=T;T=q;try{return P.apply(this,arguments)}finally{T=ne}}}})(gc)),gc}var wm;function sE(){return wm||(wm=1,mc.exports=oE()),mc.exports}var yc={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function rE(){if(xm)return st;xm=1;var n=Zc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,st.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},st.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},st.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},st.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},st.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},st.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},st.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},st.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},st.requestFormReset=function(y){s.d.r(y)},st.unstable_batchedUpdates=function(y,m){return y(m)},st.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.3",st}var Nm;function lE(){if(Nm)return yc.exports;Nm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yc.exports=rE(),yc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function aE(){if(Mm)return Us;Mm=1;var n=sE(),e=Zc(),o=lE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var h=r.return;if(h===null)break;var p=h.alternate;if(p===null){if(a=h.return,a!==null){r=a;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===r)return y(h),t;if(p===a)return y(h),i;p=p.sibling}throw Error(s(188))}if(r.return!==a.return)r=h,a=p;else{for(var _=!1,S=h.child;S;){if(S===r){_=!0,r=h,a=p;break}if(S===a){_=!0,a=h,r=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===r){_=!0,r=p,a=h;break}if(S===a){_=!0,a=p,r=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=Te&&t[Te]||t["@@iterator"],typeof t=="function"?t:null)}var le=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===le?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case j:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case z:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case Y:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case fe:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var ze=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},we=[],Ue=-1;function I(t){return{current:t}}function B(t){0>Ue||(t.current=we[Ue],we[Ue]=null,Ue--)}function K(t,i){Ue++,we[Ue]=t.current,t.current=i}var Q=I(null),ae=I(null),he=I(null),Re=I(null);function lt(t,i){switch(K(he,i),K(ae,t),K(Q,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Yp(i),t=Kp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(Q),K(Q,t)}function qe(){B(Q),B(ae),B(he)}function Oo(t){t.memoizedState!==null&&K(Re,t);var i=Q.current,r=Kp(i,t.type);i!==r&&(K(ae,t),K(Q,r))}function $s(t){ae.current===t&&(B(Q),B(ae)),Re.current===t&&(B(Re),ws._currentValue=ne)}var Xl,Sf;function fi(t){if(Xl===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Xl=i&&i[1]||"",Sf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xl+t+Sf}var $l=!1;function Ql(t,i){if(!t||$l)return"";$l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(k){var D=k}Reflect.construct(t,[],O)}else{try{O.call()}catch(k){D=k}t.call(O.prototype)}}else{try{throw Error()}catch(k){D=k}(O=t())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),_=p[0],S=p[1];if(_&&S){var R=_.split(`
`),M=S.split(`
`);for(h=a=0;a<R.length&&!R[a].includes("DetermineComponentFrameRoot");)a++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(a===R.length||h===M.length)for(a=R.length-1,h=M.length-1;1<=a&&0<=h&&R[a]!==M[h];)h--;for(;1<=a&&0<=h;a--,h--)if(R[a]!==M[h]){if(a!==1||h!==1)do if(a--,h--,0>h||R[a]!==M[h]){var H=`
`+R[a].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=a&&0<=h);break}}}finally{$l=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Nv(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ql(t.type,!1);case 11:return Ql(t.type.render,!1);case 1:return Ql(t.type,!0);case 31:return fi("Activity");default:return""}}function Cf(t){try{var i="",r=null;do i+=Nv(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Zl=Object.prototype.hasOwnProperty,Wl=n.unstable_scheduleCallback,jl=n.unstable_cancelCallback,Mv=n.unstable_shouldYield,Dv=n.unstable_requestPaint,_t=n.unstable_now,Uv=n.unstable_getCurrentPriorityLevel,Af=n.unstable_ImmediatePriority,Rf=n.unstable_UserBlockingPriority,Qs=n.unstable_NormalPriority,Lv=n.unstable_LowPriority,bf=n.unstable_IdlePriority,kv=n.log,Pv=n.unstable_setDisableYieldValue,Vo=null,Tt=null;function Mn(t){if(typeof kv=="function"&&Pv(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Vo,t)}catch{}}var Et=Math.clz32?Math.clz32:Ov,Hv=Math.log,Gv=Math.LN2;function Ov(t){return t>>>=0,t===0?32:31-(Hv(t)/Gv|0)|0}var Zs=256,Ws=262144,js=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function er(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var h=0,p=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=a&134217727;return S!==0?(a=S&~p,a!==0?h=di(a):(_&=S,_!==0?h=di(_):r||(r=S&~t,r!==0&&(h=di(r))))):(S=a&~p,S!==0?h=di(S):_!==0?h=di(_):r||(r=a&~t,r!==0&&(h=di(r)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:h}function Bo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Vv(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(){var t=js;return js<<=1,(js&62914560)===0&&(js=4194304),t}function ea(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function zo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bv(t,i,r,a,h,p){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,R=t.expirationTimes,M=t.hiddenUpdates;for(r=_&~r;0<r;){var H=31-Et(r),O=1<<H;S[H]=0,R[H]=-1;var D=M[H];if(D!==null)for(M[H]=null,H=0;H<D.length;H++){var k=D[H];k!==null&&(k.lane&=-536870913)}r&=~O}a!==0&&wf(t,a,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(_&~i))}function wf(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-Et(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function xf(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-Et(r),h=1<<a;h&i|t[a]&i&&(t[a]|=i),r&=~h}}function Nf(t,i){var r=i&-i;return r=(r&42)!==0?1:ta(r),(r&(t.suspendedLanes|i))!==0?0:r}function ta(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mf(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:gm(t.type))}function Df(t,i){var r=q.p;try{return q.p=t,i()}finally{q.p=r}}var Dn=Math.random().toString(36).slice(2),et="__reactFiber$"+Dn,dt="__reactProps$"+Dn,Hi="__reactContainer$"+Dn,ia="__reactEvents$"+Dn,zv="__reactListeners$"+Dn,qv="__reactHandles$"+Dn,Uf="__reactResources$"+Dn,qo="__reactMarker$"+Dn;function oa(t){delete t[et],delete t[dt],delete t[ia],delete t[zv],delete t[qv]}function Gi(t){var i=t[et];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Hi]||r[et]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=em(t);t!==null;){if(r=t[et])return r;t=em(t)}return i}t=r,r=t.parentNode}return null}function Oi(t){if(t=t[et]||t[Hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Fo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Vi(t){var i=t[Uf];return i||(i=t[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[qo]=!0}var Lf=new Set,kf={};function hi(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(kf[t]=i,t=0;t<i.length;t++)Lf.add(i[t])}var Fv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},Hf={};function Jv(t){return Zl.call(Hf,t)?!0:Zl.call(Pf,t)?!1:Fv.test(t)?Hf[t]=!0:(Pf[t]=!0,!1)}function tr(t,i,r){if(Jv(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function nr(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function sn(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gf(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yv(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,p.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function sa(t){if(!t._valueTracker){var i=Gf(t)?"checked":"value";t._valueTracker=Yv(t,i,""+t[i])}}function Of(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=Gf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kv=/[\n"\\]/g;function Mt(t){return t.replace(Kv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(t,i,r,a,h,p,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Nt(i)):t.value!==""+Nt(i)&&(t.value=""+Nt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?la(t,_,Nt(i)):r!=null?la(t,_,Nt(r)):a!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Nt(S):t.removeAttribute("name")}function Vf(t,i,r,a,h,p,_,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){sa(t);return}r=r!=null?""+Nt(r):"",i=i!=null?""+Nt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=S?t.checked:!!a,t.defaultChecked=!!a,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),sa(t)}function la(t,i,r){i==="number"&&ir(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zi(t,i,r,a){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Nt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Bf(t,i,r){if(i!=null&&(i=""+Nt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Nt(r):""}function zf(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if(ze(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=Nt(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),sa(t)}function qi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Xv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||Xv.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Ff(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in i)a=i[h],i.hasOwnProperty(h)&&r[h]!==a&&qf(t,h,a)}else for(var p in i)i.hasOwnProperty(p)&&qf(t,p,i[p])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(t){return Qv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rn(){}var ua=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Ji=null;function Jf(t){var i=Oi(t);if(i&&(t=i.stateNode)){var r=t[dt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ra(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var h=a[dt]||null;if(!h)throw Error(s(90));ra(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&Of(a)}break e;case"textarea":Bf(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&zi(t,!!r.multiple,i,!1)}}}var fa=!1;function Yf(t,i,r){if(fa)return t(i,r);fa=!0;try{var a=t(i);return a}finally{if(fa=!1,(Fi!==null||Ji!==null)&&(Jr(),Fi&&(i=Fi,t=Ji,Ji=Fi=null,Jf(i),t)))for(i=0;i<t.length;i++)Jf(t[i])}}function Jo(t,i){var r=t.stateNode;if(r===null)return null;var a=r[dt]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(ln)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){da=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{da=!1}var Un=null,ha=null,sr=null;function Kf(){if(sr)return sr;var t,i=ha,r=i.length,a,h="value"in Un?Un.value:Un.textContent,p=h.length;for(t=0;t<r&&i[t]===h[t];t++);var _=r-t;for(a=1;a<=_&&i[r-a]===h[p-a];a++);return sr=h.slice(t,1<a?1-a:void 0)}function rr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function Xf(){return!1}function ht(t){function i(r,a,h,p,_){this._reactName=r,this._targetInst=h,this.type=a,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?lr:Xf,this.isPropagationStopped=Xf,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=ht(pi),Ko=E({},pi,{view:0,detail:0}),Zv=ht(Ko),pa,ma,Xo,ur=E({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(pa=t.screenX-Xo.screenX,ma=t.screenY-Xo.screenY):ma=pa=0,Xo=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),$f=ht(ur),Wv=E({},ur,{dataTransfer:0}),jv=ht(Wv),e_=E({},Ko,{relatedTarget:0}),ga=ht(e_),t_=E({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),n_=ht(t_),i_=E({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o_=ht(i_),s_=E({},pi,{data:0}),Qf=ht(s_),r_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=a_[t])?!!i[t]:!1}function ya(){return u_}var c_=E({},Ko,{key:function(t){if(t.key){var i=r_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f_=ht(c_),d_=E({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=ht(d_),h_=E({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),p_=ht(h_),m_=E({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=ht(m_),y_=E({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=ht(y_),__=E({},pi,{newState:0,oldState:0}),T_=ht(__),E_=[9,13,27,32],va=ln&&"CompositionEvent"in window,$o=null;ln&&"documentMode"in document&&($o=document.documentMode);var S_=ln&&"TextEvent"in window&&!$o,Wf=ln&&(!va||$o&&8<$o&&11>=$o),jf=" ",ed=!1;function td(t,i){switch(t){case"keyup":return E_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function C_(t,i){switch(t){case"compositionend":return nd(i);case"keypress":return i.which!==32?null:(ed=!0,jf);case"textInput":return t=i.data,t===jf&&ed?null:t;default:return null}}function A_(t,i){if(Yi)return t==="compositionend"||!va&&td(t,i)?(t=Kf(),sr=ha=Un=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wf&&i.locale!=="ko"?null:i.data;default:return null}}var R_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!R_[t.type]:i==="textarea"}function od(t,i,r,a){Fi?Ji?Ji.push(a):Ji=[a]:Fi=a,i=Wr(i,"onChange"),0<i.length&&(r=new ar("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var Qo=null,Zo=null;function b_(t){Vp(t,0)}function cr(t){var i=Fo(t);if(Of(i))return t}function sd(t,i){if(t==="change")return i}var rd=!1;if(ln){var _a;if(ln){var Ta="oninput"in document;if(!Ta){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Ta=typeof ld.oninput=="function"}_a=Ta}else _a=!1;rd=_a&&(!document.documentMode||9<document.documentMode)}function ad(){Qo&&(Qo.detachEvent("onpropertychange",ud),Zo=Qo=null)}function ud(t){if(t.propertyName==="value"&&cr(Zo)){var i=[];od(i,Zo,t,ca(t)),Yf(b_,i)}}function I_(t,i,r){t==="focusin"?(ad(),Qo=i,Zo=r,Qo.attachEvent("onpropertychange",ud)):t==="focusout"&&ad()}function w_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cr(Zo)}function x_(t,i){if(t==="click")return cr(i)}function N_(t,i){if(t==="input"||t==="change")return cr(i)}function M_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var St=typeof Object.is=="function"?Object.is:M_;function Wo(t,i){if(St(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var h=r[a];if(!Zl.call(i,h)||!St(t[h],i[h]))return!1}return!0}function cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,i){var r=cd(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cd(r)}}function dd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ir(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=ir(t.document)}return i}function Ea(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var D_=ln&&"documentMode"in document&&11>=document.documentMode,Ki=null,Sa=null,jo=null,Ca=!1;function pd(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ca||Ki==null||Ki!==ir(a)||(a=Ki,"selectionStart"in a&&Ea(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jo&&Wo(jo,a)||(jo=a,a=Wr(Sa,"onSelect"),0<a.length&&(i=new ar("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=Ki)))}function mi(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Xi={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},Aa={},md={};ln&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function gi(t){if(Aa[t])return Aa[t];if(!Xi[t])return t;var i=Xi[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in md)return Aa[t]=i[r];return t}var gd=gi("animationend"),yd=gi("animationiteration"),vd=gi("animationstart"),U_=gi("transitionrun"),L_=gi("transitionstart"),k_=gi("transitioncancel"),_d=gi("transitionend"),Td=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function zt(t,i){Td.set(t,i),hi(i,[t])}var fr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dt=[],$i=0,ba=0;function dr(){for(var t=$i,i=ba=$i=0;i<t;){var r=Dt[i];Dt[i++]=null;var a=Dt[i];Dt[i++]=null;var h=Dt[i];Dt[i++]=null;var p=Dt[i];if(Dt[i++]=null,a!==null&&h!==null){var _=a.pending;_===null?h.next=h:(h.next=_.next,_.next=h),a.pending=h}p!==0&&Ed(r,h,p)}}function hr(t,i,r,a){Dt[$i++]=t,Dt[$i++]=i,Dt[$i++]=r,Dt[$i++]=a,ba|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ia(t,i,r,a){return hr(t,i,r,a),pr(t)}function yi(t,i){return hr(t,null,null,i),pr(t)}function Ed(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var h=!1,p=t.return;p!==null;)p.childLanes|=r,a=p.alternate,a!==null&&(a.childLanes|=r),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&i!==null&&(h=31-Et(r),t=p.hiddenUpdates,a=t[h],a===null?t[h]=[i]:a.push(i),i.lane=r|536870912),p):null}function pr(t){if(50<Es)throw Es=0,Pu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qi={};function P_(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,i,r,a){return new P_(t,i,r,a)}function wa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function an(t,i){var r=t.alternate;return r===null?(r=Ct(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sd(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mr(t,i,r,a,h,p){var _=0;if(a=t,typeof t=="function")wa(t)&&(_=1);else if(typeof t=="string")_=BT(t,r,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=Ct(31,r,i,h),t.elementType=Z,t.lanes=p,t;case L:return vi(r.children,h,p,i);case U:_=8,h|=24;break;case V:return t=Ct(12,r,i,h|2),t.elementType=V,t.lanes=p,t;case j:return t=Ct(13,r,i,h),t.elementType=j,t.lanes=p,t;case te:return t=Ct(19,r,i,h),t.elementType=te,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:_=10;break e;case F:_=9;break e;case Y:_=11;break e;case J:_=14;break e;case fe:_=16,a=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=Ct(_,r,i,h),i.elementType=t,i.type=a,i.lanes=p,i}function vi(t,i,r,a){return t=Ct(7,t,a,i),t.lanes=r,t}function xa(t,i,r){return t=Ct(6,t,null,i),t.lanes=r,t}function Cd(t){var i=Ct(18,null,null,0);return i.stateNode=t,i}function Na(t,i,r){return i=Ct(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ad=new WeakMap;function Ut(t,i){if(typeof t=="object"&&t!==null){var r=Ad.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Cf(i)},Ad.set(t,i),i)}return{value:t,source:i,stack:Cf(i)}}var Zi=[],Wi=0,gr=null,es=0,Lt=[],kt=0,Ln=null,Zt=1,Wt="";function un(t,i){Zi[Wi++]=es,Zi[Wi++]=gr,gr=t,es=i}function Rd(t,i,r){Lt[kt++]=Zt,Lt[kt++]=Wt,Lt[kt++]=Ln,Ln=t;var a=Zt;t=Wt;var h=32-Et(a)-1;a&=~(1<<h),r+=1;var p=32-Et(i)+h;if(30<p){var _=h-h%5;p=(a&(1<<_)-1).toString(32),a>>=_,h-=_,Zt=1<<32-Et(i)+h|r<<h|a,Wt=p+t}else Zt=1<<p|r<<h|a,Wt=t}function Ma(t){t.return!==null&&(un(t,1),Rd(t,1,0))}function Da(t){for(;t===gr;)gr=Zi[--Wi],Zi[Wi]=null,es=Zi[--Wi],Zi[Wi]=null;for(;t===Ln;)Ln=Lt[--kt],Lt[kt]=null,Wt=Lt[--kt],Lt[kt]=null,Zt=Lt[--kt],Lt[kt]=null}function bd(t,i){Lt[kt++]=Zt,Lt[kt++]=Wt,Lt[kt++]=Ln,Zt=i.id,Wt=i.overflow,Ln=t}var tt=null,He=null,_e=!1,kn=null,Pt=!1,Ua=Error(s(519));function Pn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ts(Ut(i,t)),Ua}function Id(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[et]=t,i[dt]=a,r){case"dialog":me("cancel",i),me("close",i);break;case"iframe":case"object":case"embed":me("load",i);break;case"video":case"audio":for(r=0;r<Cs.length;r++)me(Cs[r],i);break;case"source":me("error",i);break;case"img":case"image":case"link":me("error",i),me("load",i);break;case"details":me("toggle",i);break;case"input":me("invalid",i),Vf(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":me("invalid",i);break;case"textarea":me("invalid",i),zf(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||Fp(i.textContent,r)?(a.popover!=null&&(me("beforetoggle",i),me("toggle",i)),a.onScroll!=null&&me("scroll",i),a.onScrollEnd!=null&&me("scrollend",i),a.onClick!=null&&(i.onclick=rn),i=!0):i=!1,i||Pn(t,!0)}function wd(t){for(tt=t.return;tt;)switch(tt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:tt=tt.return}}function ji(t){if(t!==tt)return!1;if(!_e)return wd(t),_e=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zu(t.type,t.memoizedProps)),r=!r),r&&He&&Pn(t),wd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=jp(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=jp(t)}else i===27?(i=He,Qn(t.type)?(t=nc,nc=null,He=t):He=i):He=tt?Gt(t.stateNode.nextSibling):null;return!0}function _i(){He=tt=null,_e=!1}function La(){var t=kn;return t!==null&&(yt===null?yt=t:yt.push.apply(yt,t),kn=null),t}function ts(t){kn===null?kn=[t]:kn.push(t)}var ka=I(null),Ti=null,cn=null;function Hn(t,i,r){K(ka,i._currentValue),i._currentValue=r}function fn(t){t._currentValue=ka.current,B(ka)}function Pa(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function Ha(t,i,r,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=h;for(var R=0;R<i.length;R++)if(S.context===i[R]){p.lanes|=r,S=p.alternate,S!==null&&(S.lanes|=r),Pa(p.return,r,t),a||(_=null);break e}p=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,p=_.alternate,p!==null&&(p.lanes|=r),Pa(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function eo(t,i,r,a){t=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;St(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ws):t=[ws])}h=h.return}t!==null&&Ha(i,t,r,a),i.flags|=262144}function yr(t){for(t=t.firstContext;t!==null;){if(!St(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ei(t){Ti=t,cn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return xd(Ti,t)}function vr(t,i){return Ti===null&&Ei(t),xd(t,i)}function xd(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},cn===null){if(t===null)throw Error(s(308));cn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else cn=cn.next=i;return r}var H_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},G_=n.unstable_scheduleCallback,O_=n.unstable_NormalPriority,Ye={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ga(){return{controller:new H_,data:new Map,refCount:0}}function ns(t){t.refCount--,t.refCount===0&&G_(O_,function(){t.controller.abort()})}var is=null,Oa=0,to=0,no=null;function V_(t,i){if(is===null){var r=is=[];Oa=0,to=zu(),no={status:"pending",value:void 0,then:function(a){r.push(a)}}}return Oa++,i.then(Nd,Nd),i}function Nd(){if(--Oa===0&&is!==null){no!==null&&(no.status="fulfilled");var t=is;is=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function B_(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(a.status="rejected",a.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),a}var Md=P.S;P.S=function(t,i){pp=_t(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&V_(t,i),Md!==null&&Md(t,i)};var Si=I(null);function Va(){var t=Si.current;return t!==null?t:Le.pooledCache}function _r(t,i){i===null?K(Si,Si.current):K(Si,i.pool)}function Dd(){var t=Va();return t===null?null:{parent:Ye._currentValue,pool:t}}var io=Error(s(460)),Ba=Error(s(474)),Tr=Error(s(542)),Er={then:function(){}};function Ud(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ld(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(rn,rn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pd(t),t;default:if(typeof i.status=="string")i.then(rn,rn);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=a}},function(a){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pd(t),t}throw Ai=i,io}}function Ci(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ai=r,io):r}}var Ai=null;function kd(){if(Ai===null)throw Error(s(459));var t=Ai;return Ai=null,t}function Pd(t){if(t===io||t===Tr)throw Error(s(483))}var oo=null,os=0;function Sr(t){var i=os;return os+=1,oo===null&&(oo=[]),Ld(oo,t,i)}function ss(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cr(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hd(t){function i(w,b){if(t){var N=w.deletions;N===null?(w.deletions=[b],w.flags|=16):N.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)i(w,b),b=b.sibling;return null}function a(w){for(var b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function h(w,b){return w=an(w,b),w.index=0,w.sibling=null,w}function p(w,b,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<b?(w.flags|=67108866,b):N):(w.flags|=67108866,b)):(w.flags|=1048576,b)}function _(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function S(w,b,N,G){return b===null||b.tag!==6?(b=xa(N,w.mode,G),b.return=w,b):(b=h(b,N),b.return=w,b)}function R(w,b,N,G){var ee=N.type;return ee===L?H(w,b,N.props.children,G,N.key):b!==null&&(b.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&Ci(ee)===b.type)?(b=h(b,N.props),ss(b,N),b.return=w,b):(b=mr(N.type,N.key,N.props,null,w.mode,G),ss(b,N),b.return=w,b)}function M(w,b,N,G){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Na(N,w.mode,G),b.return=w,b):(b=h(b,N.children||[]),b.return=w,b)}function H(w,b,N,G,ee){return b===null||b.tag!==7?(b=vi(N,w.mode,G,ee),b.return=w,b):(b=h(b,N),b.return=w,b)}function O(w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=xa(""+b,w.mode,N),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return N=mr(b.type,b.key,b.props,null,w.mode,N),ss(N,b),N.return=w,N;case x:return b=Na(b,w.mode,N),b.return=w,b;case fe:return b=Ci(b),O(w,b,N)}if(ze(b)||ge(b))return b=vi(b,w.mode,N,null),b.return=w,b;if(typeof b.then=="function")return O(w,Sr(b),N);if(b.$$typeof===z)return O(w,vr(w,b),N);Cr(w,b)}return null}function D(w,b,N,G){var ee=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ee!==null?null:S(w,b,""+N,G);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return N.key===ee?R(w,b,N,G):null;case x:return N.key===ee?M(w,b,N,G):null;case fe:return N=Ci(N),D(w,b,N,G)}if(ze(N)||ge(N))return ee!==null?null:H(w,b,N,G,null);if(typeof N.then=="function")return D(w,b,Sr(N),G);if(N.$$typeof===z)return D(w,b,vr(w,N),G);Cr(w,N)}return null}function k(w,b,N,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(N)||null,S(b,w,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return w=w.get(G.key===null?N:G.key)||null,R(b,w,G,ee);case x:return w=w.get(G.key===null?N:G.key)||null,M(b,w,G,ee);case fe:return G=Ci(G),k(w,b,N,G,ee)}if(ze(G)||ge(G))return w=w.get(N)||null,H(b,w,G,ee,null);if(typeof G.then=="function")return k(w,b,N,Sr(G),ee);if(G.$$typeof===z)return k(w,b,N,vr(b,G),ee);Cr(b,G)}return null}function $(w,b,N,G){for(var ee=null,Ee=null,W=b,ce=b=0,ve=null;W!==null&&ce<N.length;ce++){W.index>ce?(ve=W,W=null):ve=W.sibling;var Se=D(w,W,N[ce],G);if(Se===null){W===null&&(W=ve);break}t&&W&&Se.alternate===null&&i(w,W),b=p(Se,b,ce),Ee===null?ee=Se:Ee.sibling=Se,Ee=Se,W=ve}if(ce===N.length)return r(w,W),_e&&un(w,ce),ee;if(W===null){for(;ce<N.length;ce++)W=O(w,N[ce],G),W!==null&&(b=p(W,b,ce),Ee===null?ee=W:Ee.sibling=W,Ee=W);return _e&&un(w,ce),ee}for(W=a(W);ce<N.length;ce++)ve=k(W,w,ce,N[ce],G),ve!==null&&(t&&ve.alternate!==null&&W.delete(ve.key===null?ce:ve.key),b=p(ve,b,ce),Ee===null?ee=ve:Ee.sibling=ve,Ee=ve);return t&&W.forEach(function(ti){return i(w,ti)}),_e&&un(w,ce),ee}function ie(w,b,N,G){if(N==null)throw Error(s(151));for(var ee=null,Ee=null,W=b,ce=b=0,ve=null,Se=N.next();W!==null&&!Se.done;ce++,Se=N.next()){W.index>ce?(ve=W,W=null):ve=W.sibling;var ti=D(w,W,Se.value,G);if(ti===null){W===null&&(W=ve);break}t&&W&&ti.alternate===null&&i(w,W),b=p(ti,b,ce),Ee===null?ee=ti:Ee.sibling=ti,Ee=ti,W=ve}if(Se.done)return r(w,W),_e&&un(w,ce),ee;if(W===null){for(;!Se.done;ce++,Se=N.next())Se=O(w,Se.value,G),Se!==null&&(b=p(Se,b,ce),Ee===null?ee=Se:Ee.sibling=Se,Ee=Se);return _e&&un(w,ce),ee}for(W=a(W);!Se.done;ce++,Se=N.next())Se=k(W,w,ce,Se.value,G),Se!==null&&(t&&Se.alternate!==null&&W.delete(Se.key===null?ce:Se.key),b=p(Se,b,ce),Ee===null?ee=Se:Ee.sibling=Se,Ee=Se);return t&&W.forEach(function(WT){return i(w,WT)}),_e&&un(w,ce),ee}function Me(w,b,N,G){if(typeof N=="object"&&N!==null&&N.type===L&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case A:e:{for(var ee=N.key;b!==null;){if(b.key===ee){if(ee=N.type,ee===L){if(b.tag===7){r(w,b.sibling),G=h(b,N.props.children),G.return=w,w=G;break e}}else if(b.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&Ci(ee)===b.type){r(w,b.sibling),G=h(b,N.props),ss(G,N),G.return=w,w=G;break e}r(w,b);break}else i(w,b);b=b.sibling}N.type===L?(G=vi(N.props.children,w.mode,G,N.key),G.return=w,w=G):(G=mr(N.type,N.key,N.props,null,w.mode,G),ss(G,N),G.return=w,w=G)}return _(w);case x:e:{for(ee=N.key;b!==null;){if(b.key===ee)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(w,b.sibling),G=h(b,N.children||[]),G.return=w,w=G;break e}else{r(w,b);break}else i(w,b);b=b.sibling}G=Na(N,w.mode,G),G.return=w,w=G}return _(w);case fe:return N=Ci(N),Me(w,b,N,G)}if(ze(N))return $(w,b,N,G);if(ge(N)){if(ee=ge(N),typeof ee!="function")throw Error(s(150));return N=ee.call(N),ie(w,b,N,G)}if(typeof N.then=="function")return Me(w,b,Sr(N),G);if(N.$$typeof===z)return Me(w,b,vr(w,N),G);Cr(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,b!==null&&b.tag===6?(r(w,b.sibling),G=h(b,N),G.return=w,w=G):(r(w,b),G=xa(N,w.mode,G),G.return=w,w=G),_(w)):r(w,b)}return function(w,b,N,G){try{os=0;var ee=Me(w,b,N,G);return oo=null,ee}catch(W){if(W===io||W===Tr)throw W;var Ee=Ct(29,W,null,w.mode);return Ee.lanes=G,Ee.return=w,Ee}finally{}}}var Ri=Hd(!0),Gd=Hd(!1),Gn=!1;function za(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qa(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function On(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ae&2)!==0){var h=a.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),a.pending=i,i=pr(t),Ed(t,null,r),i}return hr(t,a,i,r),pr(t)}function rs(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,xf(t,r)}}function Fa(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var h=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,r=r.next}while(r!==null);p===null?h=p=i:p=p.next=i}else h=p=i;r={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Ja=!1;function ls(){if(Ja){var t=no;if(t!==null)throw t}}function as(t,i,r,a){Ja=!1;var h=t.updateQueue;Gn=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,M=R.next;R.next=null,_===null?p=M:_.next=M,_=R;var H=t.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==_&&(S===null?H.firstBaseUpdate=M:S.next=M,H.lastBaseUpdate=R))}if(p!==null){var O=h.baseState;_=0,H=M=R=null,S=p;do{var D=S.lane&-536870913,k=D!==S.lane;if(k?(ye&D)===D:(a&D)===D){D!==0&&D===to&&(Ja=!0),H!==null&&(H=H.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var $=t,ie=S;D=i;var Me=r;switch(ie.tag){case 1:if($=ie.payload,typeof $=="function"){O=$.call(Me,O,D);break e}O=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=ie.payload,D=typeof $=="function"?$.call(Me,O,D):$,D==null)break e;O=E({},O,D);break e;case 2:Gn=!0}}D=S.callback,D!==null&&(t.flags|=64,k&&(t.flags|=8192),k=h.callbacks,k===null?h.callbacks=[D]:k.push(D))}else k={lane:D,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(M=H=k,R=O):H=H.next=k,_|=D;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;k=S,S=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);H===null&&(R=O),h.baseState=R,h.firstBaseUpdate=M,h.lastBaseUpdate=H,p===null&&(h.shared.lanes=0),Jn|=_,t.lanes=_,t.memoizedState=O}}function Od(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vd(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Od(r[t],i)}var so=I(null),Ar=I(0);function Bd(t,i){t=Tn,K(Ar,t),K(so,i),Tn=t|i.baseLanes}function Ya(){K(Ar,Tn),K(so,so.current)}function Ka(){Tn=Ar.current,B(so),B(Ar)}var At=I(null),Ht=null;function Bn(t){var i=t.alternate;K(Fe,Fe.current&1),K(At,t),Ht===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Ht=t)}function Xa(t){K(Fe,Fe.current),K(At,t),Ht===null&&(Ht=t)}function zd(t){t.tag===22?(K(Fe,Fe.current),K(At,t),Ht===null&&(Ht=t)):zn()}function zn(){K(Fe,Fe.current),K(At,At.current)}function Rt(t){B(At),Ht===t&&(Ht=null),B(Fe)}var Fe=I(0);function Rr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ec(r)||tc(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var dn=0,ue=null,xe=null,Ke=null,br=!1,ro=!1,bi=!1,Ir=0,us=0,lo=null,z_=0;function Ve(){throw Error(s(321))}function $a(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!St(t[r],i[r]))return!1;return!0}function Qa(t,i,r,a,h,p){return dn=p,ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Rh:fu,bi=!1,p=r(a,h),bi=!1,ro&&(p=Fd(i,r,a,h)),qd(t),p}function qd(t){P.H=ds;var i=xe!==null&&xe.next!==null;if(dn=0,Ke=xe=ue=null,br=!1,us=0,lo=null,i)throw Error(s(300));t===null||Xe||(t=t.dependencies,t!==null&&yr(t)&&(Xe=!0))}function Fd(t,i,r,a){ue=t;var h=0;do{if(ro&&(lo=null),us=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,Ke=xe=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=bh,p=i(r,a)}while(ro);return p}function q_(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?cs(i):i,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(ue.flags|=1024),i}function Za(){var t=Ir!==0;return Ir=0,t}function Wa(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function ja(t){if(br){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}br=!1}dn=0,Ke=xe=ue=null,ro=!1,us=Ir=0,lo=null}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ue.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Je(){if(xe===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var i=Ke===null?ue.memoizedState:Ke.next;if(i!==null)Ke=i,xe=t;else{if(t===null)throw ue.alternate===null?Error(s(467)):Error(s(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ke===null?ue.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(t){var i=us;return us+=1,lo===null&&(lo=[]),t=Ld(lo,t,i),i=ue,(Ke===null?i.memoizedState:Ke.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Rh:fu),t}function xr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cs(t);if(t.$$typeof===z)return nt(t)}throw Error(s(438,String(t)))}function eu(t){var i=null,r=ue.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=ue.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=wr(),ue.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=de;return i.index++,r}function hn(t,i){return typeof i=="function"?i(t):i}function Nr(t){var i=Je();return tu(i,xe,t)}function tu(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var h=t.baseQueue,p=a.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}i.baseQueue=h=p,a.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{i=h.next;var S=_=null,R=null,M=i,H=!1;do{var O=M.lane&-536870913;if(O!==M.lane?(ye&O)===O:(dn&O)===O){var D=M.revertLane;if(D===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),O===to&&(H=!0);else if((dn&D)===D){M=M.next,D===to&&(H=!0);continue}else O={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(S=R=O,_=p):R=R.next=O,ue.lanes|=D,Jn|=D;O=M.action,bi&&r(p,O),p=M.hasEagerState?M.eagerState:r(p,O)}else D={lane:O,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(S=R=D,_=p):R=R.next=D,ue.lanes|=O,Jn|=O;M=M.next}while(M!==null&&M!==i);if(R===null?_=p:R.next=S,!St(p,t.memoizedState)&&(Xe=!0,H&&(r=no,r!==null)))throw r;t.memoizedState=p,t.baseState=_,t.baseQueue=R,a.lastRenderedState=p}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function nu(t){var i=Je(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,h=r.pending,p=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);St(p,i.memoizedState)||(Xe=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,a]}function Jd(t,i,r){var a=ue,h=Je(),p=_e;if(p){if(r===void 0)throw Error(s(407));r=r()}else r=i();var _=!St((xe||h).memoizedState,r);if(_&&(h.memoizedState=r,Xe=!0),h=h.queue,su(Xd.bind(null,a,h,t),[t]),h.getSnapshot!==i||_||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,ao(9,{destroy:void 0},Kd.bind(null,a,h,r,i),null),Le===null)throw Error(s(349));p||(dn&127)!==0||Yd(a,i,r)}return r}function Yd(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=ue.updateQueue,i===null?(i=wr(),ue.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Kd(t,i,r,a){i.value=r,i.getSnapshot=a,$d(i)&&Qd(t)}function Xd(t,i,r){return r(function(){$d(i)&&Qd(t)})}function $d(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!St(t,r)}catch{return!0}}function Qd(t){var i=yi(t,2);i!==null&&vt(i,t,2)}function iu(t){var i=at();if(typeof t=="function"){var r=t;if(t=r(),bi){Mn(!0);try{r()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:t},i}function Zd(t,i,r,a){return t.baseState=r,tu(t,xe,typeof a=="function"?a:hn)}function F_(t,i,r,a,h){if(Ur(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};P.T!==null?r(!0):p.isTransition=!1,a(p),r=i.pending,r===null?(p.next=i.pending=p,Wd(i,p)):(p.next=r.next,i.pending=r.next=p)}}function Wd(t,i){var r=i.action,a=i.payload,h=t.state;if(i.isTransition){var p=P.T,_={};P.T=_;try{var S=r(h,a),R=P.S;R!==null&&R(_,S),jd(t,i,S)}catch(M){ou(t,i,M)}finally{p!==null&&_.types!==null&&(p.types=_.types),P.T=p}}else try{p=r(h,a),jd(t,i,p)}catch(M){ou(t,i,M)}}function jd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){eh(t,i,a)},function(a){return ou(t,i,a)}):eh(t,i,r)}function eh(t,i,r){i.status="fulfilled",i.value=r,th(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,Wd(t,r)))}function ou(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,th(i),i=i.next;while(i!==a)}t.action=null}function th(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function nh(t,i){return i}function ih(t,i){if(_e){var r=Le.formState;if(r!==null){e:{var a=ue;if(_e){if(He){t:{for(var h=He,p=Pt;h.nodeType!==8;){if(!p){h=null;break t}if(h=Gt(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){He=Gt(h.nextSibling),a=h.data==="F!";break e}}Pn(a)}a=!1}a&&(i=r[0])}}return r=at(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:i},r.queue=a,r=Sh.bind(null,ue,a),a.dispatch=r,a=iu(!1),p=cu.bind(null,ue,!1,a.queue),a=at(),h={state:i,dispatch:null,action:t,pending:null},a.queue=h,r=F_.bind(null,ue,h,p,r),h.dispatch=r,a.memoizedState=t,[i,r,!1]}function oh(t){var i=Je();return sh(i,xe,t)}function sh(t,i,r){if(i=tu(t,i,nh)[0],t=Nr(hn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=cs(i)}catch(_){throw _===io?Tr:_}else a=i;i=Je();var h=i.queue,p=h.dispatch;return r!==i.memoizedState&&(ue.flags|=2048,ao(9,{destroy:void 0},J_.bind(null,h,r),null)),[a,p,t]}function J_(t,i){t.action=i}function rh(t){var i=Je(),r=xe;if(r!==null)return sh(i,r,t);Je(),i=i.memoizedState,r=Je();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function ao(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=ue.updateQueue,i===null&&(i=wr(),ue.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function lh(){return Je().memoizedState}function Mr(t,i,r,a){var h=at();ue.flags|=t,h.memoizedState=ao(1|i,{destroy:void 0},r,a===void 0?null:a)}function Dr(t,i,r,a){var h=Je();a=a===void 0?null:a;var p=h.memoizedState.inst;xe!==null&&a!==null&&$a(a,xe.memoizedState.deps)?h.memoizedState=ao(i,p,r,a):(ue.flags|=t,h.memoizedState=ao(1|i,p,r,a))}function ah(t,i){Mr(8390656,8,t,i)}function su(t,i){Dr(2048,8,t,i)}function Y_(t){ue.flags|=4;var i=ue.updateQueue;if(i===null)i=wr(),ue.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function uh(t){var i=Je().memoizedState;return Y_({ref:i,nextImpl:t}),function(){if((Ae&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ch(t,i){return Dr(4,2,t,i)}function fh(t,i){return Dr(4,4,t,i)}function dh(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hh(t,i,r){r=r!=null?r.concat([t]):null,Dr(4,4,dh.bind(null,i,t),r)}function ru(){}function ph(t,i){var r=Je();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&$a(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function mh(t,i){var r=Je();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&$a(i,a[1]))return a[0];if(a=t(),bi){Mn(!0);try{t()}finally{Mn(!1)}}return r.memoizedState=[a,i],a}function lu(t,i,r){return r===void 0||(dn&1073741824)!==0&&(ye&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=gp(),ue.lanes|=t,Jn|=t,r)}function gh(t,i,r,a){return St(r,i)?r:so.current!==null?(t=lu(t,r,a),St(t,i)||(Xe=!0),t):(dn&42)===0||(dn&1073741824)!==0&&(ye&261930)===0?(Xe=!0,t.memoizedState=r):(t=gp(),ue.lanes|=t,Jn|=t,i)}function yh(t,i,r,a,h){var p=q.p;q.p=p!==0&&8>p?p:8;var _=P.T,S={};P.T=S,cu(t,!1,i,r);try{var R=h(),M=P.S;if(M!==null&&M(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=B_(R,a);fs(t,i,H,wt(t))}else fs(t,i,a,wt(t))}catch(O){fs(t,i,{then:function(){},status:"rejected",reason:O},wt())}finally{q.p=p,_!==null&&S.types!==null&&(_.types=S.types),P.T=_}}function K_(){}function au(t,i,r,a){if(t.tag!==5)throw Error(s(476));var h=vh(t).queue;yh(t,h,i,ne,r===null?K_:function(){return _h(t),r(a)})}function vh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:ne},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _h(t){var i=vh(t);i.next===null&&(i=t.alternate.memoizedState),fs(t,i.next.queue,{},wt())}function uu(){return nt(ws)}function Th(){return Je().memoizedState}function Eh(){return Je().memoizedState}function X_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=wt();t=On(r);var a=Vn(i,t,r);a!==null&&(vt(a,i,r),rs(a,i,r)),i={cache:Ga()},t.payload=i;return}i=i.return}}function $_(t,i,r){var a=wt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ur(t)?Ch(i,r):(r=Ia(t,i,r,a),r!==null&&(vt(r,t,a),Ah(r,i,a)))}function Sh(t,i,r){var a=wt();fs(t,i,r,a)}function fs(t,i,r,a){var h={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ur(t))Ch(i,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,S=p(_,r);if(h.hasEagerState=!0,h.eagerState=S,St(S,_))return hr(t,i,h,0),Le===null&&dr(),!1}catch{}finally{}if(r=Ia(t,i,h,a),r!==null)return vt(r,t,a),Ah(r,i,a),!0}return!1}function cu(t,i,r,a){if(a={lane:2,revertLane:zu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ur(t)){if(i)throw Error(s(479))}else i=Ia(t,r,a,2),i!==null&&vt(i,t,2)}function Ur(t){var i=t.alternate;return t===ue||i!==null&&i===ue}function Ch(t,i){ro=br=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Ah(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,xf(t,r)}}var ds={readContext:nt,use:xr,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};ds.useEffectEvent=Ve;var Rh={readContext:nt,use:xr,useCallback:function(t,i){return at().memoizedState=[t,i===void 0?null:i],t},useContext:nt,useEffect:ah,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Mr(4194308,4,dh.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Mr(4194308,4,t,i)},useInsertionEffect:function(t,i){Mr(4,2,t,i)},useMemo:function(t,i){var r=at();i=i===void 0?null:i;var a=t();if(bi){Mn(!0);try{t()}finally{Mn(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=at();if(r!==void 0){var h=r(i);if(bi){Mn(!0);try{r(i)}finally{Mn(!1)}}}else h=i;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=$_.bind(null,ue,t),[a.memoizedState,t]},useRef:function(t){var i=at();return t={current:t},i.memoizedState=t},useState:function(t){t=iu(t);var i=t.queue,r=Sh.bind(null,ue,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:ru,useDeferredValue:function(t,i){var r=at();return lu(r,t,i)},useTransition:function(){var t=iu(!1);return t=yh.bind(null,ue,t.queue,!0,!1),at().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=ue,h=at();if(_e){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Le===null)throw Error(s(349));(ye&127)!==0||Yd(a,i,r)}h.memoizedState=r;var p={value:r,getSnapshot:i};return h.queue=p,ah(Xd.bind(null,a,p,t),[t]),a.flags|=2048,ao(9,{destroy:void 0},Kd.bind(null,a,p,r,i),null),r},useId:function(){var t=at(),i=Le.identifierPrefix;if(_e){var r=Wt,a=Zt;r=(a&~(1<<32-Et(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Ir++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=z_++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:uu,useFormState:ih,useActionState:ih,useOptimistic:function(t){var i=at();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=cu.bind(null,ue,!0,r),r.dispatch=i,[t,i]},useMemoCache:eu,useCacheRefresh:function(){return at().memoizedState=X_.bind(null,ue)},useEffectEvent:function(t){var i=at(),r={impl:t};return i.memoizedState=r,function(){if((Ae&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},fu={readContext:nt,use:xr,useCallback:ph,useContext:nt,useEffect:su,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:Nr,useRef:lh,useState:function(){return Nr(hn)},useDebugValue:ru,useDeferredValue:function(t,i){var r=Je();return gh(r,xe.memoizedState,t,i)},useTransition:function(){var t=Nr(hn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:cs(t),i]},useSyncExternalStore:Jd,useId:Th,useHostTransitionStatus:uu,useFormState:oh,useActionState:oh,useOptimistic:function(t,i){var r=Je();return Zd(r,xe,t,i)},useMemoCache:eu,useCacheRefresh:Eh};fu.useEffectEvent=uh;var bh={readContext:nt,use:xr,useCallback:ph,useContext:nt,useEffect:su,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:nu,useRef:lh,useState:function(){return nu(hn)},useDebugValue:ru,useDeferredValue:function(t,i){var r=Je();return xe===null?lu(r,t,i):gh(r,xe.memoizedState,t,i)},useTransition:function(){var t=nu(hn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:cs(t),i]},useSyncExternalStore:Jd,useId:Th,useHostTransitionStatus:uu,useFormState:rh,useActionState:rh,useOptimistic:function(t,i){var r=Je();return xe!==null?Zd(r,xe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:eu,useCacheRefresh:Eh};bh.useEffectEvent=uh;function du(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:E({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hu={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=wt(),h=On(a);h.payload=i,r!=null&&(h.callback=r),i=Vn(t,h,a),i!==null&&(vt(i,t,a),rs(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=wt(),h=On(a);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Vn(t,h,a),i!==null&&(vt(i,t,a),rs(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=wt(),a=On(r);a.tag=2,i!=null&&(a.callback=i),i=Vn(t,a,r),i!==null&&(vt(i,t,r),rs(i,t,r))}};function Ih(t,i,r,a,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(r,a)||!Wo(h,p):!0}function wh(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&hu.enqueueReplaceState(i,i.state,null)}function Ii(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function xh(t){fr(t)}function Nh(t){console.error(t)}function Mh(t){fr(t)}function Lr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function Dh(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pu(t,i,r){return r=On(r),r.tag=3,r.payload={element:null},r.callback=function(){Lr(t,i)},r}function Uh(t){return t=On(t),t.tag=3,t}function Lh(t,i,r,a){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=a.value;t.payload=function(){return h(p)},t.callback=function(){Dh(i,r,a)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Dh(i,r,a),typeof h!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function Q_(t,i,r,a,h){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&eo(i,r,h,!0),r=At.current,r!==null){switch(r.tag){case 31:case 13:return Ht===null?Yr():r.alternate===null&&Be===0&&(Be=3),r.flags&=-257,r.flags|=65536,r.lanes=h,a===Er?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),Ou(t,a,h)),!1;case 22:return r.flags|=65536,a===Er?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),Ou(t,a,h)),!1}throw Error(s(435,r.tag))}return Ou(t,a,h),Yr(),!1}if(_e)return i=At.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,a!==Ua&&(t=Error(s(422),{cause:a}),ts(Ut(t,r)))):(a!==Ua&&(i=Error(s(423),{cause:a}),ts(Ut(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Ut(a,r),h=pu(t.stateNode,a,h),Fa(t,h),Be!==4&&(Be=2)),!1;var p=Error(s(520),{cause:a});if(p=Ut(p,r),Ts===null?Ts=[p]:Ts.push(p),Be!==4&&(Be=2),i===null)return!0;a=Ut(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=pu(r.stateNode,a,t),Fa(r,t),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yn===null||!Yn.has(p))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Uh(h),Lh(h,t,r,a),Fa(r,h),!1}r=r.return}while(r!==null);return!1}var mu=Error(s(461)),Xe=!1;function it(t,i,r,a){i.child=t===null?Gd(i,null,r,a):Ri(i,t.child,r,a)}function kh(t,i,r,a,h){r=r.render;var p=i.ref;if("ref"in a){var _={};for(var S in a)S!=="ref"&&(_[S]=a[S])}else _=a;return Ei(i),a=Qa(t,i,r,_,p,h),S=Za(),t!==null&&!Xe?(Wa(t,i,h),pn(t,i,h)):(_e&&S&&Ma(i),i.flags|=1,it(t,i,a,h),i.child)}function Ph(t,i,r,a,h){if(t===null){var p=r.type;return typeof p=="function"&&!wa(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,Hh(t,i,p,a,h)):(t=mr(r.type,null,a,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Cu(t,h)){var _=p.memoizedProps;if(r=r.compare,r=r!==null?r:Wo,r(_,a)&&t.ref===i.ref)return pn(t,i,h)}return i.flags|=1,t=an(p,a),t.ref=i.ref,t.return=i,i.child=t}function Hh(t,i,r,a,h){if(t!==null){var p=t.memoizedProps;if(Wo(p,a)&&t.ref===i.ref)if(Xe=!1,i.pendingProps=a=p,Cu(t,h))(t.flags&131072)!==0&&(Xe=!0);else return i.lanes=t.lanes,pn(t,i,h)}return gu(t,i,r,a,h)}function Gh(t,i,r,a){var h=a.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,t!==null){for(a=i.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~p}else a=0,i.child=null;return Oh(t,i,p,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_r(i,p!==null?p.cachePool:null),p!==null?Bd(i,p):Ya(),zd(i);else return a=i.lanes=536870912,Oh(t,i,p!==null?p.baseLanes|r:r,r,a)}else p!==null?(_r(i,p.cachePool),Bd(i,p),zn(),i.memoizedState=null):(t!==null&&_r(i,null),Ya(),zn());return it(t,i,h,r),i.child}function hs(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Oh(t,i,r,a,h){var p=Va();return p=p===null?null:{parent:Ye._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},t!==null&&_r(i,null),Ya(),zd(i),t!==null&&eo(t,i,a,!0),i.childLanes=h,null}function kr(t,i){return i=Hr({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Vh(t,i,r){return Ri(i,t.child,null,r),t=kr(i,i.pendingProps),t.flags|=2,Rt(i),i.memoizedState=null,t}function Z_(t,i,r){var a=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(_e){if(a.mode==="hidden")return t=kr(i,a),i.lanes=536870912,hs(null,t);if(Xa(i),(t=He)?(t=Wp(t,Pt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ln!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},r=Cd(t),r.return=i,i.child=r,tt=i,He=null)):t=null,t===null)throw Pn(i);return i.lanes=536870912,null}return kr(i,a)}var p=t.memoizedState;if(p!==null){var _=p.dehydrated;if(Xa(i),h)if(i.flags&256)i.flags&=-257,i=Vh(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Xe||eo(t,i,r,!1),h=(r&t.childLanes)!==0,Xe||h){if(a=Le,a!==null&&(_=Nf(a,r),_!==0&&_!==p.retryLane))throw p.retryLane=_,yi(t,_),vt(a,t,_),mu;Yr(),i=Vh(t,i,r)}else t=p.treeContext,He=Gt(_.nextSibling),tt=i,_e=!0,kn=null,Pt=!1,t!==null&&bd(i,t),i=kr(i,a),i.flags|=4096;return i}return t=an(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Pr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function gu(t,i,r,a,h){return Ei(i),r=Qa(t,i,r,a,void 0,h),a=Za(),t!==null&&!Xe?(Wa(t,i,h),pn(t,i,h)):(_e&&a&&Ma(i),i.flags|=1,it(t,i,r,h),i.child)}function Bh(t,i,r,a,h,p){return Ei(i),i.updateQueue=null,r=Fd(i,a,r,h),qd(t),a=Za(),t!==null&&!Xe?(Wa(t,i,p),pn(t,i,p)):(_e&&a&&Ma(i),i.flags|=1,it(t,i,r,p),i.child)}function zh(t,i,r,a,h){if(Ei(i),i.stateNode===null){var p=Qi,_=r.contextType;typeof _=="object"&&_!==null&&(p=nt(_)),p=new r(a,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hu,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=a,p.state=i.memoizedState,p.refs={},za(i),_=r.contextType,p.context=typeof _=="object"&&_!==null?nt(_):Qi,p.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(du(i,r,_,a),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&hu.enqueueReplaceState(p,p.state,null),as(i,a,p,h),ls(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){p=i.stateNode;var S=i.memoizedProps,R=Ii(r,S);p.props=R;var M=p.context,H=r.contextType;_=Qi,typeof H=="object"&&H!==null&&(_=nt(H));var O=r.getDerivedStateFromProps;H=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||M!==_)&&wh(i,p,a,_),Gn=!1;var D=i.memoizedState;p.state=D,as(i,a,p,h),ls(),M=i.memoizedState,S||D!==M||Gn?(typeof O=="function"&&(du(i,r,O,a),M=i.memoizedState),(R=Gn||Ih(i,r,R,a,D,M,_))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=M),p.props=a,p.state=M,p.context=_,a=R):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{p=i.stateNode,qa(t,i),_=i.memoizedProps,H=Ii(r,_),p.props=H,O=i.pendingProps,D=p.context,M=r.contextType,R=Qi,typeof M=="object"&&M!==null&&(R=nt(M)),S=r.getDerivedStateFromProps,(M=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==O||D!==R)&&wh(i,p,a,R),Gn=!1,D=i.memoizedState,p.state=D,as(i,a,p,h),ls();var k=i.memoizedState;_!==O||D!==k||Gn||t!==null&&t.dependencies!==null&&yr(t.dependencies)?(typeof S=="function"&&(du(i,r,S,a),k=i.memoizedState),(H=Gn||Ih(i,r,H,a,D,k,R)||t!==null&&t.dependencies!==null&&yr(t.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,k,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,k,R)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=k),p.props=a,p.state=k,p.context=R,a=H):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),a=!1)}return p=a,Pr(t,i),a=(i.flags&128)!==0,p||a?(p=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&a?(i.child=Ri(i,t.child,null,h),i.child=Ri(i,null,r,h)):it(t,i,r,h),i.memoizedState=p.state,t=i.child):t=pn(t,i,h),t}function qh(t,i,r,a){return _i(),i.flags|=256,it(t,i,r,a),i.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(t){return{baseLanes:t,cachePool:Dd()}}function _u(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=It),t}function Fh(t,i,r){var a=i.pendingProps,h=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(_e){if(h?Bn(i):zn(),(t=He)?(t=Wp(t,Pt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ln!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},r=Cd(t),r.return=i,i.child=r,tt=i,He=null)):t=null,t===null)throw Pn(i);return tc(t)?i.lanes=32:i.lanes=536870912,null}var S=a.children;return a=a.fallback,h?(zn(),h=i.mode,S=Hr({mode:"hidden",children:S},h),a=vi(a,h,r,null),S.return=i,a.return=i,S.sibling=a,i.child=S,a=i.child,a.memoizedState=vu(r),a.childLanes=_u(t,_,r),i.memoizedState=yu,hs(null,a)):(Bn(i),Tu(i,S))}var R=t.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(p)i.flags&256?(Bn(i),i.flags&=-257,i=Eu(t,i,r)):i.memoizedState!==null?(zn(),i.child=t.child,i.flags|=128,i=null):(zn(),S=a.fallback,h=i.mode,a=Hr({mode:"visible",children:a.children},h),S=vi(S,h,r,null),S.flags|=2,a.return=i,S.return=i,a.sibling=S,i.child=a,Ri(i,t.child,null,r),a=i.child,a.memoizedState=vu(r),a.childLanes=_u(t,_,r),i.memoizedState=yu,i=hs(null,a));else if(Bn(i),tc(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var M=_.dgst;_=M,a=Error(s(419)),a.stack="",a.digest=_,ts({value:a,source:null,stack:null}),i=Eu(t,i,r)}else if(Xe||eo(t,i,r,!1),_=(r&t.childLanes)!==0,Xe||_){if(_=Le,_!==null&&(a=Nf(_,r),a!==0&&a!==R.retryLane))throw R.retryLane=a,yi(t,a),vt(_,t,a),mu;ec(S)||Yr(),i=Eu(t,i,r)}else ec(S)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,He=Gt(S.nextSibling),tt=i,_e=!0,kn=null,Pt=!1,t!==null&&bd(i,t),i=Tu(i,a.children),i.flags|=4096);return i}return h?(zn(),S=a.fallback,h=i.mode,R=t.child,M=R.sibling,a=an(R,{mode:"hidden",children:a.children}),a.subtreeFlags=R.subtreeFlags&65011712,M!==null?S=an(M,S):(S=vi(S,h,r,null),S.flags|=2),S.return=i,a.return=i,a.sibling=S,i.child=a,hs(null,a),a=i.child,S=t.child.memoizedState,S===null?S=vu(r):(h=S.cachePool,h!==null?(R=Ye._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Dd(),S={baseLanes:S.baseLanes|r,cachePool:h}),a.memoizedState=S,a.childLanes=_u(t,_,r),i.memoizedState=yu,hs(t.child,a)):(Bn(i),r=t.child,t=r.sibling,r=an(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function Tu(t,i){return i=Hr({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Hr(t,i){return t=Ct(22,t,null,i),t.lanes=0,t}function Eu(t,i,r){return Ri(i,t.child,null,r),t=Tu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jh(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),Pa(t.return,i,r)}function Su(t,i,r,a,h,p){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:h,treeForkCount:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=a,_.tail=r,_.tailMode=h,_.treeForkCount=p)}function Yh(t,i,r){var a=i.pendingProps,h=a.revealOrder,p=a.tail;a=a.children;var _=Fe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,K(Fe,_),it(t,i,a,r),a=_e?es:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,r,i);else if(t.tag===19)Jh(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Rr(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Su(i,!1,h,r,p,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Rr(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Su(i,!0,r,null,p,a);break;case"together":Su(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function pn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Jn|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(eo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=an(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=an(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Cu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yr(t)))}function W_(t,i,r){switch(i.tag){case 3:lt(i,i.stateNode.containerInfo),Hn(i,Ye,t.memoizedState.cache),_i();break;case 27:case 5:Oo(i);break;case 4:lt(i,i.stateNode.containerInfo);break;case 10:Hn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Xa(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Bn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Fh(t,i,r):(Bn(i),t=pn(t,i,r),t!==null?t.sibling:null);Bn(i);break;case 19:var h=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||(eo(t,i,r,!1),a=(r&i.childLanes)!==0),h){if(a)return Yh(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(Fe,Fe.current),a)break;return null;case 22:return i.lanes=0,Gh(t,i,r,i.pendingProps);case 24:Hn(i,Ye,t.memoizedState.cache)}return pn(t,i,r)}function Kh(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Xe=!0;else{if(!Cu(t,r)&&(i.flags&128)===0)return Xe=!1,W_(t,i,r);Xe=(t.flags&131072)!==0}else Xe=!1,_e&&(i.flags&1048576)!==0&&Rd(i,es,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=Ci(i.elementType),i.type=t,typeof t=="function")wa(t)?(a=Ii(t,a),i.tag=1,i=zh(null,i,t,a,r)):(i.tag=0,i=gu(null,i,t,a,r));else{if(t!=null){var h=t.$$typeof;if(h===Y){i.tag=11,i=kh(null,i,t,a,r);break e}else if(h===J){i.tag=14,i=Ph(null,i,t,a,r);break e}}throw i=De(t)||t,Error(s(306,i,""))}}return i;case 0:return gu(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,h=Ii(a,i.pendingProps),zh(t,i,a,h,r);case 3:e:{if(lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var p=i.memoizedState;h=p.element,qa(t,i),as(i,a,null,r);var _=i.memoizedState;if(a=_.cache,Hn(i,Ye,a),a!==p.cache&&Ha(i,[Ye],r,!0),ls(),a=_.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=qh(t,i,a,r);break e}else if(a!==h){h=Ut(Error(s(424)),i),ts(h),i=qh(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Gt(t.firstChild),tt=i,_e=!0,kn=null,Pt=!0,r=Gd(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_i(),a===h){i=pn(t,i,r);break e}it(t,i,a,r)}i=i.child}return i;case 26:return Pr(t,i),t===null?(r=om(i.type,null,i.pendingProps,null))?i.memoizedState=r:_e||(r=i.type,t=i.pendingProps,a=jr(he.current).createElement(r),a[et]=i,a[dt]=t,ot(a,r,t),Ze(a),i.stateNode=a):i.memoizedState=om(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Oo(i),t===null&&_e&&(a=i.stateNode=tm(i.type,i.pendingProps,he.current),tt=i,Pt=!0,h=He,Qn(i.type)?(nc=h,He=Gt(a.firstChild)):He=h),it(t,i,i.pendingProps.children,r),Pr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&_e&&((h=a=He)&&(a=wT(a,i.type,i.pendingProps,Pt),a!==null?(i.stateNode=a,tt=i,He=Gt(a.firstChild),Pt=!1,h=!0):h=!1),h||Pn(i)),Oo(i),h=i.type,p=i.pendingProps,_=t!==null?t.memoizedProps:null,a=p.children,Zu(h,p)?a=null:_!==null&&Zu(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Qa(t,i,q_,null,null,r),ws._currentValue=h),Pr(t,i),it(t,i,a,r),i.child;case 6:return t===null&&_e&&((t=r=He)&&(r=xT(r,i.pendingProps,Pt),r!==null?(i.stateNode=r,tt=i,He=null,t=!0):t=!1),t||Pn(i)),null;case 13:return Fh(t,i,r);case 4:return lt(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Ri(i,null,a,r):it(t,i,a,r),i.child;case 11:return kh(t,i,i.type,i.pendingProps,r);case 7:return it(t,i,i.pendingProps,r),i.child;case 8:return it(t,i,i.pendingProps.children,r),i.child;case 12:return it(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,Hn(i,i.type,a.value),it(t,i,a.children,r),i.child;case 9:return h=i.type._context,a=i.pendingProps.children,Ei(i),h=nt(h),a=a(h),i.flags|=1,it(t,i,a,r),i.child;case 14:return Ph(t,i,i.type,i.pendingProps,r);case 15:return Hh(t,i,i.type,i.pendingProps,r);case 19:return Yh(t,i,r);case 31:return Z_(t,i,r);case 22:return Gh(t,i,r,i.pendingProps);case 24:return Ei(i),a=nt(Ye),t===null?(h=Va(),h===null&&(h=Le,p=Ga(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=r),h=p),i.memoizedState={parent:a,cache:h},za(i),Hn(i,Ye,h)):((t.lanes&r)!==0&&(qa(t,i),as(i,null,null,r),ls()),h=t.memoizedState,p=i.memoizedState,h.parent!==a?(h={parent:a,cache:a},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Hn(i,Ye,a)):(a=p.cache,Hn(i,Ye,a),a!==h.cache&&Ha(i,[Ye],r,!0))),it(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function mn(t){t.flags|=4}function Au(t,i,r,a,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Tp())t.flags|=8192;else throw Ai=Er,Ba}else t.flags&=-16777217}function Xh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!um(i))if(Tp())t.flags|=8192;else throw Ai=Er,Ba}function Gr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?If():536870912,t.lanes|=i,ho|=i)}function ps(t,i){if(!_e)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ge(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function j_(t,i,r){var a=i.pendingProps;switch(Da(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(i),null;case 1:return Ge(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),fn(Ye),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ji(i)?mn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,La())),Ge(i),null;case 26:var h=i.type,p=i.memoizedState;return t===null?(mn(i),p!==null?(Ge(i),Xh(i,p)):(Ge(i),Au(i,h,null,a,r))):p?p!==t.memoizedState?(mn(i),Ge(i),Xh(i,p)):(Ge(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&mn(i),Ge(i),Au(i,h,t,a,r)),null;case 27:if($s(i),r=he.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&mn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ge(i),null}t=Q.current,ji(i)?Id(i):(t=tm(h,a,r),i.stateNode=t,mn(i))}return Ge(i),null;case 5:if($s(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&mn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ge(i),null}if(p=Q.current,ji(i))Id(i);else{var _=jr(he.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?_.createElement("select",{is:a.is}):_.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?_.createElement(h,{is:a.is}):_.createElement(h)}}p[et]=i,p[dt]=a;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=p;e:switch(ot(p,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&mn(i)}}return Ge(i),Au(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&mn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=he.current,ji(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,h=tt,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[et]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||Fp(t.nodeValue,r)),t||Pn(i,!0)}else t=jr(t).createTextNode(a),t[et]=i,i.stateNode=t}return Ge(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=ji(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[et]=i}else _i(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),t=!1}else r=La(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Rt(i),i):(Rt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ge(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ji(i),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[et]=i}else _i(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),h=!1}else h=La(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rt(i),i):(Rt(i),null)}return Rt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==h&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Gr(i,i.updateQueue),Ge(i),null);case 4:return qe(),t===null&&Yu(i.stateNode.containerInfo),Ge(i),null;case 10:return fn(i.type),Ge(i),null;case 19:if(B(Fe),a=i.memoizedState,a===null)return Ge(i),null;if(h=(i.flags&128)!==0,p=a.rendering,p===null)if(h)ps(a,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Rr(t),p!==null){for(i.flags|=128,ps(a,!1),t=p.updateQueue,i.updateQueue=t,Gr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Sd(r,t),r=r.sibling;return K(Fe,Fe.current&1|2),_e&&un(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&_t()>qr&&(i.flags|=128,h=!0,ps(a,!1),i.lanes=4194304)}else{if(!h)if(t=Rr(p),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Gr(i,t),ps(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!_e)return Ge(i),null}else 2*_t()-a.renderingStartTime>qr&&r!==536870912&&(i.flags|=128,h=!0,ps(a,!1),i.lanes=4194304);a.isBackwards?(p.sibling=i.child,i.child=p):(t=a.last,t!==null?t.sibling=p:i.child=p,a.last=p)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_t(),t.sibling=null,r=Fe.current,K(Fe,h?r&1|2:r&1),_e&&un(i,a.treeForkCount),t):(Ge(i),null);case 22:case 23:return Rt(i),Ka(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(Ge(i),i.subtreeFlags&6&&(i.flags|=8192)):Ge(i),r=i.updateQueue,r!==null&&Gr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&B(Si),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),fn(Ye),Ge(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eT(t,i){switch(Da(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return fn(Ye),qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 31:if(i.memoizedState!==null){if(Rt(i),i.alternate===null)throw Error(s(340));_i()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));_i()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return B(Fe),null;case 4:return qe(),null;case 10:return fn(i.type),null;case 22:case 23:return Rt(i),Ka(),t!==null&&B(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return fn(Ye),null;case 25:return null;default:return null}}function $h(t,i){switch(Da(i),i.tag){case 3:fn(Ye),qe();break;case 26:case 27:case 5:$s(i);break;case 4:qe();break;case 31:i.memoizedState!==null&&Rt(i);break;case 13:Rt(i);break;case 19:B(Fe);break;case 10:fn(i.type);break;case 22:case 23:Rt(i),Ka(),t!==null&&B(Si);break;case 24:fn(Ye)}}function ms(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var h=a.next;r=h;do{if((r.tag&t)===t){a=void 0;var p=r.create,_=r.inst;a=p(),_.destroy=a}r=r.next}while(r!==h)}}catch(S){Ie(i,i.return,S)}}function qn(t,i,r){try{var a=i.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var p=h.next;a=p;do{if((a.tag&t)===t){var _=a.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var R=r,M=S;try{M()}catch(H){Ie(h,R,H)}}}a=a.next}while(a!==p)}}catch(H){Ie(i,i.return,H)}}function Qh(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Vd(i,r)}catch(a){Ie(t,t.return,a)}}}function Zh(t,i,r){r.props=Ii(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Ie(t,i,a)}}function gs(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(h){Ie(t,i,h)}}function jt(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(h){Ie(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ie(t,i,h)}else r.current=null}function Wh(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(h){Ie(t,t.return,h)}}function Ru(t,i,r){try{var a=t.stateNode;ST(a,t.type,r,i),a[dt]=i}catch(h){Ie(t,t.return,h)}}function jh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qn(t.type)||t.tag===4}function bu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iu(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=rn));else if(a!==4&&(a===27&&Qn(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Iu(t,i,r),t=t.sibling;t!==null;)Iu(t,i,r),t=t.sibling}function Or(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&Qn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Or(t,i,r),t=t.sibling;t!==null;)Or(t,i,r),t=t.sibling}function ep(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ot(i,a,r),i[et]=t,i[dt]=r}catch(p){Ie(t,t.return,p)}}var gn=!1,$e=!1,wu=!1,tp=typeof WeakSet=="function"?WeakSet:Set,We=null;function tT(t,i){if(t=t.containerInfo,$u=rl,t=hd(t),Ea(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var h=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var _=0,S=-1,R=-1,M=0,H=0,O=t,D=null;t:for(;;){for(var k;O!==r||h!==0&&O.nodeType!==3||(S=_+h),O!==p||a!==0&&O.nodeType!==3||(R=_+a),O.nodeType===3&&(_+=O.nodeValue.length),(k=O.firstChild)!==null;)D=O,O=k;for(;;){if(O===t)break t;if(D===r&&++M===h&&(S=_),D===p&&++H===a&&(R=_),(k=O.nextSibling)!==null)break;O=D,D=O.parentNode}O=k}r=S===-1||R===-1?null:{start:S,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qu={focusedElem:t,selectionRange:r},rl=!1,We=i;We!==null;)if(i=We,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,We=t;else for(;We!==null;){switch(i=We,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,r=i,h=p.memoizedProps,p=p.memoizedState,a=r.stateNode;try{var $=Ii(r.type,h);t=a.getSnapshotBeforeUpdate($,p),a.__reactInternalSnapshotBeforeUpdate=t}catch(ie){Ie(r,r.return,ie)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)ju(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ju(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,We=t;break}We=i.return}}function np(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:vn(t,r),a&4&&ms(5,r);break;case 1:if(vn(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Ie(r,r.return,_)}else{var h=Ii(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ie(r,r.return,_)}}a&64&&Qh(r),a&512&&gs(r,r.return);break;case 3:if(vn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Vd(t,i)}catch(_){Ie(r,r.return,_)}}break;case 27:i===null&&a&4&&ep(r);case 26:case 5:vn(t,r),i===null&&a&4&&Wh(r),a&512&&gs(r,r.return);break;case 12:vn(t,r);break;case 31:vn(t,r),a&4&&sp(t,r);break;case 13:vn(t,r),a&4&&rp(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=cT.bind(null,r),NT(t,r))));break;case 22:if(a=r.memoizedState!==null||gn,!a){i=i!==null&&i.memoizedState!==null||$e,h=gn;var p=$e;gn=a,($e=i)&&!p?_n(t,r,(r.subtreeFlags&8772)!==0):vn(t,r),gn=h,$e=p}break;case 30:break;default:vn(t,r)}}function ip(t){var i=t.alternate;i!==null&&(t.alternate=null,ip(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Oe=null,pt=!1;function yn(t,i,r){for(r=r.child;r!==null;)op(t,i,r),r=r.sibling}function op(t,i,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Vo,r)}catch{}switch(r.tag){case 26:$e||jt(r,i),yn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$e||jt(r,i);var a=Oe,h=pt;Qn(r.type)&&(Oe=r.stateNode,pt=!1),yn(t,i,r),Rs(r.stateNode),Oe=a,pt=h;break;case 5:$e||jt(r,i);case 6:if(a=Oe,h=pt,Oe=null,yn(t,i,r),Oe=a,pt=h,Oe!==null)if(pt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(r.stateNode)}catch(p){Ie(r,i,p)}else try{Oe.removeChild(r.stateNode)}catch(p){Ie(r,i,p)}break;case 18:Oe!==null&&(pt?(t=Oe,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Eo(t)):Qp(Oe,r.stateNode));break;case 4:a=Oe,h=pt,Oe=r.stateNode.containerInfo,pt=!0,yn(t,i,r),Oe=a,pt=h;break;case 0:case 11:case 14:case 15:qn(2,r,i),$e||qn(4,r,i),yn(t,i,r);break;case 1:$e||(jt(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&Zh(r,i,a)),yn(t,i,r);break;case 21:yn(t,i,r);break;case 22:$e=(a=$e)||r.memoizedState!==null,yn(t,i,r),$e=a;break;default:yn(t,i,r)}}function sp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(r){Ie(i,i.return,r)}}}function rp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(r){Ie(i,i.return,r)}}function nT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new tp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new tp),i;default:throw Error(s(435,t.tag))}}function Vr(t,i){var r=nT(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var h=fT.bind(null,t,a);a.then(h,h)}})}function mt(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var h=r[a],p=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Qn(S.type)){Oe=S.stateNode,pt=!1;break e}break;case 5:Oe=S.stateNode,pt=!1;break e;case 3:case 4:Oe=S.stateNode.containerInfo,pt=!0;break e}S=S.return}if(Oe===null)throw Error(s(160));op(p,_,h),Oe=null,pt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)lp(i,t),i=i.sibling}var qt=null;function lp(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mt(i,t),gt(t),a&4&&(qn(3,t,t.return),ms(3,t),qn(5,t,t.return));break;case 1:mt(i,t),gt(t),a&512&&($e||r===null||jt(r,r.return)),a&64&&gn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var h=qt;if(mt(i,t),gt(t),a&512&&($e||r===null||jt(r,r.return)),a&4){var p=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":p=h.getElementsByTagName("title")[0],(!p||p[qo]||p[et]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(a),h.head.insertBefore(p,h.querySelector("head > title"))),ot(p,a,r),p[et]=t,Ze(p),a=p;break e;case"link":var _=lm("link","href",h).get(a+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(p=_[S],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break t}}p=h.createElement(a),ot(p,a,r),h.head.appendChild(p);break;case"meta":if(_=lm("meta","content",h).get(a+(r.content||""))){for(S=0;S<_.length;S++)if(p=_[S],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break t}}p=h.createElement(a),ot(p,a,r),h.head.appendChild(p);break;default:throw Error(s(468,a))}p[et]=t,Ze(p),a=p}t.stateNode=a}else am(h,t.type,t.stateNode);else t.stateNode=rm(h,a,t.memoizedProps);else p!==a?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,a===null?am(h,t.type,t.stateNode):rm(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Ru(t,t.memoizedProps,r.memoizedProps)}break;case 27:mt(i,t),gt(t),a&512&&($e||r===null||jt(r,r.return)),r!==null&&a&4&&Ru(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mt(i,t),gt(t),a&512&&($e||r===null||jt(r,r.return)),t.flags&32){h=t.stateNode;try{qi(h,"")}catch($){Ie(t,t.return,$)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,Ru(t,h,r!==null?r.memoizedProps:h)),a&1024&&(wu=!0);break;case 6:if(mt(i,t),gt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch($){Ie(t,t.return,$)}}break;case 3:if(nl=null,h=qt,qt=el(i.containerInfo),mt(i,t),qt=h,gt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch($){Ie(t,t.return,$)}wu&&(wu=!1,ap(t));break;case 4:a=qt,qt=el(t.stateNode.containerInfo),mt(i,t),gt(t),qt=a;break;case 12:mt(i,t),gt(t);break;case 31:mt(i,t),gt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Vr(t,a)));break;case 13:mt(i,t),gt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zr=_t()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Vr(t,a)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,M=gn,H=$e;if(gn=M||h,$e=H||R,mt(i,t),$e=H,gn=M,gt(t),a&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||R||gn||$e||wi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){R=r=i;try{if(p=R.stateNode,h)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=R.stateNode;var O=R.memoizedProps.style,D=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch($){Ie(R,R.return,$)}}}else if(i.tag===6){if(r===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch($){Ie(R,R.return,$)}}}else if(i.tag===18){if(r===null){R=i;try{var k=R.stateNode;h?Zp(k,!0):Zp(R.stateNode,!1)}catch($){Ie(R,R.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,Vr(t,r))));break;case 19:mt(i,t),gt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Vr(t,a)));break;case 30:break;case 21:break;default:mt(i,t),gt(t)}}function gt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(jh(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,p=bu(t);Or(t,p,h);break;case 5:var _=r.stateNode;r.flags&32&&(qi(_,""),r.flags&=-33);var S=bu(t);Or(t,S,_);break;case 3:case 4:var R=r.stateNode.containerInfo,M=bu(t);Iu(t,M,R);break;default:throw Error(s(161))}}catch(H){Ie(t,t.return,H)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ap(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)np(t,i.alternate,i),i=i.sibling}function wi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),wi(i);break;case 1:jt(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Zh(i,i.return,r),wi(i);break;case 27:Rs(i.stateNode);case 26:case 5:jt(i,i.return),wi(i);break;case 22:i.memoizedState===null&&wi(i);break;case 30:wi(i);break;default:wi(i)}t=t.sibling}}function _n(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,h=t,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:_n(h,p,r),ms(4,p);break;case 1:if(_n(h,p,r),a=p,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Ie(a,a.return,M)}if(a=p,h=a.updateQueue,h!==null){var S=a.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Od(R[h],S)}catch(M){Ie(a,a.return,M)}}r&&_&64&&Qh(p),gs(p,p.return);break;case 27:ep(p);case 26:case 5:_n(h,p,r),r&&a===null&&_&4&&Wh(p),gs(p,p.return);break;case 12:_n(h,p,r);break;case 31:_n(h,p,r),r&&_&4&&sp(h,p);break;case 13:_n(h,p,r),r&&_&4&&rp(h,p);break;case 22:p.memoizedState===null&&_n(h,p,r),gs(p,p.return);break;case 30:break;default:_n(h,p,r)}i=i.sibling}}function xu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ns(r))}function Nu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ns(t))}function Ft(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)up(t,i,r,a),i=i.sibling}function up(t,i,r,a){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ft(t,i,r,a),h&2048&&ms(9,i);break;case 1:Ft(t,i,r,a);break;case 3:Ft(t,i,r,a),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ns(t)));break;case 12:if(h&2048){Ft(t,i,r,a),t=i.stateNode;try{var p=i.memoizedProps,_=p.id,S=p.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ie(i,i.return,R)}}else Ft(t,i,r,a);break;case 31:Ft(t,i,r,a);break;case 13:Ft(t,i,r,a);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?Ft(t,i,r,a):ys(t,i):p._visibility&2?Ft(t,i,r,a):(p._visibility|=2,uo(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),h&2048&&xu(_,i);break;case 24:Ft(t,i,r,a),h&2048&&Nu(i.alternate,i);break;default:Ft(t,i,r,a)}}function uo(t,i,r,a,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,_=i,S=r,R=a,M=_.flags;switch(_.tag){case 0:case 11:case 15:uo(p,_,S,R,h),ms(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?uo(p,_,S,R,h):ys(p,_):(H._visibility|=2,uo(p,_,S,R,h)),h&&M&2048&&xu(_.alternate,_);break;case 24:uo(p,_,S,R,h),h&&M&2048&&Nu(_.alternate,_);break;default:uo(p,_,S,R,h)}i=i.sibling}}function ys(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,h=a.flags;switch(a.tag){case 22:ys(r,a),h&2048&&xu(a.alternate,a);break;case 24:ys(r,a),h&2048&&Nu(a.alternate,a);break;default:ys(r,a)}i=i.sibling}}var vs=8192;function co(t,i,r){if(t.subtreeFlags&vs)for(t=t.child;t!==null;)cp(t,i,r),t=t.sibling}function cp(t,i,r){switch(t.tag){case 26:co(t,i,r),t.flags&vs&&t.memoizedState!==null&&zT(r,qt,t.memoizedState,t.memoizedProps);break;case 5:co(t,i,r);break;case 3:case 4:var a=qt;qt=el(t.stateNode.containerInfo),co(t,i,r),qt=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=vs,vs=16777216,co(t,i,r),vs=a):co(t,i,r));break;default:co(t,i,r)}}function fp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _s(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];We=a,hp(a,t)}fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 0:case 11:case 15:_s(t),t.flags&2048&&qn(9,t,t.return);break;case 3:_s(t);break;case 12:_s(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Br(t)):_s(t);break;default:_s(t)}}function Br(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];We=a,hp(a,t)}fp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Br(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Br(i));break;default:Br(i)}t=t.sibling}}function hp(t,i){for(;We!==null;){var r=We;switch(r.tag){case 0:case 11:case 15:qn(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ns(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,We=a;else e:for(r=t;We!==null;){a=We;var h=a.sibling,p=a.return;if(ip(a),a===r){We=null;break e}if(h!==null){h.return=p,We=h;break e}We=p}}}var iT={getCacheForType:function(t){var i=nt(Ye),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return nt(Ye).controller.signal}},oT=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,pe=null,ye=0,be=0,bt=null,Fn=!1,fo=!1,Mu=!1,Tn=0,Be=0,Jn=0,xi=0,Du=0,It=0,ho=0,Ts=null,yt=null,Uu=!1,zr=0,pp=0,qr=1/0,Fr=null,Yn=null,Qe=0,Kn=null,po=null,En=0,Lu=0,ku=null,mp=null,Es=0,Pu=null;function wt(){return(Ae&2)!==0&&ye!==0?ye&-ye:P.T!==null?zu():Mf()}function gp(){if(It===0)if((ye&536870912)===0||_e){var t=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),It=t}else It=536870912;return t=At.current,t!==null&&(t.flags|=32),It}function vt(t,i,r){(t===Le&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Xn(t,ye,It,!1)),zo(t,r),((Ae&2)===0||t!==Le)&&(t===Le&&((Ae&2)===0&&(xi|=r),Be===4&&Xn(t,ye,It,!1)),en(t))}function yp(t,i,r){if((Ae&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Bo(t,i),h=a?lT(t,i):Gu(t,i,!0),p=a;do{if(h===0){fo&&!a&&Xn(t,i,0,!1);break}else{if(r=t.current.alternate,p&&!sT(r)){h=Gu(t,i,!1),p=!1;continue}if(h===2){if(p=i,t.errorRecoveryDisabledLanes&p)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Ts;var R=S.current.memoizedState.isDehydrated;if(R&&(mo(S,_).flags|=256),_=Gu(S,_,!1),_!==2){if(Mu&&!R){S.errorRecoveryDisabledLanes|=p,xi|=p,h=4;break e}p=yt,yt=h,p!==null&&(yt===null?yt=p:yt.push.apply(yt,p))}h=_}if(p=!1,h!==2)continue}}if(h===1){mo(t,0),Xn(t,i,0,!0);break}e:{switch(a=t,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xn(a,i,It,!Fn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=zr+300-_t(),10<h)){if(Xn(a,i,It,!Fn),er(a,0,!0)!==0)break e;En=i,a.timeoutHandle=Xp(vp.bind(null,a,r,yt,Fr,Uu,i,It,xi,ho,Fn,p,"Throttled",-0,0),h);break e}vp(a,r,yt,Fr,Uu,i,It,xi,ho,Fn,p,null,-0,0)}}break}while(!0);en(t)}function vp(t,i,r,a,h,p,_,S,R,M,H,O,D,k){if(t.timeoutHandle=-1,O=i.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},cp(i,p,O);var $=(p&62914560)===p?zr-_t():(p&4194048)===p?pp-_t():0;if($=qT(O,$),$!==null){En=p,t.cancelPendingCommit=$(bp.bind(null,t,i,p,r,a,h,_,S,R,H,O,null,D,k)),Xn(t,p,_,!M);return}}bp(t,i,p,r,a,h,_,S,R)}function sT(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var h=r[a],p=h.getSnapshot;h=h.value;try{if(!St(p(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,r,a){i&=~Du,i&=~xi,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var h=i;0<h;){var p=31-Et(h),_=1<<p;a[p]=-1,h&=~_}r!==0&&wf(t,r,i)}function Jr(){return(Ae&6)===0?(Ss(0),!1):!0}function Hu(){if(pe!==null){if(be===0)var t=pe.return;else t=pe,cn=Ti=null,ja(t),oo=null,os=0,t=pe;for(;t!==null;)$h(t.alternate,t),t=t.return;pe=null}}function mo(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,RT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),En=0,Hu(),Le=t,pe=r=an(t.current,null),ye=i,be=0,bt=null,Fn=!1,fo=Bo(t,i),Mu=!1,ho=It=Du=xi=Jn=Be=0,yt=Ts=null,Uu=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var h=31-Et(a),p=1<<h;i|=t[h],a&=~p}return Tn=i,dr(),r}function _p(t,i){ue=null,P.H=ds,i===io||i===Tr?(i=kd(),be=3):i===Ba?(i=kd(),be=4):be=i===mu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bt=i,pe===null&&(Be=1,Lr(t,Ut(i,t.current)))}function Tp(){var t=At.current;return t===null?!0:(ye&4194048)===ye?Ht===null:(ye&62914560)===ye||(ye&536870912)!==0?t===Ht:!1}function Ep(){var t=P.H;return P.H=ds,t===null?ds:t}function Sp(){var t=P.A;return P.A=iT,t}function Yr(){Be=4,Fn||(ye&4194048)!==ye&&At.current!==null||(fo=!0),(Jn&134217727)===0&&(xi&134217727)===0||Le===null||Xn(Le,ye,It,!1)}function Gu(t,i,r){var a=Ae;Ae|=2;var h=Ep(),p=Sp();(Le!==t||ye!==i)&&(Fr=null,mo(t,i)),i=!1;var _=Be;e:do try{if(be!==0&&pe!==null){var S=pe,R=bt;switch(be){case 8:Hu(),_=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(i=!0);var M=be;if(be=0,bt=null,go(t,S,R,M),r&&fo){_=0;break e}break;default:M=be,be=0,bt=null,go(t,S,R,M)}}rT(),_=Be;break}catch(H){_p(t,H)}while(!0);return i&&t.shellSuspendCounter++,cn=Ti=null,Ae=a,P.H=h,P.A=p,pe===null&&(Le=null,ye=0,dr()),_}function rT(){for(;pe!==null;)Cp(pe)}function lT(t,i){var r=Ae;Ae|=2;var a=Ep(),h=Sp();Le!==t||ye!==i?(Fr=null,qr=_t()+500,mo(t,i)):fo=Bo(t,i);e:do try{if(be!==0&&pe!==null){i=pe;var p=bt;t:switch(be){case 1:be=0,bt=null,go(t,i,p,1);break;case 2:case 9:if(Ud(p)){be=0,bt=null,Ap(i);break}i=function(){be!==2&&be!==9||Le!==t||(be=7),en(t)},p.then(i,i);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Ud(p)?(be=0,bt=null,Ap(i)):(be=0,bt=null,go(t,i,p,7));break;case 5:var _=null;switch(pe.tag){case 26:_=pe.memoizedState;case 5:case 27:var S=pe;if(_?um(_):S.stateNode.complete){be=0,bt=null;var R=S.sibling;if(R!==null)pe=R;else{var M=S.return;M!==null?(pe=M,Kr(M)):pe=null}break t}}be=0,bt=null,go(t,i,p,5);break;case 6:be=0,bt=null,go(t,i,p,6);break;case 8:Hu(),Be=6;break e;default:throw Error(s(462))}}aT();break}catch(H){_p(t,H)}while(!0);return cn=Ti=null,P.H=a,P.A=h,Ae=r,pe!==null?0:(Le=null,ye=0,dr(),Be)}function aT(){for(;pe!==null&&!Mv();)Cp(pe)}function Cp(t){var i=Kh(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,i===null?Kr(t):pe=i}function Ap(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Bh(r,i,i.pendingProps,i.type,void 0,ye);break;case 11:i=Bh(r,i,i.pendingProps,i.type.render,i.ref,ye);break;case 5:ja(i);default:$h(r,i),i=pe=Sd(i,Tn),i=Kh(r,i,Tn)}t.memoizedProps=t.pendingProps,i===null?Kr(t):pe=i}function go(t,i,r,a){cn=Ti=null,ja(i),oo=null,os=0;var h=i.return;try{if(Q_(t,h,i,r,ye)){Be=1,Lr(t,Ut(r,t.current)),pe=null;return}}catch(p){if(h!==null)throw pe=h,p;Be=1,Lr(t,Ut(r,t.current)),pe=null;return}i.flags&32768?(_e||a===1?t=!0:fo||(ye&536870912)!==0?t=!1:(Fn=t=!0,(a===2||a===9||a===3||a===6)&&(a=At.current,a!==null&&a.tag===13&&(a.flags|=16384))),Rp(i,t)):Kr(i)}function Kr(t){var i=t;do{if((i.flags&32768)!==0){Rp(i,Fn);return}t=i.return;var r=j_(i.alternate,i,Tn);if(r!==null){pe=r;return}if(i=i.sibling,i!==null){pe=i;return}pe=i=t}while(i!==null);Be===0&&(Be=5)}function Rp(t,i){do{var r=eT(t.alternate,t);if(r!==null){r.flags&=32767,pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){pe=t;return}pe=t=r}while(t!==null);Be=6,pe=null}function bp(t,i,r,a,h,p,_,S,R){t.cancelPendingCommit=null;do Xr();while(Qe!==0);if((Ae&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=ba,Bv(t,r,p,_,S,R),t===Le&&(pe=Le=null,ye=0),po=i,Kn=t,En=r,Lu=p,ku=h,mp=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dT(Qs,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,h=q.p,q.p=2,_=Ae,Ae|=4;try{tT(t,i,r)}finally{Ae=_,q.p=h,P.T=a}}Qe=1,Ip(),wp(),xp()}}function Ip(){if(Qe===1){Qe=0;var t=Kn,i=po,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var a=q.p;q.p=2;var h=Ae;Ae|=4;try{lp(i,t);var p=Qu,_=hd(t.containerInfo),S=p.focusedElem,R=p.selectionRange;if(_!==S&&S&&S.ownerDocument&&dd(S.ownerDocument.documentElement,S)){if(R!==null&&Ea(S)){var M=R.start,H=R.end;if(H===void 0&&(H=M),"selectionStart"in S)S.selectionStart=M,S.selectionEnd=Math.min(H,S.value.length);else{var O=S.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var k=D.getSelection(),$=S.textContent.length,ie=Math.min(R.start,$),Me=R.end===void 0?ie:Math.min(R.end,$);!k.extend&&ie>Me&&(_=Me,Me=ie,ie=_);var w=fd(S,ie),b=fd(S,Me);if(w&&b&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==b.node||k.focusOffset!==b.offset)){var N=O.createRange();N.setStart(w.node,w.offset),k.removeAllRanges(),ie>Me?(k.addRange(N),k.extend(b.node,b.offset)):(N.setEnd(b.node,b.offset),k.addRange(N))}}}}for(O=[],k=S;k=k.parentNode;)k.nodeType===1&&O.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<O.length;S++){var G=O[S];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}rl=!!$u,Qu=$u=null}finally{Ae=h,q.p=a,P.T=r}}t.current=i,Qe=2}}function wp(){if(Qe===2){Qe=0;var t=Kn,i=po,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var a=q.p;q.p=2;var h=Ae;Ae|=4;try{np(t,i.alternate,i)}finally{Ae=h,q.p=a,P.T=r}}Qe=3}}function xp(){if(Qe===4||Qe===3){Qe=0,Dv();var t=Kn,i=po,r=En,a=mp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qe=5:(Qe=0,po=Kn=null,Np(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Yn=null),na(r),i=i.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Vo,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=P.T,h=q.p,q.p=2,P.T=null;try{for(var p=t.onRecoverableError,_=0;_<a.length;_++){var S=a[_];p(S.value,{componentStack:S.stack})}}finally{P.T=i,q.p=h}}(En&3)!==0&&Xr(),en(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Pu?Es++:(Es=0,Pu=t):Es=0,Ss(0)}}function Np(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ns(i)))}function Xr(){return Ip(),wp(),xp(),Mp()}function Mp(){if(Qe!==5)return!1;var t=Kn,i=Lu;Lu=0;var r=na(En),a=P.T,h=q.p;try{q.p=32>r?32:r,P.T=null,r=ku,ku=null;var p=Kn,_=En;if(Qe=0,po=Kn=null,En=0,(Ae&6)!==0)throw Error(s(331));var S=Ae;if(Ae|=4,dp(p.current),up(p,p.current,_,r),Ae=S,Ss(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Vo,p)}catch{}return!0}finally{q.p=h,P.T=a,Np(t,i)}}function Dp(t,i,r){i=Ut(r,i),i=pu(t.stateNode,i,2),t=Vn(t,i,2),t!==null&&(zo(t,2),en(t))}function Ie(t,i,r){if(t.tag===3)Dp(t,t,r);else for(;i!==null;){if(i.tag===3){Dp(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yn===null||!Yn.has(a))){t=Ut(r,t),r=Uh(2),a=Vn(i,r,2),a!==null&&(Lh(r,a,i,t),zo(a,2),en(a));break}}i=i.return}}function Ou(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new oT;var h=new Set;a.set(i,h)}else h=a.get(i),h===void 0&&(h=new Set,a.set(i,h));h.has(r)||(Mu=!0,h.add(r),t=uT.bind(null,t,i,r),i.then(t,t))}function uT(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Le===t&&(ye&r)===r&&(Be===4||Be===3&&(ye&62914560)===ye&&300>_t()-zr?(Ae&2)===0&&mo(t,0):Du|=r,ho===ye&&(ho=0)),en(t)}function Up(t,i){i===0&&(i=If()),t=yi(t,i),t!==null&&(zo(t,i),en(t))}function cT(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Up(t,r)}function fT(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),Up(t,r)}function dT(t,i){return Wl(t,i)}var $r=null,yo=null,Vu=!1,Qr=!1,Bu=!1,$n=0;function en(t){t!==yo&&t.next===null&&(yo===null?$r=yo=t:yo=yo.next=t),Qr=!0,Vu||(Vu=!0,pT())}function Ss(t,i){if(!Bu&&Qr){Bu=!0;do for(var r=!1,a=$r;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var p=0;else{var _=a.suspendedLanes,S=a.pingedLanes;p=(1<<31-Et(42|t)+1)-1,p&=h&~(_&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,Hp(a,p))}else p=ye,p=er(a,a===Le?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Bo(a,p)||(r=!0,Hp(a,p));a=a.next}while(r);Bu=!1}}function hT(){Lp()}function Lp(){Qr=Vu=!1;var t=0;$n!==0&&AT()&&(t=$n);for(var i=_t(),r=null,a=$r;a!==null;){var h=a.next,p=kp(a,i);p===0?(a.next=null,r===null?$r=h:r.next=h,h===null&&(yo=r)):(r=a,(t!==0||(p&3)!==0)&&(Qr=!0)),a=h}Qe!==0&&Qe!==5||Ss(t),$n!==0&&($n=0)}function kp(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var _=31-Et(p),S=1<<_,R=h[_];R===-1?((S&r)===0||(S&a)!==0)&&(h[_]=Vv(S,i)):R<=i&&(t.expiredLanes|=S),p&=~S}if(i=Le,r=ye,r=er(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(be===2||be===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&jl(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bo(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&jl(a),na(r)){case 2:case 8:r=Rf;break;case 32:r=Qs;break;case 268435456:r=bf;break;default:r=Qs}return a=Pp.bind(null,t),r=Wl(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&jl(a),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,i){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Xr()&&t.callbackNode!==r)return null;var a=ye;return a=er(t,t===Le?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(yp(t,a,i),kp(t,_t()),t.callbackNode!=null&&t.callbackNode===r?Pp.bind(null,t):null)}function Hp(t,i){if(Xr())return null;yp(t,i,!0)}function pT(){bT(function(){(Ae&6)!==0?Wl(Af,hT):Lp()})}function zu(){if($n===0){var t=to;t===0&&(t=Zs,Zs<<=1,(Zs&261888)===0&&(Zs=256)),$n=t}return $n}function Gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:or(""+t)}function Op(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function mT(t,i,r,a,h){if(i==="submit"&&r&&r.stateNode===h){var p=Gp((h[dt]||null).action),_=a.submitter;_&&(i=(i=_[dt]||null)?Gp(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var S=new ar("action","action",null,a,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($n!==0){var R=_?Op(h,_):new FormData(h);au(r,{pending:!0,data:R,method:h.method,action:p},null,R)}}else typeof p=="function"&&(S.preventDefault(),R=_?Op(h,_):new FormData(h),au(r,{pending:!0,data:R,method:h.method,action:p},p,R))},currentTarget:h}]})}}for(var qu=0;qu<Ra.length;qu++){var Fu=Ra[qu],gT=Fu.toLowerCase(),yT=Fu[0].toUpperCase()+Fu.slice(1);zt(gT,"on"+yT)}zt(gd,"onAnimationEnd"),zt(yd,"onAnimationIteration"),zt(vd,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(U_,"onTransitionRun"),zt(L_,"onTransitionStart"),zt(k_,"onTransitionCancel"),zt(_d,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function Vp(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],h=a.event;a=a.listeners;e:{var p=void 0;if(i)for(var _=a.length-1;0<=_;_--){var S=a[_],R=S.instance,M=S.currentTarget;if(S=S.listener,R!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=M;try{p(h)}catch(H){fr(H)}h.currentTarget=null,p=R}else for(_=0;_<a.length;_++){if(S=a[_],R=S.instance,M=S.currentTarget,S=S.listener,R!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=M;try{p(h)}catch(H){fr(H)}h.currentTarget=null,p=R}}}}function me(t,i){var r=i[ia];r===void 0&&(r=i[ia]=new Set);var a=t+"__bubble";r.has(a)||(Bp(i,t,2,!1),r.add(a))}function Ju(t,i,r){var a=0;i&&(a|=4),Bp(r,t,a,i)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[Zr]){t[Zr]=!0,Lf.forEach(function(r){r!=="selectionchange"&&(vT.has(r)||Ju(r,!1,t),Ju(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zr]||(i[Zr]=!0,Ju("selectionchange",!1,i))}}function Bp(t,i,r,a){switch(gm(i)){case 2:var h=YT;break;case 8:h=KT;break;default:h=lc}r=h.bind(null,i,r,t),h=void 0,!da||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function Ku(t,i,r,a,h){var p=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var S=a.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=a.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Gi(S),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){a=p=_;continue e}S=S.parentNode}}a=a.return}Yf(function(){var M=p,H=ca(r),O=[];e:{var D=Td.get(t);if(D!==void 0){var k=ar,$=t;switch(t){case"keypress":if(rr(r)===0)break e;case"keydown":case"keyup":k=f_;break;case"focusin":$="focus",k=ga;break;case"focusout":$="blur",k=ga;break;case"beforeblur":case"afterblur":k=ga;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=p_;break;case gd:case yd:case vd:k=n_;break;case _d:k=g_;break;case"scroll":case"scrollend":k=Zv;break;case"wheel":k=v_;break;case"copy":case"cut":case"paste":k=o_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zf;break;case"toggle":case"beforetoggle":k=T_}var ie=(i&4)!==0,Me=!ie&&(t==="scroll"||t==="scrollend"),w=ie?D!==null?D+"Capture":null:D;ie=[];for(var b=M,N;b!==null;){var G=b;if(N=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||N===null||w===null||(G=Jo(b,w),G!=null&&ie.push(As(b,G,N))),Me)break;b=b.return}0<ie.length&&(D=new k(D,$,null,r,H),O.push({event:D,listeners:ie}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",D&&r!==ua&&($=r.relatedTarget||r.fromElement)&&(Gi($)||$[Hi]))break e;if((k||D)&&(D=H.window===H?H:(D=H.ownerDocument)?D.defaultView||D.parentWindow:window,k?($=r.relatedTarget||r.toElement,k=M,$=$?Gi($):null,$!==null&&(Me=c($),ie=$.tag,$!==Me||ie!==5&&ie!==27&&ie!==6)&&($=null)):(k=null,$=M),k!==$)){if(ie=$f,G="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(ie=Zf,G="onPointerLeave",w="onPointerEnter",b="pointer"),Me=k==null?D:Fo(k),N=$==null?D:Fo($),D=new ie(G,b+"leave",k,r,H),D.target=Me,D.relatedTarget=N,G=null,Gi(H)===M&&(ie=new ie(w,b+"enter",$,r,H),ie.target=N,ie.relatedTarget=Me,G=ie),Me=G,k&&$)t:{for(ie=_T,w=k,b=$,N=0,G=w;G;G=ie(G))N++;G=0;for(var ee=b;ee;ee=ie(ee))G++;for(;0<N-G;)w=ie(w),N--;for(;0<G-N;)b=ie(b),G--;for(;N--;){if(w===b||b!==null&&w===b.alternate){ie=w;break t}w=ie(w),b=ie(b)}ie=null}else ie=null;k!==null&&zp(O,D,k,ie,!1),$!==null&&Me!==null&&zp(O,Me,$,ie,!0)}}e:{if(D=M?Fo(M):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var Ee=sd;else if(id(D))if(rd)Ee=N_;else{Ee=w_;var W=I_}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&aa(M.elementType)&&(Ee=sd):Ee=x_;if(Ee&&(Ee=Ee(t,M))){od(O,Ee,r,H);break e}W&&W(t,D,M),t==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&la(D,"number",D.value)}switch(W=M?Fo(M):window,t){case"focusin":(id(W)||W.contentEditable==="true")&&(Ki=W,Sa=M,jo=null);break;case"focusout":jo=Sa=Ki=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,pd(O,r,H);break;case"selectionchange":if(D_)break;case"keydown":case"keyup":pd(O,r,H)}var ce;if(va)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Yi?td(t,r)&&(ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(Wf&&r.locale!=="ko"&&(Yi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Yi&&(ce=Kf()):(Un=H,ha="value"in Un?Un.value:Un.textContent,Yi=!0)),W=Wr(M,ve),0<W.length&&(ve=new Qf(ve,t,null,r,H),O.push({event:ve,listeners:W}),ce?ve.data=ce:(ce=nd(r),ce!==null&&(ve.data=ce)))),(ce=S_?C_(t,r):A_(t,r))&&(ve=Wr(M,"onBeforeInput"),0<ve.length&&(W=new Qf("onBeforeInput","beforeinput",null,r,H),O.push({event:W,listeners:ve}),W.data=ce)),mT(O,t,M,r,H)}Vp(O,i)})}function As(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Wr(t,i){for(var r=i+"Capture",a=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Jo(t,r),h!=null&&a.unshift(As(t,h,p)),h=Jo(t,i),h!=null&&a.push(As(t,h,p))),t.tag===3)return a;t=t.return}return[]}function _T(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,i,r,a,h){for(var p=i._reactName,_=[];r!==null&&r!==a;){var S=r,R=S.alternate,M=S.stateNode;if(S=S.tag,R!==null&&R===a)break;S!==5&&S!==26&&S!==27||M===null||(R=M,h?(M=Jo(r,p),M!=null&&_.unshift(As(r,M,R))):h||(M=Jo(r,p),M!=null&&_.push(As(r,M,R)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var TT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(ET,"")}function Fp(t,i){return i=qp(i),qp(t)===i}function Ne(t,i,r,a,h,p){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||qi(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&qi(t,""+a);break;case"className":nr(t,"class",a);break;case"tabIndex":nr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(t,r,a);break;case"style":Ff(t,a,p);break;case"data":if(i!=="object"){nr(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=or(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&Ne(t,i,"name",h.name,h,null),Ne(t,i,"formEncType",h.formEncType,h,null),Ne(t,i,"formMethod",h.formMethod,h,null),Ne(t,i,"formTarget",h.formTarget,h,null)):(Ne(t,i,"encType",h.encType,h,null),Ne(t,i,"method",h.method,h,null),Ne(t,i,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=or(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=rn);break;case"onScroll":a!=null&&me("scroll",t);break;case"onScrollEnd":a!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=or(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":me("beforetoggle",t),me("toggle",t),tr(t,"popover",a);break;case"xlinkActuate":sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":sn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":sn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":sn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":sn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tr(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$v.get(r)||r,tr(t,r,a))}}function Xu(t,i,r,a,h,p){switch(r){case"style":Ff(t,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?qi(t,a):(typeof a=="number"||typeof a=="bigint")&&qi(t,""+a);break;case"onScroll":a!=null&&me("scroll",t);break;case"onScrollEnd":a!=null&&me("scrollend",t);break;case"onClick":a!=null&&(t.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),p=t[dt]||null,p=p!=null?p[r]:null,typeof p=="function"&&t.removeEventListener(i,p,h),typeof a=="function")){typeof p!="function"&&p!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,h);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):tr(t,r,a)}}}function ot(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var a=!1,h=!1,p;for(p in r)if(r.hasOwnProperty(p)){var _=r[p];if(_!=null)switch(p){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ne(t,i,p,_,r,null)}}h&&Ne(t,i,"srcSet",r.srcSet,r,null),a&&Ne(t,i,"src",r.src,r,null);return;case"input":me("invalid",t);var S=p=_=h=null,R=null,M=null;for(a in r)if(r.hasOwnProperty(a)){var H=r[a];if(H!=null)switch(a){case"name":h=H;break;case"type":_=H;break;case"checked":R=H;break;case"defaultChecked":M=H;break;case"value":p=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ne(t,i,a,H,r,null)}}Vf(t,p,S,R,M,_,h,!1);return;case"select":me("invalid",t),a=_=p=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":_=S;break;case"multiple":a=S;default:Ne(t,i,h,S,r,null)}i=p,r=_,t.multiple=!!a,i!=null?zi(t,!!a,i,!1):r!=null&&zi(t,!!a,r,!0);return;case"textarea":me("invalid",t),p=h=a=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":a=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ne(t,i,_,S,r,null)}zf(t,a,h,p);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(a=r[R],a!=null))switch(R){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ne(t,i,R,a,r,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(a=0;a<Cs.length;a++)me(Cs[a],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(a=r[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ne(t,i,M,a,r,null)}return;default:if(aa(i)){for(H in r)r.hasOwnProperty(H)&&(a=r[H],a!==void 0&&Xu(t,i,H,a,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(a=r[S],a!=null&&Ne(t,i,S,a,r,null))}function ST(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,S=null,R=null,M=null,H=null;for(k in r){var O=r[k];if(r.hasOwnProperty(k)&&O!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=O;default:a.hasOwnProperty(k)||Ne(t,i,k,null,a,O)}}for(var D in a){var k=a[D];if(O=r[D],a.hasOwnProperty(D)&&(k!=null||O!=null))switch(D){case"type":p=k;break;case"name":h=k;break;case"checked":M=k;break;case"defaultChecked":H=k;break;case"value":_=k;break;case"defaultValue":S=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:k!==O&&Ne(t,i,D,k,a,O)}}ra(t,_,S,R,M,H,p,h);return;case"select":k=_=S=D=null;for(p in r)if(R=r[p],r.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":k=R;default:a.hasOwnProperty(p)||Ne(t,i,p,null,a,R)}for(h in a)if(p=a[h],R=r[h],a.hasOwnProperty(h)&&(p!=null||R!=null))switch(h){case"value":D=p;break;case"defaultValue":S=p;break;case"multiple":_=p;default:p!==R&&Ne(t,i,h,p,a,R)}i=S,r=_,a=k,D!=null?zi(t,!!r,D,!1):!!a!=!!r&&(i!=null?zi(t,!!r,i,!0):zi(t,!!r,r?[]:"",!1));return;case"textarea":k=D=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ne(t,i,S,null,a,h)}for(_ in a)if(h=a[_],p=r[_],a.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":D=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&Ne(t,i,_,h,a,p)}Bf(t,D,k);return;case"option":for(var $ in r)if(D=r[$],r.hasOwnProperty($)&&D!=null&&!a.hasOwnProperty($))switch($){case"selected":t.selected=!1;break;default:Ne(t,i,$,null,a,D)}for(R in a)if(D=a[R],k=r[R],a.hasOwnProperty(R)&&D!==k&&(D!=null||k!=null))switch(R){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ne(t,i,R,D,a,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in r)D=r[ie],r.hasOwnProperty(ie)&&D!=null&&!a.hasOwnProperty(ie)&&Ne(t,i,ie,null,a,D);for(M in a)if(D=a[M],k=r[M],a.hasOwnProperty(M)&&D!==k&&(D!=null||k!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,i));break;default:Ne(t,i,M,D,a,k)}return;default:if(aa(i)){for(var Me in r)D=r[Me],r.hasOwnProperty(Me)&&D!==void 0&&!a.hasOwnProperty(Me)&&Xu(t,i,Me,void 0,a,D);for(H in a)D=a[H],k=r[H],!a.hasOwnProperty(H)||D===k||D===void 0&&k===void 0||Xu(t,i,H,D,a,k);return}}for(var w in r)D=r[w],r.hasOwnProperty(w)&&D!=null&&!a.hasOwnProperty(w)&&Ne(t,i,w,null,a,D);for(O in a)D=a[O],k=r[O],!a.hasOwnProperty(O)||D===k||D==null&&k==null||Ne(t,i,O,D,a,k)}function Jp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var h=r[a],p=h.transferSize,_=h.initiatorType,S=h.duration;if(p&&S&&Jp(_)){for(_=0,S=h.responseEnd,a+=1;a<r.length;a++){var R=r[a],M=R.startTime;if(M>S)break;var H=R.transferSize,O=R.initiatorType;H&&Jp(O)&&(R=R.responseEnd,_+=H*(R<S?1:(S-M)/(R-M)))}if(--a,i+=8*(p+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $u=null,Qu=null;function jr(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wu=null;function AT(){var t=window.event;return t&&t.type==="popstate"?t===Wu?!1:(Wu=t,!0):(Wu=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,bT=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(IT)}:Xp;function IT(t){setTimeout(function(){throw t})}function Qn(t){return t==="head"}function Qp(t,i){var r=i,a=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(h),Eo(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")Rs(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Rs(r);for(var p=r.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[qo]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=_}}else r==="body"&&Rs(t.ownerDocument.body);r=h}while(r);Eo(i)}function Zp(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function ju(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ju(r),oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function wT(t,i,r,a){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[qo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Gt(t.nextSibling),t===null)break}return null}function xT(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Gt(t.nextSibling),t===null))return null;return t}function Wp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Gt(t.nextSibling),t===null))return null;return t}function ec(t){return t.data==="$?"||t.data==="$~"}function tc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NT(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Gt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nc=null;function jp(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Gt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function em(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function tm(t,i,r){switch(i=jr(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rs(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);oa(t)}var Ot=new Map,nm=new Set;function el(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sn=q.d;q.d={f:MT,r:DT,D:UT,C:LT,L:kT,m:PT,X:GT,S:HT,M:OT};function MT(){var t=Sn.f(),i=Jr();return t||i}function DT(t){var i=Oi(t);i!==null&&i.tag===5&&i.type==="form"?_h(i):Sn.r(t)}var vo=typeof document>"u"?null:document;function im(t,i,r){var a=vo;if(a&&typeof i=="string"&&i){var h=Mt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),nm.has(h)||(nm.add(h),t={rel:t,crossOrigin:r,href:i},a.querySelector(h)===null&&(i=a.createElement("link"),ot(i,"link",t),Ze(i),a.head.appendChild(i)))}}function UT(t){Sn.D(t),im("dns-prefetch",t,null)}function LT(t,i){Sn.C(t,i),im("preconnect",t,i)}function kT(t,i,r){Sn.L(t,i,r);var a=vo;if(a&&t&&i){var h='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Mt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Mt(r.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var p=h;switch(i){case"style":p=_o(t);break;case"script":p=To(t)}Ot.has(p)||(t=E({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Ot.set(p,t),a.querySelector(h)!==null||i==="style"&&a.querySelector(bs(p))||i==="script"&&a.querySelector(Is(p))||(i=a.createElement("link"),ot(i,"link",t),Ze(i),a.head.appendChild(i)))}}function PT(t,i){Sn.m(t,i);var r=vo;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Mt(a)+'"][href="'+Mt(t)+'"]',p=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(t)}if(!Ot.has(p)&&(t=E({rel:"modulepreload",href:t},i),Ot.set(p,t),r.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Is(p)))return}a=r.createElement("link"),ot(a,"link",t),Ze(a),r.head.appendChild(a)}}}function HT(t,i,r){Sn.S(t,i,r);var a=vo;if(a&&t){var h=Vi(a).hoistableStyles,p=_o(t);i=i||"default";var _=h.get(p);if(!_){var S={loading:0,preload:null};if(_=a.querySelector(bs(p)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Ot.get(p))&&ic(t,r);var R=_=a.createElement("link");Ze(R),ot(R,"link",t),R._p=new Promise(function(M,H){R.onload=M,R.onerror=H}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tl(_,i,a)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(p,_)}}}function GT(t,i){Sn.X(t,i);var r=vo;if(r&&t){var a=Vi(r).hoistableScripts,h=To(t),p=a.get(h);p||(p=r.querySelector(Is(h)),p||(t=E({src:t,async:!0},i),(i=Ot.get(h))&&oc(t,i),p=r.createElement("script"),Ze(p),ot(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(h,p))}}function OT(t,i){Sn.M(t,i);var r=vo;if(r&&t){var a=Vi(r).hoistableScripts,h=To(t),p=a.get(h);p||(p=r.querySelector(Is(h)),p||(t=E({src:t,async:!0,type:"module"},i),(i=Ot.get(h))&&oc(t,i),p=r.createElement("script"),Ze(p),ot(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(h,p))}}function om(t,i,r,a){var h=(h=he.current)?el(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=_o(r.href),r=Vi(h).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=_o(r.href);var p=Vi(h).hoistableStyles,_=p.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,_),(p=h.querySelector(bs(t)))&&!p._p&&(_.instance=p,_.state.loading=5),Ot.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ot.set(t,r),p||VT(h,t,r,_.state))),i&&a===null)throw Error(s(528,""));return _}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(r),r=Vi(h).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+Mt(t)+'"'}function bs(t){return'link[rel="stylesheet"]['+t+"]"}function sm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function VT(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),ot(i,"link",r),Ze(i),t.head.appendChild(i))}function To(t){return'[src="'+Mt(t)+'"]'}function Is(t){return"script[async]"+t}function rm(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+Mt(r.href)+'"]');if(a)return i.instance=a,Ze(a),a;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Ze(a),ot(a,"style",h),tl(a,r.precedence,t),i.instance=a;case"stylesheet":h=_o(r.href);var p=t.querySelector(bs(h));if(p)return i.state.loading|=4,i.instance=p,Ze(p),p;a=sm(r),(h=Ot.get(h))&&ic(a,h),p=(t.ownerDocument||t).createElement("link"),Ze(p);var _=p;return _._p=new Promise(function(S,R){_.onload=S,_.onerror=R}),ot(p,"link",a),i.state.loading|=4,tl(p,r.precedence,t),i.instance=p;case"script":return p=To(r.src),(h=t.querySelector(Is(p)))?(i.instance=h,Ze(h),h):(a=r,(h=Ot.get(p))&&(a=E({},r),oc(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ze(h),ot(h,"link",a),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,tl(a,r.precedence,t));return i.instance}function tl(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,p=h,_=0;_<a.length;_++){var S=a[_];if(S.dataset.precedence===i)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function ic(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function oc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nl=null;function lm(t,i,r){if(nl===null){var a=new Map,h=nl=new Map;h.set(r,a)}else h=nl,a=h.get(r),a||(a=new Map,h.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var p=r[h];if(!(p[qo]||p[et]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=t+_;var S=a.get(_);S?S.push(p):a.set(_,[p])}}return a}function am(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function BT(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function um(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zT(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=_o(a.href),p=i.querySelector(bs(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=il.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=p,Ze(p);return}p=i.ownerDocument||i,a=sm(a),(h=Ot.get(h))&&ic(a,h),p=p.createElement("link"),Ze(p);var _=p;_._p=new Promise(function(S,R){_.onload=S,_.onerror=R}),ot(p,"link",a),r.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=il.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var sc=0;function qT(t,i){return t.stylesheets&&t.count===0&&sl(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&sl(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&sc===0&&(sc=62500*CT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sl(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>sc?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ol=null;function sl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ol=new Map,i.forEach(FT,t),ol=null,il.call(t))}function FT(t,i){if(!(i.state.loading&4)){var r=ol.get(t);if(r)var a=r.get(null);else{r=new Map,ol.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),a=_)}a&&r.set(null,a)}h=i.instance,_=h.getAttribute("data-precedence"),p=r.get(_)||a,p===a&&r.set(null,h),r.set(_,h),this.count++,a=il.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ws={$$typeof:z,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function JT(t,i,r,a,h,p,_,S,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function cm(t,i,r,a,h,p,_,S,R,M,H,O){return t=new JT(t,i,r,_,R,M,H,O,S),i=1,p===!0&&(i|=24),p=Ct(3,null,null,i),t.current=p,p.stateNode=t,i=Ga(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:a,isDehydrated:r,cache:i},za(p),t}function fm(t){return t?(t=Qi,t):Qi}function dm(t,i,r,a,h,p){h=fm(h),a.context===null?a.context=h:a.pendingContext=h,a=On(i),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=Vn(t,a,i),r!==null&&(vt(r,t,i),rs(r,t,i))}function hm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function rc(t,i){hm(t,i),(t=t.alternate)&&hm(t,i)}function pm(t){if(t.tag===13||t.tag===31){var i=yi(t,67108864);i!==null&&vt(i,t,67108864),rc(t,67108864)}}function mm(t){if(t.tag===13||t.tag===31){var i=wt();i=ta(i);var r=yi(t,i);r!==null&&vt(r,t,i),rc(t,i)}}var rl=!0;function YT(t,i,r,a){var h=P.T;P.T=null;var p=q.p;try{q.p=2,lc(t,i,r,a)}finally{q.p=p,P.T=h}}function KT(t,i,r,a){var h=P.T;P.T=null;var p=q.p;try{q.p=8,lc(t,i,r,a)}finally{q.p=p,P.T=h}}function lc(t,i,r,a){if(rl){var h=ac(a);if(h===null)Ku(t,i,a,ll,r),ym(t,a);else if($T(h,t,i,r,a))a.stopPropagation();else if(ym(t,a),i&4&&-1<XT.indexOf(t)){for(;h!==null;){var p=Oi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=di(p.pendingLanes);if(_!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var R=1<<31-Et(_);S.entanglements[1]|=R,_&=~R}en(p),(Ae&6)===0&&(qr=_t()+500,Ss(0))}}break;case 31:case 13:S=yi(p,2),S!==null&&vt(S,p,2),Jr(),rc(p,2)}if(p=ac(a),p===null&&Ku(t,i,a,ll,r),p===h)break;h=p}h!==null&&a.stopPropagation()}else Ku(t,i,a,null,r)}}function ac(t){return t=ca(t),uc(t)}var ll=null;function uc(t){if(ll=null,t=Gi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=g(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ll=t,null}function gm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uv()){case Af:return 2;case Rf:return 8;case Qs:case Lv:return 32;case bf:return 268435456;default:return 32}default:return 32}}var cc=!1,Zn=null,Wn=null,jn=null,xs=new Map,Ns=new Map,ei=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,i){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":xs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(i.pointerId)}}function Ms(t,i,r,a,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:p,targetContainers:[h]},i!==null&&(i=Oi(i),i!==null&&pm(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $T(t,i,r,a,h){switch(i){case"focusin":return Zn=Ms(Zn,t,i,r,a,h),!0;case"dragenter":return Wn=Ms(Wn,t,i,r,a,h),!0;case"mouseover":return jn=Ms(jn,t,i,r,a,h),!0;case"pointerover":var p=h.pointerId;return xs.set(p,Ms(xs.get(p)||null,t,i,r,a,h)),!0;case"gotpointercapture":return p=h.pointerId,Ns.set(p,Ms(Ns.get(p)||null,t,i,r,a,h)),!0}return!1}function vm(t){var i=Gi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Df(t.priority,function(){mm(r)});return}}else if(i===31){if(i=g(r),i!==null){t.blockedOn=i,Df(t.priority,function(){mm(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function al(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=ac(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);ua=a,r.target.dispatchEvent(a),ua=null}else return i=Oi(r),i!==null&&pm(i),t.blockedOn=r,!1;i.shift()}return!0}function _m(t,i,r){al(t)&&r.delete(i)}function QT(){cc=!1,Zn!==null&&al(Zn)&&(Zn=null),Wn!==null&&al(Wn)&&(Wn=null),jn!==null&&al(jn)&&(jn=null),xs.forEach(_m),Ns.forEach(_m)}function ul(t,i){t.blockedOn===i&&(t.blockedOn=null,cc||(cc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QT)))}var cl=null;function Tm(t){cl!==t&&(cl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cl===t&&(cl=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],h=t[i+2];if(typeof a!="function"){if(uc(a||r)===null)continue;break}var p=Oi(r);p!==null&&(t.splice(i,3),i-=3,au(p,{pending:!0,data:h,method:r.method,action:a},a,h))}}))}function Eo(t){function i(R){return ul(R,t)}Zn!==null&&ul(Zn,t),Wn!==null&&ul(Wn,t),jn!==null&&ul(jn,t),xs.forEach(i),Ns.forEach(i);for(var r=0;r<ei.length;r++){var a=ei[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ei.length&&(r=ei[0],r.blockedOn===null);)vm(r),r.blockedOn===null&&ei.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var h=r[a],p=r[a+1],_=h[dt]||null;if(typeof p=="function")_||Tm(r);else if(_){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[dt]||null)S=_.formAction;else if(uc(h)!==null)continue}else S=_.action;typeof S=="function"?r[a+1]=S:(r.splice(a,3),a-=3),Tm(r)}}}function Em(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function fc(t){this._internalRoot=t}fl.prototype.render=fc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=wt();dm(r,a,t,i,null,null)},fl.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;dm(t.current,2,null,t,null,null),Jr(),i[Hi]=null}};function fl(t){this._internalRoot=t}fl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mf();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ei.length&&i!==0&&i<ei[r].priority;r++);ei.splice(r,0,t),r===0&&vm(t)}};var Sm=e.version;if(Sm!=="19.2.3")throw Error(s(527,Sm,"19.2.3"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Vo=dl.inject(ZT),Tt=dl}catch{}}return Us.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",h=xh,p=Nh,_=Mh;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cm(t,1,!1,null,null,r,a,null,h,p,_,Em),t[Hi]=i.current,Yu(t),new fc(i)},Us.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,h="",p=xh,_=Nh,S=Mh,R=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),i=cm(t,1,!0,i,r??null,a,h,R,p,_,S,Em),i.context=fm(null),r=i.current,a=wt(),a=ta(a),h=On(a),h.callback=null,Vn(r,h,a),r=a,i.current.lanes=r,zo(i,r),en(i),t[Hi]=i.current,Yu(t),new fl(i)},Us.version="19.2.3",Us}var Dm;function uE(){if(Dm)return pc.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pc.exports=aE(),pc.exports}var cE=uE(),fE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dE,hE;function pE(){return{geminiUrl:dE,vertexUrl:hE}}function mE(n,e,o,s){var l,c;if(!(n!=null&&n.baseUrl)){const d=pE();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:o:(c=d.geminiUrl)!==null&&c!==void 0?c:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xn{}function X(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const c=e[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,o){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const g=d.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(c+1),o[m])}else for(const m of y)f(m,e.slice(c+1),o)}return}else if(d.endsWith("[0]")){const g=d.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];f(y[0],e.slice(c+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function u(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(g=>u(g,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function gE(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),c=s.split("."),d=new Set;let g=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Ic(n,l,c,0,d)}}function Ic(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const c=e[s];if(c.endsWith("[]")){const d=c.slice(0,-2),g=n;if(d in g&&Array.isArray(g[d]))for(const y of g[d])Ic(y,e,o,s+1,l)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,g=Object.keys(d).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of g)y[m]=d[m];for(const[m,v]of Object.entries(y)){const E=[];for(const T of o.slice(s))T==="*"?E.push(m):E.push(T);f(d,E,v)}for(const m of g)delete d[m]}}else{const d=n;c in d&&Ic(d[c],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(n){const e={},o=u(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=u(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function vE(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],TE(d)),e}function _E(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],EE(d)),e}function TE(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>SE(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=u(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function EE(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>CE(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=u(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function SE(n){const e={},o=u(n,["video"]);return o!=null&&f(e,["video"],xE(o)),e}function CE(n){const e={},o=u(n,["_self"]);return o!=null&&f(e,["video"],NE(o)),e}function AE(n){const e={},o=u(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function RE(n){const e={},o=u(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function bE(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],IE(d)),e}function IE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const l=u(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function J0(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],wE(d)),e}function wE(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const l=u(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function xE(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Wc(s));const l=u(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function NE(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Wc(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Um;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Um||(Um={}));var Lm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Lm||(Lm={}));var km;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(km||(km={}));var ri;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ri||(ri={}));var Pm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Pm||(Pm={}));var Hm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Hm||(Hm={}));var Gm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Gm||(Gm={}));var Om;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Om||(Om={}));var Vm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Vm||(Vm={}));var Bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var zm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(zm||(zm={}));var qm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(qm||(qm={}));var Fm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fm||(Fm={}));var Jm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Jm||(Jm={}));var Ym;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Ym||(Ym={}));var Km;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Km||(Km={}));var Xm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Xm||(Xm={}));var $m;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($m||($m={}));var Qm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qm||(Qm={}));var Zm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Zm||(Zm={}));var Wm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wm||(Wm={}));var Rl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Rl||(Rl={}));var jm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jm||(jm={}));var eg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eg||(eg={}));var tg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tg||(tg={}));var wc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wc||(wc={}));var ng;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ng||(ng={}));var ig;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ig||(ig={}));var og;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(og||(og={}));var sg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sg||(sg={}));var rg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(rg||(rg={}));var lg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(lg||(lg={}));var ag;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(ag||(ag={}));var ug;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ug||(ug={}));var cg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cg||(cg={}));var fg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fg||(fg={}));var dg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dg||(dg={}));var hg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(hg||(hg={}));var pg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(pg||(pg={}));var mg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(mg||(mg={}));var gg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(gg||(gg={}));var yg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yg||(yg={}));var vg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(vg||(vg={}));var _g;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(_g||(_g={}));var Tg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Tg||(Tg={}));var Eg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Eg||(Eg={}));var Sg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Sg||(Sg={}));var Cg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Cg||(Cg={}));var Ag;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Ag||(Ag={}));var Rg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rg||(Rg={}));var bg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bg||(bg={}));var Ig;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ig||(Ig={}));var wg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wg||(wg={}));var xg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xg||(xg={}));var Ng;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ng||(Ng={}));var Ao;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ao||(Ao={}));class xc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ls{get text(){var e,o,s,l,c,d,g,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const T of(y=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,x]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(x!==null||x!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,m+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,s,l,c,d,g,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,s,l,c,d,g,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,s,l,c,d,g,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,s,l,c,d,g,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Mg{}class Dg{}class ME{}class DE{}class UE{}class LE{}class Ug{}class Lg{}class kg{}class kE{}class bl{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new bl;let l;const c=e;return o?l=_E(c):l=vE(c),Object.assign(s,l),s}}class Pg{}class Hg{}class Gg{}class Og{}class PE{}class HE{}class GE{}class jc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new jc,c=bE(e);return Object.assign(s,c),s}}class OE{}class VE{}class BE{}class Vg{}class zE{get text(){var e,o,s;let l="",c=!1;const d=[];for(const g of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,l+=g.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var e,o,s;let l="";const c=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(d))g!=="inlineData"&&y!==null&&c.push(g);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class qE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ef{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new ef,c=J0(e);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Y0(n,e){const o=Ce(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function K0(n){return Array.isArray(n)?n.map(e=>Il(e)):[Il(n)]}function Il(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function X0(n){const e=Il(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $0(n){const e=Il(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Q0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Bg(e)):[Bg(n)]}function Nc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function zg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function qg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function rt(n){if(n==null)throw new Error("ContentUnion is required");return Nc(n)?n:{role:"user",parts:Q0(n)}}function tf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=rt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=rt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>rt(o)):[rt(e)]}function Vt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(zg(n)||qg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(n)]}const e=[],o=[],s=Nc(n[0]);for(const l of n){const c=Nc(l);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(l);else{if(zg(l)||qg(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:Q0(o)}),e}function FE(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(ri).includes(o[0].toUpperCase())?o[0].toUpperCase():ri.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(ri).includes(s.toUpperCase())?s.toUpperCase():ri.TYPE_UNSPECIFIED})}}function bo(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&FE(n.type,e);for(const[d,g]of Object.entries(n))if(g!=null)if(d=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(ri).includes(g.toUpperCase())?g.toUpperCase():ri.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=bo(g);else if(s.includes(d)){const y=[];for(const m of g){if(m.type=="null"){e.nullable=!0;continue}y.push(bo(m))}e[d]=y}else if(l.includes(d)){const y={};for(const[m,v]of Object.entries(g))y[m]=bo(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=g}return e}function nf(n){return bo(n)}function of(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function sf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ko(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bo(e.response));return n}function Po(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function JE(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function Nn(n,e){if(typeof e!="string")throw new Error("name must be a string");return JE(n,e,"cachedContents")}function Z0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ui(n){return Wc(n)}function YE(n){return n!=null&&typeof n=="object"&&"name"in n}function KE(n){return n!=null&&typeof n=="object"&&"video"in n}function XE(n){return n!=null&&typeof n=="object"&&"uri"in n}function W0(n){var e;let o;if(YE(n)&&(o=n.name),!(XE(n)&&(o=n.uri,o===void 0))&&!(KE(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function j0(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function ey(n){for(const e of["models","tunedModels","publisherModels"])if($E(n,e))return n[e];return[]}function $E(n,e){return n!==null&&typeof n=="object"&&e in n}function QE(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function ZE(n,e={}){const o=[],s=new Set;for(const l of n){const c=l.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const d=QE(l,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function ty(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function WE(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ny(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let c=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ho(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function iy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(n){const e={},o=u(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=u(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>US(d))),f(e,["inlinedResponses"],c)}const l=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["inlinedEmbedContentResponses"],c)}return e}function eS(n){const e={},o=u(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=u(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const l=u(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function tS(n){const e={},o=u(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const l=u(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _l(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const l=u(n,["metadata","state"]);l!=null&&f(e,["state"],iy(l));const c=u(n,["metadata","createTime"]);c!=null&&f(e,["createTime"],c);const d=u(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const g=u(n,["metadata","updateTime"]);g!=null&&f(e,["updateTime"],g);const y=u(n,["metadata","model"]);y!=null&&f(e,["model"],y);const m=u(n,["metadata","output"]);return m!=null&&f(e,["dest"],jE(ny(m))),e}function Mc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=u(n,["state"]);l!=null&&f(e,["state"],iy(l));const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["createTime"]);d!=null&&f(e,["createTime"],d);const g=u(n,["startTime"]);g!=null&&f(e,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(e,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=u(n,["model"]);v!=null&&f(e,["model"],v);const E=u(n,["inputConfig"]);E!=null&&f(e,["src"],nS(E));const T=u(n,["outputConfig"]);T!=null&&f(e,["dest"],eS(ny(T)));const A=u(n,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function nS(n){const e={},o=u(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=u(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const l=u(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function iS(n,e){const o={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(e,["fileName"]);s!=null&&f(o,["fileName"],s);const l=u(e,["inlinedRequests"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>DS(n,d))),f(o,["requests","requests"],c)}return o}function oS(n){const e={},o=u(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const l=u(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sS(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function rS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function lS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function aS(n){const e={},o=u(n,["content"]);o!=null&&f(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],uS(s));const l=u(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const c=u(n,["finishReason"]);c!=null&&f(e,["finishReason"],c);const d=u(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const g=u(n,["groundingMetadata"]);g!=null&&f(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(e,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function uS(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function oy(n){const e={},o=u(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>VS(c))),f(e,["parts"],l)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function cS(n,e){const o={},s=u(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function fS(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=u(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],tS(WE(l))),o}function Fg(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["src"]);l!=null&&f(o,["batch","inputConfig"],iS(n,ty(n,l)));const c=u(e,["config"]);return c!=null&&cS(c,o),o}function dS(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Ce(n,s));const l=u(e,["src"]);l!=null&&f(o,["inputConfig"],oS(ty(n,l)));const c=u(e,["config"]);return c!=null&&fS(c,o),o}function hS(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function pS(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["src"]);l!=null&&f(o,["batch","inputConfig"],ES(n,l));const c=u(e,["config"]);return c!=null&&hS(c,o),o}function mS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function gS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function yS(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);return c!=null&&f(e,["error"],c),e}function vS(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);return c!=null&&f(e,["error"],c),e}function _S(n,e){const o={},s=u(e,["contents"]);if(s!=null){let c=tf(n,s);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["requests[]","request","content"],c)}const l=u(e,["config"]);return l!=null&&(f(o,["_self"],TS(l,o)),gE(o,{"requests[].*":"requests[].request.*"})),o}function TS(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=u(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ES(n,e){const o={},s=u(e,["fileName"]);s!=null&&f(o,["file_name"],s);const l=u(e,["inlinedRequests"]);return l!=null&&f(o,["requests"],_S(n,l)),o}function SS(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function CS(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const l=u(n,["name"]);if(l!=null&&f(e,["name"],l),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AS(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RS(n,e,o){const s={},l=u(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],oy(rt(l)));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const g=u(e,["topK"]);g!=null&&f(s,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const x=u(e,["frequencyPenalty"]);x!=null&&f(s,["frequencyPenalty"],x);const L=u(e,["seed"]);L!=null&&f(s,["seed"],L);const U=u(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const V=u(e,["responseSchema"]);V!=null&&f(s,["responseSchema"],nf(V));const F=u(e,["responseJsonSchema"]);if(F!=null&&f(s,["responseJsonSchema"],F),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(e,["safetySettings"]);if(o!==void 0&&z!=null){let le=z;Array.isArray(le)&&(le=le.map(De=>BS(De))),f(o,["safetySettings"],le)}const Y=u(e,["tools"]);if(o!==void 0&&Y!=null){let le=Po(Y);Array.isArray(le)&&(le=le.map(De=>qS(ko(De)))),f(o,["tools"],le)}const j=u(e,["toolConfig"]);if(o!==void 0&&j!=null&&f(o,["toolConfig"],zS(j)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],Nn(n,te));const J=u(e,["responseModalities"]);J!=null&&f(s,["responseModalities"],J);const fe=u(e,["mediaResolution"]);fe!=null&&f(s,["mediaResolution"],fe);const Z=u(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],of(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const Te=u(e,["imageConfig"]);Te!=null&&f(s,["imageConfig"],MS(Te));const ge=u(e,["enableEnhancedCivicAnswers"]);return ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),s}function bS(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>aS(m))),f(e,["candidates"],y)}const l=u(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=u(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const d=u(n,["responseId"]);d!=null&&f(e,["responseId"],d);const g=u(n,["usageMetadata"]);return g!=null&&f(e,["usageMetadata"],g),e}function IS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function wS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Ho(n,s)),o}function xS(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function NS(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function MS(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function DS(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["request","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let g=Vt(l);Array.isArray(g)&&(g=g.map(y=>oy(y))),f(o,["request","contents"],g)}const c=u(e,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(e,["config"]);return d!=null&&f(o,["request","generationConfig"],RS(n,d,u(o,["request"],{}))),o}function US(n){const e={},o=u(n,["response"]);o!=null&&f(e,["response"],bS(o));const s=u(n,["error"]);return s!=null&&f(e,["error"],s),e}function LS(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kS(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=u(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function PS(n){const e={},o=u(n,["config"]);return o!=null&&LS(o,e),e}function HS(n){const e={},o=u(n,["config"]);return o!=null&&kS(o,e),e}function GS(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>_l(d))),f(e,["batchJobs"],c)}return e}function OS(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Mc(d))),f(e,["batchJobs"],c)}return e}function VS(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=u(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],SS(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],CS(d));const g=u(n,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],sS(y));const m=u(n,["text"]);m!=null&&f(e,["text"],m);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function BS(n){const e={},o=u(n,["category"]);if(o!=null&&f(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function zS(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],AS(s)),e}function qS(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const l=u(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],xS(d));const g=u(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],NS(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(bn||(bn={}));class ki{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends xn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(bn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Fg(this.apiClient,e),s=o._url,l=X("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}m.push(E)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const c=this.getGcsUri(e),d=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${l}`;else if(d)s.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=dS(this.apiClient,e);return g=X("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Mc(v))}else{const m=Fg(this.apiClient,e);return g=X("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>_l(v))}}async createEmbeddingsInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pS(this.apiClient,e);return c=X("{model}:asyncBatchEmbedContent",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>_l(y))}}async get(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=wS(this.apiClient,e);return g=X("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Mc(v))}else{const m=IS(this.apiClient,e);return g=X("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>_l(v))}}async cancel(e){var o,s,l,c;let d="",g={};if(this.apiClient.isVertexAI()){const y=lS(this.apiClient,e);d=X("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=rS(this.apiClient,e);d=X("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=HS(e);return g=X("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=OS(v),T=new Vg;return Object.assign(T,E),T})}else{const m=PS(e);return g=X("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=GS(v),T=new Vg;return Object.assign(T,E),T})}}async delete(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=gS(this.apiClient,e);return g=X("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>vS(v))}else{const m=mS(this.apiClient,e);return g=X("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>yS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Jg(n){const e={},o=u(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>pC(c))),f(e,["parts"],l)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function YS(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=u(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const c=u(n,["displayName"]);e!==void 0&&c!=null&&f(e,["displayName"],c);const d=u(n,["contents"]);if(e!==void 0&&d!=null){let v=Vt(d);Array.isArray(v)&&(v=v.map(E=>Jg(E))),f(e,["contents"],v)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&f(e,["systemInstruction"],Jg(rt(g)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>gC(E))),f(e,["tools"],v)}const m=u(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],mC(m)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function KS(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=u(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const c=u(n,["displayName"]);e!==void 0&&c!=null&&f(e,["displayName"],c);const d=u(n,["contents"]);if(e!==void 0&&d!=null){let E=Vt(d);Array.isArray(E)&&(E=E.map(T=>T)),f(e,["contents"],E)}const g=u(n,["systemInstruction"]);e!==void 0&&g!=null&&f(e,["systemInstruction"],rt(g));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>yC(T))),f(e,["tools"],E)}const m=u(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=u(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function XS(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Y0(n,s));const l=u(e,["config"]);return l!=null&&YS(l,o),o}function $S(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Y0(n,s));const l=u(e,["config"]);return l!=null&&KS(l,o),o}function QS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Nn(n,s)),o}function ZS(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Nn(n,s)),o}function WS(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function jS(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function eC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function tC(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const l=u(n,["name"]);if(l!=null&&f(e,["name"],l),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nC(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iC(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const l=u(n,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const g=u(n,["responseJsonSchema"]);if(g!=null&&f(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oC(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Nn(n,s)),o}function sC(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Nn(n,s)),o}function rC(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function lC(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function aC(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function uC(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function cC(n){const e={},o=u(n,["config"]);return o!=null&&aC(o,e),e}function fC(n){const e={},o=u(n,["config"]);return o!=null&&uC(o,e),e}function dC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["cachedContents"],c)}return e}function hC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["cachedContents"],c)}return e}function pC(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=u(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],eC(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],tC(d));const g=u(n,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],JS(y));const m=u(n,["text"]);m!=null&&f(e,["text"],m);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function mC(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],nC(s)),e}function gC(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const l=u(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],rC(d));const g=u(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],lC(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function yC(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(n,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>iC(T))),f(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=u(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function vC(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=u(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function _C(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=u(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function TC(n,e){const o={},s=u(e,["name"]);s!=null&&f(o,["_url","name"],Nn(n,s));const l=u(e,["config"]);return l!=null&&vC(l,o),o}function EC(n,e){const o={},s=u(e,["name"]);s!=null&&f(o,["_url","name"],Nn(n,s));const l=u(e,["config"]);return l!=null&&_C(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends xn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(bn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,e);return g=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=XS(this.apiClient,e);return g=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=sC(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=oC(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=ZS(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=jS(v),T=new Gg;return Object.assign(T,E),T})}else{const m=QS(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=WS(v),T=new Gg;return Object.assign(T,E),T})}}async update(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=EC(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=TC(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=fC(e);return g=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=hC(v),T=new Og;return Object.assign(T,E),T})}else{const m=cC(e);return g=X("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=dC(v),T=new Og;return Object.assign(T,E),T})}}}function wl(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o}function Yg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(n){return this instanceof se?(this.v=n,this):new se(n)}function Kt(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(A){return function(x){return Promise.resolve(x).then(A,E)}}function g(A,x){s[A]&&(l[A]=function(L){return new Promise(function(U,V){c.push([A,L,U,V])>1||y(A,L)})},x&&(l[A]=x(l[A])))}function y(A,x){try{m(s[A](x))}catch(L){T(c[0][3],L)}}function m(A){A.value instanceof se?Promise.resolve(A.value.v).then(v,E):T(c[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function T(A,x){A(x),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Xt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Yg=="function"?Yg(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(d){return new Promise(function(g,y){d=n[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:sy(o)}function sy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function AC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Kg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let c=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),c&&!sy(n[s])&&(c=!1),s++;c?e.push(...l):e.pop()}return e}class RC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new bC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bC{constructor(e,o,s,l={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),AC(c)}async sendMessage(e){var o;await this.sendPromise;const s=rt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,d,g;const y=await l,m=(d=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(E))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(s,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=rt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,s)}getHistory(e=!1){const o=e?Kg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Kt(this,arguments,function*(){var l,c,d,g,y,m;const v=[];try{for(var E=!0,T=Xt(e),A;A=yield se(T.next()),l=A.done,!l;E=!0){g=A.value,E=!1;const x=g;if(CC(x)){const L=(m=(y=x.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;L!==void 0&&v.push(L)}yield yield se(x)}}catch(x){c={error:x}}finally{try{!E&&!l&&(d=T.return)&&(yield se(d.call(T)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(c=>c.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Kg(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Hl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(n){const e={},o=u(n,["file"]);return o!=null&&f(e,["file"],o),e}function wC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function xC(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","file"],W0(o)),e}function NC(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function MC(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","file"],W0(o)),e}function DC(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function UC(n){const e={},o=u(n,["config"]);return o!=null&&DC(o,e),e}function LC(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC extends xn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(bn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UC(e);return c=X("files",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=LC(y),v=new OE;return Object.assign(v,m),v})}}async createInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IC(e);return c=X("upload/v1beta/files",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=wC(y),v=new VE;return Object.assign(v,m),v})}}async get(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MC(e);return c=X("files/{file}",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(e);return c=X("files/{file}",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=NC(y),v=new BE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tl(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function PC(n){const e={},o=u(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WC(c))),f(e,["parts"],l)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function HC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function GC(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const l=u(n,["name"]);if(l!=null&&f(e,["name"],l),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OC(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const l=u(n,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const g=u(n,["responseJsonSchema"]);if(g!=null&&f(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function VC(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=u(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const c=u(n,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const d=u(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const g=u(n,["frequencyPenalty"]);g!=null&&f(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const A=u(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const x=u(n,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const L=u(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const U=u(n,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const V=u(n,["seed"]);V!=null&&f(e,["seed"],V);const F=u(n,["speechConfig"]);F!=null&&f(e,["speechConfig"],F);const z=u(n,["stopSequences"]);z!=null&&f(e,["stopSequences"],z);const Y=u(n,["temperature"]);Y!=null&&f(e,["temperature"],Y);const j=u(n,["thinkingConfig"]);j!=null&&f(e,["thinkingConfig"],j);const te=u(n,["topK"]);te!=null&&f(e,["topK"],te);const J=u(n,["topP"]);if(J!=null&&f(e,["topP"],J),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function BC(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function zC(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function qC(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=u(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const g=u(n,["topK"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],sf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=u(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],PC(rt(x)));const L=u(n,["tools"]);if(e!==void 0&&L!=null){let te=Po(L);Array.isArray(te)&&(te=te.map(J=>eA(ko(J)))),f(e,["setup","tools"],te)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],jC(U));const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const Y=u(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&f(e,["setup","contextWindowCompression"],Y);const j=u(n,["proactivity"]);if(e!==void 0&&j!=null&&f(e,["setup","proactivity"],j),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FC(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],VC(s));const l=u(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const g=u(n,["topK"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],sf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=u(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],rt(x));const L=u(n,["tools"]);if(e!==void 0&&L!=null){let J=Po(L);Array.isArray(J)&&(J=J.map(fe=>tA(ko(fe)))),f(e,["setup","tools"],J)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],U);const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const Y=u(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&f(e,["setup","contextWindowCompression"],Y);const j=u(n,["proactivity"]);e!==void 0&&j!=null&&f(e,["setup","proactivity"],j);const te=u(n,["explicitVadSignal"]);return e!==void 0&&te!=null&&f(e,["setup","explicitVadSignal"],te),o}function JC(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Ce(n,s));const l=u(e,["config"]);return l!=null&&f(o,["config"],qC(l,o)),o}function YC(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Ce(n,s));const l=u(e,["config"]);return l!=null&&f(o,["config"],FC(l,o)),o}function KC(n){const e={},o=u(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function XC(n){const e={},o=u(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["weightedPrompts"],s)}return e}function $C(n){const e={},o=u(n,["media"]);if(o!=null){let m=K0(o);Array.isArray(m)&&(m=m.map(v=>Tl(v))),f(e,["mediaChunks"],m)}const s=u(n,["audio"]);s!=null&&f(e,["audio"],Tl($0(s)));const l=u(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const c=u(n,["video"]);c!=null&&f(e,["video"],Tl(X0(c)));const d=u(n,["text"]);d!=null&&f(e,["text"],d);const g=u(n,["activityStart"]);g!=null&&f(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function QC(n){const e={},o=u(n,["media"]);if(o!=null){let m=K0(o);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=u(n,["audio"]);s!=null&&f(e,["audio"],$0(s));const l=u(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const c=u(n,["video"]);c!=null&&f(e,["video"],X0(c));const d=u(n,["text"]);d!=null&&f(e,["text"],d);const g=u(n,["activityStart"]);g!=null&&f(e,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ZC(n){const e={},o=u(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=u(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const l=u(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const c=u(n,["toolCallCancellation"]);c!=null&&f(e,["toolCallCancellation"],c);const d=u(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],nA(d));const g=u(n,["goAway"]);g!=null&&f(e,["goAway"],g);const y=u(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=u(n,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const v=u(n,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],iA(v)),e}function WC(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=u(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],HC(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],GC(d));const g=u(n,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],Tl(y));const m=u(n,["text"]);m!=null&&f(e,["text"],m);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function jC(n){const e={},o=u(n,["handle"]);if(o!=null&&f(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eA(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const l=u(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],BC(d));const g=u(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],zC(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function tA(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(n,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>OC(T))),f(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=u(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function nA(n){const e={},o=u(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=u(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const l=u(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(e,["toolUsePromptTokenCount"],c);const d=u(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const g=u(n,["totalTokenCount"]);g!=null&&f(e,["totalTokenCount"],g);const y=u(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(x=>x)),f(e,["promptTokensDetails"],A)}const m=u(n,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(x=>x)),f(e,["cacheTokensDetails"],A)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(x=>x)),f(e,["responseTokensDetails"],A)}const E=u(n,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(x=>x)),f(e,["toolUsePromptTokensDetails"],A)}const T=u(n,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function iA(n){const e={},o=u(n,["type"]);return o!=null&&f(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function sA(n){const e={},o=u(n,["content"]);o!=null&&f(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],rA(s));const l=u(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const c=u(n,["finishReason"]);c!=null&&f(e,["finishReason"],c);const d=u(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const g=u(n,["groundingMetadata"]);g!=null&&f(e,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(e,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function rA(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function lA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let c=Vt(l);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["contents"],c)}return o}function aA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["tokensInfo"],l)}return e}function uA(n){const e={},o=u(n,["values"]);o!=null&&f(e,["values"],o);const s=u(n,["statistics"]);return s!=null&&f(e,["statistics"],cA(s)),e}function cA(n){const e={},o=u(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=u(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function Gl(n){const e={},o=u(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>_1(c))),f(e,["parts"],l)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function fA(n){const e={},o=u(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=u(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function dA(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hA(n,e){const o={},s=u(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],rt(s));const l=u(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(g=>uy(g))),f(e,["tools"],d)}const c=u(n,["generationConfig"]);return e!==void 0&&c!=null&&f(e,["generationConfig"],o1(c)),o}function pA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let d=Vt(l);Array.isArray(d)&&(d=d.map(g=>Gl(g))),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&dA(c),o}function mA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let d=Vt(l);Array.isArray(d)&&(d=d.map(g=>g)),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&hA(c,o),o}function gA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const l=u(n,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function yA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function vA(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Ce(n,s)),o}function _A(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Ce(n,s)),o}function TA(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function EA(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function SA(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=u(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const d=u(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const A=u(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const x=u(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const L=u(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const U=u(n,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const V=u(n,["labels"]);e!==void 0&&V!=null&&f(e,["labels"],V);const F=u(n,["editMode"]);e!==void 0&&F!=null&&f(e,["parameters","editMode"],F);const z=u(n,["baseSteps"]);return e!==void 0&&z!=null&&f(e,["parameters","editConfig","baseSteps"],z),o}function CA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=u(e,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>R1(y))),f(o,["instances[0]","referenceImages"],g)}const d=u(e,["config"]);return d!=null&&SA(d,o),o}function AA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Ol(c))),f(e,["generatedImages"],l)}return e}function RA(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=u(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function bA(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const l=u(n,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const c=u(n,["outputDimensionality"]);e!==void 0&&c!=null&&f(e,["parameters","outputDimensionality"],c);const d=u(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const g=u(n,["autoTruncate"]);return e!==void 0&&g!=null&&f(e,["parameters","autoTruncate"],g),o}function IA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let g=tf(n,l);Array.isArray(g)&&(g=g.map(y=>y)),f(o,["requests[]","content"],g)}const c=u(e,["config"]);c!=null&&RA(c,o);const d=u(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Ce(n,d)),o}function wA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let d=tf(n,l);Array.isArray(d)&&(d=d.map(g=>g)),f(o,["instances[]","content"],d)}const c=u(e,["config"]);return c!=null&&bA(c,o),o}function xA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["embeddings"],c)}const l=u(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function NA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions[]","embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>uA(d))),f(e,["embeddings"],c)}const l=u(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function MA(n){const e={},o=u(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=u(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function DA(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function UA(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const l=u(n,["name"]);if(l!=null&&f(e,["name"],l),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LA(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kA(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const l=u(n,["parameters"]);l!=null&&f(e,["parameters"],l);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const g=u(n,["responseJsonSchema"]);if(g!=null&&f(e,["responseJsonSchema"],g),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function PA(n,e,o){const s={},l=u(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],Gl(rt(l)));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const g=u(e,["topK"]);g!=null&&f(s,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const x=u(e,["frequencyPenalty"]);x!=null&&f(s,["frequencyPenalty"],x);const L=u(e,["seed"]);L!=null&&f(s,["seed"],L);const U=u(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const V=u(e,["responseSchema"]);V!=null&&f(s,["responseSchema"],nf(V));const F=u(e,["responseJsonSchema"]);if(F!=null&&f(s,["responseJsonSchema"],F),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(e,["safetySettings"]);if(o!==void 0&&z!=null){let le=z;Array.isArray(le)&&(le=le.map(De=>b1(De))),f(o,["safetySettings"],le)}const Y=u(e,["tools"]);if(o!==void 0&&Y!=null){let le=Po(Y);Array.isArray(le)&&(le=le.map(De=>U1(ko(De)))),f(o,["tools"],le)}const j=u(e,["toolConfig"]);if(o!==void 0&&j!=null&&f(o,["toolConfig"],D1(j)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],Nn(n,te));const J=u(e,["responseModalities"]);J!=null&&f(s,["responseModalities"],J);const fe=u(e,["mediaResolution"]);fe!=null&&f(s,["mediaResolution"],fe);const Z=u(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],of(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const Te=u(e,["imageConfig"]);Te!=null&&f(s,["imageConfig"],u1(Te));const ge=u(e,["enableEnhancedCivicAnswers"]);return ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),s}function HA(n,e,o){const s={},l=u(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],rt(l));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const g=u(e,["topK"]);g!=null&&f(s,["topK"],g);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=u(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=u(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const x=u(e,["frequencyPenalty"]);x!=null&&f(s,["frequencyPenalty"],x);const L=u(e,["seed"]);L!=null&&f(s,["seed"],L);const U=u(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const V=u(e,["responseSchema"]);V!=null&&f(s,["responseSchema"],nf(V));const F=u(e,["responseJsonSchema"]);F!=null&&f(s,["responseJsonSchema"],F);const z=u(e,["routingConfig"]);z!=null&&f(s,["routingConfig"],z);const Y=u(e,["modelSelectionConfig"]);Y!=null&&f(s,["modelConfig"],Y);const j=u(e,["safetySettings"]);if(o!==void 0&&j!=null){let P=j;Array.isArray(P)&&(P=P.map(q=>q)),f(o,["safetySettings"],P)}const te=u(e,["tools"]);if(o!==void 0&&te!=null){let P=Po(te);Array.isArray(P)&&(P=P.map(q=>uy(ko(q)))),f(o,["tools"],P)}const J=u(e,["toolConfig"]);o!==void 0&&J!=null&&f(o,["toolConfig"],J);const fe=u(e,["labels"]);o!==void 0&&fe!=null&&f(o,["labels"],fe);const Z=u(e,["cachedContent"]);o!==void 0&&Z!=null&&f(o,["cachedContent"],Nn(n,Z));const de=u(e,["responseModalities"]);de!=null&&f(s,["responseModalities"],de);const Te=u(e,["mediaResolution"]);Te!=null&&f(s,["mediaResolution"],Te);const ge=u(e,["speechConfig"]);ge!=null&&f(s,["speechConfig"],of(ge));const le=u(e,["audioTimestamp"]);le!=null&&f(s,["audioTimestamp"],le);const De=u(e,["thinkingConfig"]);De!=null&&f(s,["thinkingConfig"],De);const ze=u(e,["imageConfig"]);if(ze!=null&&f(s,["imageConfig"],c1(ze)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Xg(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let d=Vt(l);Array.isArray(d)&&(d=d.map(g=>Gl(g))),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&f(o,["generationConfig"],PA(n,c,o)),o}function $g(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["contents"]);if(l!=null){let d=Vt(l);Array.isArray(d)&&(d=d.map(g=>g)),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&f(o,["generationConfig"],HA(n,c,o)),o}function Qg(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>sA(m))),f(e,["candidates"],y)}const l=u(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=u(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const d=u(n,["responseId"]);d!=null&&f(e,["responseId"],d);const g=u(n,["usageMetadata"]);return g!=null&&f(e,["usageMetadata"],g),e}function Zg(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const l=u(n,["createTime"]);l!=null&&f(e,["createTime"],l);const c=u(n,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const d=u(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const g=u(n,["responseId"]);g!=null&&f(e,["responseId"],g);const y=u(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function GA(n,e){const o={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=u(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=u(n,["guidanceScale"]);if(e!==void 0&&c!=null&&f(e,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const g=u(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=u(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=u(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const E=u(n,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const T=u(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(n,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function OA(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=u(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const d=u(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const g=u(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const y=u(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const A=u(n,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const x=u(n,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const L=u(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const U=u(n,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const V=u(n,["labels"]);e!==void 0&&V!=null&&f(e,["labels"],V);const F=u(n,["imageSize"]);e!==void 0&&F!=null&&f(e,["parameters","sampleImageSize"],F);const z=u(n,["enhancePrompt"]);return e!==void 0&&z!=null&&f(e,["parameters","enhancePrompt"],z),o}function VA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=u(e,["config"]);return c!=null&&GA(c,o),o}function BA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=u(e,["config"]);return c!=null&&OA(c,o),o}function zA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>e1(d))),f(e,["generatedImages"],c)}const l=u(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],ly(l)),e}function qA(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ol(d))),f(e,["generatedImages"],c)}const l=u(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],ay(l)),e}function FA(n,e){const o={},s=u(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=u(n,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const d=u(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const g=u(n,["personGeneration"]);if(e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=u(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Vl(v));const E=u(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>Y1(A))),f(e,["instances[0]","referenceImages"],T)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function JA(n,e){const o={},s=u(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=u(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=u(n,["fps"]);e!==void 0&&c!=null&&f(e,["parameters","fps"],c);const d=u(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const g=u(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=u(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["pubsubTopic"]);e!==void 0&&E!=null&&f(e,["parameters","pubsubTopic"],E);const T=u(n,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const A=u(n,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const x=u(n,["generateAudio"]);e!==void 0&&x!=null&&f(e,["parameters","generateAudio"],x);const L=u(n,["lastFrame"]);e!==void 0&&L!=null&&f(e,["instances[0]","lastFrame"],Qt(L));const U=u(n,["referenceImages"]);if(e!==void 0&&U!=null){let z=U;Array.isArray(z)&&(z=z.map(Y=>K1(Y))),f(e,["instances[0]","referenceImages"],z)}const V=u(n,["mask"]);e!==void 0&&V!=null&&f(e,["instances[0]","mask"],J1(V));const F=u(n,["compressionQuality"]);return e!==void 0&&F!=null&&f(e,["parameters","compressionQuality"],F),o}function YA(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],QA(d)),e}function KA(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],ZA(d)),e}function XA(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=u(e,["image"]);c!=null&&f(o,["instances[0]","image"],Vl(c));const d=u(e,["video"]);d!=null&&f(o,["instances[0]","video"],cy(d));const g=u(e,["source"]);g!=null&&WA(g,o);const y=u(e,["config"]);return y!=null&&FA(y,o),o}function $A(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=u(e,["image"]);c!=null&&f(o,["instances[0]","image"],Qt(c));const d=u(e,["video"]);d!=null&&f(o,["instances[0]","video"],fy(d));const g=u(e,["source"]);g!=null&&jA(g,o);const y=u(e,["config"]);return y!=null&&JA(y,o),o}function QA(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>n1(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=u(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function ZA(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>i1(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=u(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function WA(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=u(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Vl(l));const c=u(n,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],cy(c)),o}function jA(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=u(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Qt(l));const c=u(n,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],fy(c)),o}function e1(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["image"],f1(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=u(n,["_self"]);return l!=null&&f(e,["safetyAttributes"],ly(l)),e}function Ol(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["image"],ry(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=u(n,["_self"]);l!=null&&f(e,["safetyAttributes"],ay(l));const c=u(n,["prompt"]);return c!=null&&f(e,["enhancedPrompt"],c),e}function t1(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["mask"],ry(o));const s=u(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["labels"],l)}return e}function n1(n){const e={},o=u(n,["video"]);return o!=null&&f(e,["video"],q1(o)),e}function i1(n){const e={},o=u(n,["_self"]);return o!=null&&f(e,["video"],F1(o)),e}function o1(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=u(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const c=u(n,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const d=u(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const g=u(n,["frequencyPenalty"]);g!=null&&f(e,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const A=u(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const x=u(n,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const L=u(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const U=u(n,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const V=u(n,["seed"]);V!=null&&f(e,["seed"],V);const F=u(n,["speechConfig"]);F!=null&&f(e,["speechConfig"],F);const z=u(n,["stopSequences"]);z!=null&&f(e,["stopSequences"],z);const Y=u(n,["temperature"]);Y!=null&&f(e,["temperature"],Y);const j=u(n,["thinkingConfig"]);j!=null&&f(e,["thinkingConfig"],j);const te=u(n,["topK"]);te!=null&&f(e,["topK"],te);const J=u(n,["topP"]);if(J!=null&&f(e,["topP"],J),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function s1(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Ce(n,s)),o}function r1(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Ce(n,s)),o}function l1(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function a1(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function u1(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function c1(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const l=u(n,["personGeneration"]);l!=null&&f(e,["personGeneration"],l);const c=u(n,["outputMimeType"]);c!=null&&f(e,["imageOutputOptions","mimeType"],c);const d=u(n,["outputCompressionQuality"]);return d!=null&&f(e,["imageOutputOptions","compressionQuality"],d),e}function f1(n){const e={},o=u(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],ui(o));const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ry(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],ui(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Vl(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],ui(o));const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Qt(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],ui(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function d1(n,e,o){const s={},l=u(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const d=u(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const g=u(e,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],j0(n,g)),s}function h1(n,e,o){const s={},l=u(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const d=u(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const g=u(e,["queryBase"]);return o!==void 0&&g!=null&&f(o,["_url","models_url"],j0(n,g)),s}function p1(n,e){const o={},s=u(e,["config"]);return s!=null&&d1(n,s,o),o}function m1(n,e){const o={},s=u(e,["config"]);return s!=null&&h1(n,s,o),o}function g1(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["_self"]);if(l!=null){let c=ey(l);Array.isArray(c)&&(c=c.map(d=>Dc(d))),f(e,["models"],c)}return e}function y1(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["_self"]);if(l!=null){let c=ey(l);Array.isArray(c)&&(c=c.map(d=>Uc(d))),f(e,["models"],c)}return e}function v1(n){const e={},o=u(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=u(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const l=u(n,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function Dc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=u(n,["description"]);l!=null&&f(e,["description"],l);const c=u(n,["version"]);c!=null&&f(e,["version"],c);const d=u(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],L1(d));const g=u(n,["inputTokenLimit"]);g!=null&&f(e,["inputTokenLimit"],g);const y=u(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=u(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=u(n,["temperature"]);v!=null&&f(e,["temperature"],v);const E=u(n,["maxTemperature"]);E!=null&&f(e,["maxTemperature"],E);const T=u(n,["topP"]);T!=null&&f(e,["topP"],T);const A=u(n,["topK"]);A!=null&&f(e,["topK"],A);const x=u(n,["thinking"]);return x!=null&&f(e,["thinking"],x),e}function Uc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=u(n,["description"]);l!=null&&f(e,["description"],l);const c=u(n,["versionId"]);c!=null&&f(e,["version"],c);const d=u(n,["deployedModels"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>MA(T))),f(e,["endpoints"],E)}const g=u(n,["labels"]);g!=null&&f(e,["labels"],g);const y=u(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],k1(y));const m=u(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=u(n,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),f(e,["checkpoints"],E)}return e}function _1(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=u(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],DA(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],UA(d));const g=u(n,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],oA(y));const m=u(n,["text"]);m!=null&&f(e,["text"],m);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function T1(n){const e={},o=u(n,["productImage"]);return o!=null&&f(e,["image"],Qt(o)),e}function E1(n,e){const o={},s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=u(n,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const c=u(n,["outputGcsUri"]);e!==void 0&&c!=null&&f(e,["parameters","storageUri"],c);const d=u(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const y=u(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=u(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=u(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const E=u(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const T=u(n,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const A=u(n,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),o}function S1(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["source"]);l!=null&&A1(l,o);const c=u(e,["config"]);return c!=null&&E1(c,o),o}function C1(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Ol(l))),f(e,["generatedImages"],s)}return e}function A1(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=u(n,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],Qt(l));const c=u(n,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>T1(g))),f(e,["instances[0]","productImages"],d)}return o}function R1(n){const e={},o=u(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],Qt(o));const s=u(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const l=u(n,["referenceType"]);l!=null&&f(e,["referenceType"],l);const c=u(n,["maskImageConfig"]);c!=null&&f(e,["maskImageConfig"],v1(c));const d=u(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],fA(d));const g=u(n,["styleImageConfig"]);g!=null&&f(e,["styleImageConfig"],g);const y=u(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function ly(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=u(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function ay(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=u(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function b1(n){const e={},o=u(n,["category"]);if(o!=null&&f(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function I1(n){const e={},o=u(n,["image"]);return o!=null&&f(e,["image"],Qt(o)),e}function w1(n,e){const o={},s=u(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const l=u(n,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const c=u(n,["confidenceThreshold"]);e!==void 0&&c!=null&&f(e,["parameters","confidenceThreshold"],c);const d=u(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const g=u(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&f(e,["parameters","binaryColorThreshold"],g);const y=u(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function x1(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["source"]);l!=null&&M1(l,o);const c=u(e,["config"]);return c!=null&&w1(c,o),o}function N1(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>t1(l))),f(e,["generatedMasks"],s)}return e}function M1(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=u(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Qt(l));const c=u(n,["scribbleImage"]);return e!==void 0&&c!=null&&f(e,["instances[0]","scribble"],I1(c)),o}function D1(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],LA(s)),e}function U1(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const l=u(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],l1(d));const g=u(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],a1(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function uy(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=u(n,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>kA(T))),f(e,["functionDeclarations"],E)}const g=u(n,["googleMaps"]);g!=null&&f(e,["googleMaps"],g);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=u(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function L1(n){const e={},o=u(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=u(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function k1(n){const e={},o=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=u(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function P1(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=u(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function H1(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=u(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function G1(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","name"],Ce(n,s));const l=u(e,["config"]);return l!=null&&P1(l,o),o}function O1(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["config"]);return l!=null&&H1(l,o),o}function V1(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=u(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const c=u(n,["personGeneration"]);e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c);const d=u(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const g=u(n,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const y=u(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=u(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const T=u(n,["numberOfImages"]);e!==void 0&&T!=null&&f(e,["parameters","sampleCount"],T);const A=u(n,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),o}function B1(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Ce(n,s));const l=u(e,["image"]);l!=null&&f(o,["instances[0]","image"],Qt(l));const c=u(e,["upscaleFactor"]);c!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(e,["config"]);return d!=null&&V1(d,o),o}function z1(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Ol(c))),f(e,["generatedImages"],l)}return e}function q1(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],ui(s));const l=u(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function F1(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],ui(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function J1(n){const e={},o=u(n,["image"]);o!=null&&f(e,["_self"],Qt(o));const s=u(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function Y1(n){const e={},o=u(n,["image"]);o!=null&&f(e,["image"],Vl(o));const s=u(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function K1(n){const e={},o=u(n,["image"]);o!=null&&f(e,["image"],Qt(o));const s=u(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function cy(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],ui(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function fy(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],ui(s));const l=u(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X1(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function $1(n){const e={},o=u(n,["config"]);return o!=null&&X1(o,e),e}function Q1(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function Z1(n){const e={},o=u(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&Q1(s,e),e}function W1(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function j1(n,e){const o={},s=u(n,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["customMetadata"],c)}const l=u(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),o}function eR(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=u(n,["done"]);l!=null&&f(e,["done"],l);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],nR(d)),e}function tR(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=u(n,["fileName"]);s!=null&&f(e,["fileName"],s);const l=u(n,["config"]);return l!=null&&j1(l,e),e}function nR(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const l=u(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function iR(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function oR(n){const e={},o=u(n,["config"]);return o!=null&&iR(o,e),e}function sR(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["fileSearchStores"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["fileSearchStores"],c)}return e}function dy(n,e){const o={},s=u(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const l=u(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=u(n,["customMetadata"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(e,["customMetadata"],g)}const d=u(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function rR(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=u(n,["config"]);return s!=null&&dy(s,e),e}function lR(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aR="Content-Type",uR="X-Server-Timeout",cR="User-Agent",Lc="x-goog-api-client",fR="1.37.0",dR=`google-genai-sdk/${fR}`,hR="v1beta1",pR="v1beta";class mR{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:hR,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:pR,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,g]of Object.entries(e.queryParams))l.searchParams.append(d,String(g));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,l.toString(),e.abortSignal),this.unaryApiCall(l,c,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,c]of Object.entries(o))typeof c=="object"?s[l]=Object.assign(Object.assign({},s[l]),c):c!==void 0&&(s[l]=c);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,l.toString(),e.abortSignal),this.streamApiCall(l,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&gR(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await Wg(l),new xc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await Wg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return Kt(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield se(l.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(v,{stream:!0});try{const x=JSON.parse(E);if("error"in x){const L=JSON.parse(JSON.stringify(x.error)),U=L.status,V=L.code,F=`got status: ${U}. ${JSON.stringify(x)}`;if(V>=400&&V<600)throw new Hl({message:F,status:V})}}catch(x){if(x.name==="ApiError")throw x}d+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const U of y){const V=d.indexOf(U);V!==-1&&(T===-1||V<T)&&(T=V,A=U.length)}if(T===-1)break;const x=d.substring(0,T);d=d.substring(T+A);const L=x.trim();if(L.startsWith(g)){const U=L.substring(g.length).trim();try{const V=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new xc(V))}catch(V){throw new Error(`exception parsing stream chunk ${U}. ${V}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=dR+" "+this.clientOptions.userAgentExtra;return e[cR]=o,e[Lc]=o,e[aR]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))s.append(l,c);e.timeout&&e.timeout>0&&s.append(uR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);l.sizeBytes=String(d.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=g;const y={file:l},m=this.getFileName(e),v=X("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,m,y,o==null?void 0:o.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,s){var l;const c=this.clientOptions.uploader,d=await c.stat(o),g=String(d.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),E={};s!=null&&dy(s,E);const T=await this.fetchUploadUrl(m,g,y,v,E,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,c,d){var g;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Wg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new Hl({message:l,status:o}):new Error(l)}}function gR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,d){const g=Object.assign({},c);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR="mcp_used/unknown";let vR=!1;function hy(n){for(const e of n)if(_R(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vR}function py(n){var e;const o=(e=n[Lc])!==null&&e!==void 0?e:"";n[Lc]=(o+` ${yR}`).trimStart()}function _R(n){return n!==null&&typeof n=="object"&&n instanceof rf}function TR(n){return Kt(this,arguments,function*(o,s=100){let l,c=0;for(;c<s;){const d=yield se(o.listTools({cursor:l}));for(const g of d.tools)yield yield se(g),c++;if(!d.nextCursor)break;l=d.nextCursor}})}class rf{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new rf(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Xt(TR(v))),m;m=await y.next(),e=m.done,!e;g=!0){l=m.value,g=!1;const E=l;d.push(E);const T=E.name;if(c[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);c[T]=v}}catch(E){o={error:E}}finally{try{!g&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),ZE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await l.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ER(n,e,o){const s=new qE;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class SR{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=RR(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(z=>{m=z}),E=e.callbacks,T=function(){m({})},A=this.apiClient,x={onopen:T,onmessage:z=>{ER(A,E.onmessage,z)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(z){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(z){}},L=this.webSocketFactory.create(y,AR(d),x);L.connect(),await v;const F={setup:{model:Ce(this.apiClient,e.model)}};return L.send(JSON.stringify(F)),new CR(L,this.apiClient)}}class CR{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=XC(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=KC(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ao.PLAY)}pause(){this.sendPlaybackControl(Ao.PAUSE)}stop(){this.sendPlaybackControl(Ao.STOP)}resetContext(){this.sendPlaybackControl(Ao.RESET_CONTEXT)}close(){this.conn.close()}}function AR(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function RR(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IR(n,e,o){const s=new zE;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const c=JSON.parse(l);if(n.isVertexAI()){const d=ZC(c);Object.assign(s,d)}else Object.assign(s,c);e(s)}class wR{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new SR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,c,d,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&hy(e.config.tools)&&py(E);const T=DR(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const Z=this.apiClient.getApiKey();let de="BidiGenerateContent",Te="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",Te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${de}?${Te}=${Z}`}let A=()=>{};const x=new Promise(Z=>{A=Z}),L=e.callbacks,U=function(){var Z;(Z=L==null?void 0:L.onopen)===null||Z===void 0||Z.call(L),A({})},V=this.apiClient,F={onopen:U,onmessage:Z=>{IR(V,L.onmessage,Z)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(s=L==null?void 0:L.onclose)!==null&&s!==void 0?s:function(Z){}},z=this.webSocketFactory.create(v,MR(T),F);z.connect(),await x;let Y=Ce(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const Z=this.apiClient.getProject(),de=this.apiClient.getLocation();Y=`projects/${Z}/locations/${de}/`+Y}let j={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rl.AUDIO]}:e.config.responseModalities=[Rl.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[],J=[];for(const Z of te)if(this.isCallableTool(Z)){const de=Z;J.push(await de.tool())}else J.push(Z);J.length>0&&(e.config.tools=J);const fe={model:Y,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=YC(this.apiClient,fe):j=JC(this.apiClient,fe),delete j.config,z.send(JSON.stringify(j)),new NR(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xR={turnComplete:!0};class NR{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Vt(o.turns),e.isVertexAI()||(s=s.map(l=>Gl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(bR)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},xR),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:QC(e)}:o={realtimeInput:$C(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function MR(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function DR(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jg=10;function e0(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Io(d)){l=!0;break}if(!l)return!0;const c=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Io(n){return"callTool"in n&&typeof n.callTool=="function"}function UR(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>Io(l)))!==null&&s!==void 0?s:!1}function t0(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(Io(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(l)}),o}function n0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LR extends xn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,c,d,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!UR(o)||e0(o.config))return await this.generateContentInternal(y);const m=t0(o);if(m.length>0){const L=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,E;const T=Vt(y.contents),A=(c=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:jg;let x=0;for(;x<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,U=[];for(const V of(g=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[])if(Io(V)){const z=await V.callTool(v.functionCalls);U.push(...z)}x++,E={role:"user",parts:U},y.contents=Vt(y.contents),y.contents.push(L),y.contents.push(E),n0(y.config)&&(T.push(L),T.push(E))}return n0(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var s,l,c,d,g;if(this.maybeMoveToResponseJsonSchem(o),e0(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=t0(o);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let c;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:d.push(y);let g;return c?g={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new ki(bn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,c,d,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(c=o.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const d=await Promise.all(c.map(async y=>Io(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(g.config.tools=d,e.config&&e.config.tools&&hy(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),py(m),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(e){var o,s,l;const c=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Io(d)){const g=d,y=await g.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(e){var o,s,l;const c=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:jg;let d=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(m,v,E){return Kt(this,arguments,function*(){for(var T,A,x,L,U,V;g<c;){d&&(g++,d=!1);const j=yield se(m.processParamsMaybeAddMcpUsage(E)),te=yield se(m.generateContentStreamInternal(j)),J=[],fe=[];try{for(var F=!0,z=(A=void 0,Xt(te)),Y;Y=yield se(z.next()),T=Y.done,!T;F=!0){L=Y.value,F=!1;const Z=L;if(yield yield se(Z),Z.candidates&&(!((U=Z.candidates[0])===null||U===void 0)&&U.content)){fe.push(Z.candidates[0].content);for(const de of(V=Z.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(g<c&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const Te=yield se(v.get(de.functionCall.name).callTool([de.functionCall]));J.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(Z){A={error:Z}}finally{try{!F&&!T&&(x=z.return)&&(yield se(x.call(z)))}finally{if(A)throw A.error}}if(J.length>0){d=!0;const Z=new Ls;Z.candidates=[{content:{role:"user",parts:J}}],yield yield se(Z);const de=[];de.push(...fe),de.push({role:"user",parts:J});const Te=Vt(E.contents).concat(de);E.contents=Te}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=$g(this.apiClient,e);return g=X("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Zg(v),T=new Ls;return Object.assign(T,E),T})}else{const m=Xg(this.apiClient,e);return g=X("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Qg(v),T=new Ls;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=$g(this.apiClient,e);return g=X("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(E){return Kt(this,arguments,function*(){var T,A,x,L;try{for(var U=!0,V=Xt(E),F;F=yield se(V.next()),T=F.done,!T;U=!0){L=F.value,U=!1;const z=L,Y=Zg(yield se(z.json()));Y.sdkHttpResponse={headers:z.headers};const j=new Ls;Object.assign(j,Y),yield yield se(j)}}catch(z){A={error:z}}finally{try{!U&&!T&&(x=V.return)&&(yield se(x.call(V)))}finally{if(A)throw A.error}}})})}else{const m=Xg(this.apiClient,e);return g=X("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(E){return Kt(this,arguments,function*(){var T,A,x,L;try{for(var U=!0,V=Xt(E),F;F=yield se(V.next()),T=F.done,!T;U=!0){L=F.value,U=!1;const z=L,Y=Qg(yield se(z.json()));Y.sdkHttpResponse={headers:z.headers};const j=new Ls;Object.assign(j,Y),yield yield se(j)}}catch(z){A={error:z}}finally{try{!U&&!T&&(x=V.return)&&(yield se(x.call(V)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=wA(this.apiClient,e);return g=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=NA(v),T=new Mg;return Object.assign(T,E),T})}else{const m=IA(this.apiClient,e);return g=X("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=xA(v),T=new Mg;return Object.assign(T,E),T})}}async generateImagesInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=BA(this.apiClient,e);return g=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=qA(v),T=new Dg;return Object.assign(T,E),T})}else{const m=VA(this.apiClient,e);return g=X("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=zA(v),T=new Dg;return Object.assign(T,E),T})}}async editImageInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=CA(this.apiClient,e);return c=X("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=AA(y),v=new ME;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=B1(this.apiClient,e);return c=X("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=z1(y),v=new DE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=S1(this.apiClient,e);return c=X("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=C1(y),v=new UE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=x1(this.apiClient,e);return c=X("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=N1(y),v=new LE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=r1(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Uc(v))}else{const m=s1(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Dc(v))}}async listInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=m1(this.apiClient,e);return g=X("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=y1(v),T=new Ug;return Object.assign(T,E),T})}else{const m=p1(this.apiClient,e);return g=X("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=g1(v),T=new Ug;return Object.assign(T,E),T})}}async update(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=O1(this.apiClient,e);return g=X("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Uc(v))}else{const m=G1(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Dc(v))}}async delete(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=_A(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=EA(v),T=new Lg;return Object.assign(T,E),T})}else{const m=vA(this.apiClient,e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=TA(v),T=new Lg;return Object.assign(T,E),T})}}async countTokens(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=mA(this.apiClient,e);return g=X("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=yA(v),T=new kg;return Object.assign(T,E),T})}else{const m=pA(this.apiClient,e);return g=X("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=gA(v),T=new kg;return Object.assign(T,E),T})}}async computeTokens(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=lA(this.apiClient,e);return c=X("{model}:computeTokens",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=aA(y),v=new kE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=$A(this.apiClient,e);return g=X("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const E=KA(v),T=new bl;return Object.assign(T,E),T})}else{const m=XA(this.apiClient,e);return g=X("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const E=YA(v),T=new bl;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kR extends xn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=RE(e);return g=X("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=AE(e);return g=X("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=yE(e);return c=X("{resourceName}:fetchPredictOperation",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function HR(n){const e={},o=u(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>YR(c))),f(e,["parts"],l)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function GR(n,e,o){const s={},l=u(e,["expireTime"]);o!==void 0&&l!=null&&f(o,["expireTime"],l);const c=u(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const d=u(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const g=u(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],JR(n,g));const y=u(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function OR(n,e){const o={},s=u(e,["config"]);return s!=null&&f(o,["config"],GR(n,s,o)),o}function VR(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function BR(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const l=u(n,["name"]);if(l!=null&&f(e,["name"],l),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zR(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function qR(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function FR(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=u(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const g=u(n,["topK"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],sf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=u(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],HR(rt(x)));const L=u(n,["tools"]);if(e!==void 0&&L!=null){let te=Po(L);Array.isArray(te)&&(te=te.map(J=>XR(ko(J)))),f(e,["setup","tools"],te)}const U=u(n,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],KR(U));const V=u(n,["inputAudioTranscription"]);e!==void 0&&V!=null&&f(e,["setup","inputAudioTranscription"],V);const F=u(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=u(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const Y=u(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&f(e,["setup","contextWindowCompression"],Y);const j=u(n,["proactivity"]);if(e!==void 0&&j!=null&&f(e,["setup","proactivity"],j),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function JR(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Ce(n,s));const l=u(e,["config"]);return l!=null&&f(o,["config"],FR(l,o)),o}function YR(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=u(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],VR(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],BR(d));const g=u(n,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],PR(y));const m=u(n,["text"]);m!=null&&f(e,["text"],m);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function KR(n){const e={},o=u(n,["handle"]);if(o!=null&&f(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XR(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const l=u(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],zR(d));const g=u(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],qR(g));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $R(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(c=>`${o}.${c}`);e.push(...l)}else e.push(o)}return e.join(",")}function QR(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const c=$R(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];l.length>0&&(g=l.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class ZR extends xn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=OR(this.apiClient,e);c=X("auth_tokens",g._url),d=g._query,delete g.config,delete g._url,delete g._query;const y=QR(g,e.config);return l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WR(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function jR(n){const e={},o=u(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&WR(s,e),e}function eb(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function tb(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=u(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function nb(n){const e={},o=u(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=u(n,["config"]);return s!=null&&tb(s,e),e}function ib(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=u(n,["documents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob extends xn{constructor(e){super(),this.apiClient=e,this.list=async o=>new ki(bn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eb(e);return c=X("{name}",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jR(e);l=X("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nb(e);return c=X("{parent}/documents",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=ib(y),v=new PE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sb extends xn{constructor(e,o=new ob(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new ki(bn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$1(e);return c=X("fileSearchStores",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=W1(e);return c=X("{name}",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Z1(e);l=X("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oR(e);return c=X("fileSearchStores",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=sR(y),v=new HE;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rR(e);return c=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=lR(y),v=new GE;return Object.assign(v,m),v})}}async importFile(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tR(e);return c=X("{file_search_store_name}:importFile",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=eR(y),v=new jc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let my=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return my=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const rb=()=>my();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Pc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{}class ct extends Bt{constructor(e,o,s,l){super(`${ct.makeMessage(e,o,s)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,s){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,s,l){if(!e||!l)return new Bl({message:s,cause:Pc(o)});const c=o;return e===400?new yy(e,c,s,l):e===401?new vy(e,c,s,l):e===403?new _y(e,c,s,l):e===404?new Ty(e,c,s,l):e===409?new Ey(e,c,s,l):e===422?new Sy(e,c,s,l):e===429?new Cy(e,c,s,l):e>=500?new Ay(e,c,s,l):new ct(e,c,s,l)}}class Hc extends ct{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bl extends ct{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class gy extends Bl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class yy extends ct{}class vy extends ct{}class _y extends ct{}class Ty extends ct{}class Ey extends ct{}class Sy extends ct{}class Cy extends ct{}class Ay extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lb=/^[a-z][a-z0-9+.-]*:/i,ab=n=>lb.test(n);let Gc=n=>(Gc=Array.isArray,Gc(n));const ub=Gc;let cb=ub;const i0=cb;function fb(n){if(!n)return!0;for(const e in n)return!1;return!0}function db(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const hb=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Bt(`${n} must be an integer`);if(e<0)throw new Bt(`${n} must be a positive integer`);return e},pb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mb=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yb=()=>{var n,e,o,s,l;const c=gb();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":s0(Deno.build.os),"X-Stainless-Arch":o0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":s0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":o0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const d=vb();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vb(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const l=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:e,version:`${l}.${c}.${d}`}}}return null}const o0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",s0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let hl;const _b=()=>hl??(hl=yb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ry(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Eb(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Ry({start(){},async pull(o){const{done:s,value:l}=await e.next();s?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function by(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Sb(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cb=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iy=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vc(n,e,o){return Iy(),new File(n,e??"unknown_file",o)}function Ab(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Rb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",bb=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&wy(n),Ib=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function wb(n,e,o){if(Iy(),n=await n,bb(n))return n instanceof File?n:vc([await n.arrayBuffer()],n.name);if(Ib(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),vc(await Oc(l),e,o)}const s=await Oc(n);if(e||(e=Ab(n)),!(o!=null&&o.type)){const l=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return vc(s,e,o)}async function Oc(n){var e,o,s,l,c;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(wy(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(Rb(n))try{for(var g=!0,y=Xt(n),m;m=await y.next(),e=m.done,!e;g=!0){l=m.value,g=!1;const v=l;d.push(...await Oc(v))}}catch(v){o={error:v}}finally{try{!g&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${xb(n)}`)}return d}function xb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xy{constructor(e){this._client=e}}xy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ny(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const r0=Object.freeze(Object.create(null)),Nb=(n=Ny)=>(function(o,...s){if(o.length===1)return o[0];let l=!1;const c=[],d=o.reduce((v,E,T)=>{var A,x,L;/[?#]/.test(E)&&(l=!0);const U=s[T];let V=(l?encodeURIComponent:n)(""+U);return T!==s.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((x=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:r0))!==null&&x!==void 0?x:r0))===null||L===void 0?void 0:L.toString))&&(V=U+"",c.push({start:v.length+E.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+E+(T===s.length?"":V)},""),g=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((v,E)=>v.start-E.start),c.length>0){let v=0;const E=c.reduce((T,A)=>{const x=" ".repeat(A.start-v),L="^".repeat(A.length);return v=A.start+A.length,T+x+L},"");throw new Bt(`Path parameters result in path with invalid segments:
${c.map(T=>T.error).join(`
`)}
${d}
${E}`)}return d}),pl=Nb(Ny);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class My extends xy{create(e,o){var s;const{api_version:l=this._client.apiVersion}=e,c=wl(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Bt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Bt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(pl`/${l}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(pl`/${l}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(pl`/${l}/interactions/${e}/cancel`,s)}get(e,o={},s){var l;const c=o??{},{api_version:d=this._client.apiVersion}=c,g=wl(c,["api_version"]);return this._client.get(pl`/${d}/interactions/${e}`,Object.assign(Object.assign({query:g},s),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}My._key=Object.freeze(["interactions"]);class Dy extends My{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(n){let e=0;for(const l of n)e+=l.length;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.length;return o}let ml;function lf(n){let e;return(ml??(e=new globalThis.TextEncoder,ml=e.encode.bind(e)))(n)}let gl;function l0(n){let e;return(gl??(e=new globalThis.TextDecoder,gl=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?lf(e):e;this.buffer=Mb([this.buffer,o]);const s=[];let l;for(;(l=Db(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(l0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,d=l0(this.buffer.subarray(0,c));s.push(d),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}zl.NEWLINE_CHARS=new Set([`
`,"\r"]);zl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Db(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function Ub(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xl={off:0,error:200,warn:300,info:400,debug:500},a0=(n,e,o)=>{if(n){if(db(xl,n))return n;ut(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(xl))}`)}};function Ps(){}function yl(n,e,o){return!e||xl[n]>xl[o]?Ps:e[n].bind(e)}const Lb={error:Ps,warn:Ps,info:Ps,debug:Ps};let u0=new WeakMap;function ut(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Lb;const l=u0.get(o);if(l&&l[0]===s)return l[1];const c={error:yl("error",o,s),warn:yl("warn",o,s),info:yl("info",o,s),debug:yl("debug",o,s)};return u0.set(o,[s,c]),c}const Ni=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ro{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let l=!1;const c=s?ut(s):console;function d(){return Kt(this,arguments,function*(){var y,m,v,E;if(l)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var A=!0,x=Xt(kb(e,o)),L;L=yield se(x.next()),y=L.done,!y;A=!0){E=L.value,A=!1;const U=E;if(!T)if(U.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield se(JSON.parse(U.data))}catch(V){throw c.error("Could not parse message into JSON:",U.data),c.error("From chunk:",U.raw),V}}}catch(U){m={error:U}}finally{try{!A&&!y&&(v=x.return)&&(yield se(v.call(x)))}finally{if(m)throw m.error}}T=!0}catch(U){if(kc(U))return yield se(void 0);throw U}finally{T||o.abort()}})}return new Ro(d,o,s)}static fromReadableStream(e,o,s){let l=!1;function c(){return Kt(this,arguments,function*(){var y,m,v,E;const T=new zl,A=by(e);try{for(var x=!0,L=Xt(A),U;U=yield se(L.next()),y=U.done,!y;x=!0){E=U.value,x=!1;const V=E;for(const F of T.decode(V))yield yield se(F)}}catch(V){m={error:V}}finally{try{!x&&!y&&(v=L.return)&&(yield se(v.call(L)))}finally{if(m)throw m.error}}for(const V of T.flush())yield yield se(V)})}function d(){return Kt(this,arguments,function*(){var y,m,v,E;if(l)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var A=!0,x=Xt(c()),L;L=yield se(x.next()),y=L.done,!y;A=!0){E=L.value,A=!1;const U=E;T||U&&(yield yield se(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!A&&!y&&(v=x.return)&&(yield se(v.call(x)))}finally{if(m)throw m.error}}T=!0}catch(U){if(kc(U))return yield se(void 0);throw U}finally{T||o.abort()}})}return new Ro(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),l=c=>({next:()=>{if(c.length===0){const d=s.next();e.push(d),o.push(d)}return c.shift()}});return[new Ro(()=>l(e),this.controller,this.client),new Ro(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return Ry({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:c}=await o.next();if(c)return s.close();const d=lf(JSON.stringify(l)+`
`);s.enqueue(d)}catch(l){s.error(l)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function kb(n,e){return Kt(this,arguments,function*(){var s,l,c,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const g=new Hb,y=new zl,m=by(n.body);try{for(var v=!0,E=Xt(Pb(m)),T;T=yield se(E.next()),s=T.done,!s;v=!0){d=T.value,v=!1;const A=d;for(const x of y.decode(A)){const L=g.decode(x);L&&(yield yield se(L))}}}catch(A){l={error:A}}finally{try{!v&&!s&&(c=E.return)&&(yield se(c.call(E)))}finally{if(l)throw l.error}}for(const A of y.flush()){const x=g.decode(A);x&&(yield yield se(x))}})}function Pb(n){return Kt(this,arguments,function*(){var o,s,l,c;let d=new Uint8Array;try{for(var g=!0,y=Xt(n),m;m=yield se(y.next()),o=m.done,!o;g=!0){c=m.value,g=!1;const v=c;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?lf(v):v;let T=new Uint8Array(d.length+E.length);T.set(d),T.set(E,d.length),d=T;let A;for(;(A=Ub(d))!==-1;)yield yield se(d.slice(0,A)),d=d.slice(A)}}catch(v){s={error:v}}finally{try{!g&&!o&&(l=y.return)&&(yield se(l.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield se(d))})}class Hb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,l]=Gb(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function Gb(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ob(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:l,startTime:c}=e,d=await(async()=>{var g;if(e.options.stream)return ut(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Ro.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return ut(n).debug(`[${s}] response parsed`,Ni({retryOfRequestLogID:l,url:o.url,status:o.status,body:d,durationMs:Date.now()-c})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class af extends Promise{constructor(e,o,s=Ob){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new af(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uy=Symbol("brand.privateNullableHeaders");function*Vb(n){if(!n)return;if(Uy in n){const{values:s,nulls:l}=n;yield*s.entries();for(const c of l)yield[c,null];return}let e=!1,o;n instanceof Headers?o=n.entries():i0(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const c=i0(s[1])?s[1]:[s[1]];let d=!1;for(const g of c)g!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,g])}}const ks=n=>{const e=new Headers,o=new Set;for(const s of n){const l=new Set;for(const[c,d]of Vb(s)){const g=c.toLowerCase();l.has(g)||(e.delete(c),l.add(g)),d===null?(e.delete(c),o.add(g)):(e.append(c,d),o.delete(g))}}return{[Uy]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _c=n=>{var e,o,s,l,c,d;if(typeof globalThis.process<"u")return(s=(o=(e=fE)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(c=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||c===void 0?void 0:c.call(l,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ly;class ql{constructor(e){var o,s,l,c,d,g,y,{baseURL:m=_c("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=_c("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,T=wl(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:ql.DEFAULT_TIMEOUT,this.logger=(l=A.logger)!==null&&l!==void 0?l:console;const x="warn";this.logLevel=x,this.logLevel=(d=(c=a0(A.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:a0(_c("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:x,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:Tb(),this.encoder=Cb,this._options=A,this.apiKey=v,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=ks([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return ks([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ks([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Bt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Co}`}defaultIdempotencyKey(){return`stainless-node-retry-${rb()}`}makeStatusError(e,o,s,l){return ct.generate(e,o,s,l)}buildURL(e,o,s){const l=!this.baseURLOverridden()&&s||this.baseURL,c=ab(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return fb(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new af(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var l,c,d;const g=await e,y=(l=g.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,x=Date.now();if(ut(this).debug(`[${T}] sending request`,Ni({retryOfRequestLogID:s,method:g.method,url:v,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Hc;const L=new AbortController,U=await this.fetchWithTimeout(v,m,E,L).catch(Pc),V=Date.now();if(U instanceof globalThis.Error){const z=`retrying, ${o} attempts remaining`;if(!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Hc;const Y=kc(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return ut(this).info(`[${T}] connection ${Y?"timed out":"failed"} - ${z}`),ut(this).debug(`[${T}] connection ${Y?"timed out":"failed"} (${z})`,Ni({retryOfRequestLogID:s,url:v,durationMs:V-x,message:U.message})),this.retryRequest(g,o,s??T);throw ut(this).info(`[${T}] connection ${Y?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${T}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,Ni({retryOfRequestLogID:s,url:v,durationMs:V-x,message:U.message})),Y?new gy:new Bl({cause:U})}const F=`[${T}${A}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${V-x}ms`;if(!U.ok){const z=await this.shouldRetry(U);if(o&&z){const Z=`retrying, ${o} attempts remaining`;return await Sb(U.body),ut(this).info(`${F} - ${Z}`),ut(this).debug(`[${T}] response error (${Z})`,Ni({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:V-x})),this.retryRequest(g,o,s??T,U.headers)}const Y=z?"error; no more retries left":"error; not retryable";ut(this).info(`${F} - ${Y}`);const j=await U.text().catch(Z=>Pc(Z).message),te=pb(j),J=te?void 0:j;throw ut(this).debug(`[${T}] response error (${Y})`,Ni({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,message:J,durationMs:Date.now()-x})),this.makeStatusError(U.status,te,J,U.headers)}return ut(this).info(F),ut(this).debug(`[${T}] response start`,Ni({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:V-x})),{response:U,options:g,controller:L,requestLogID:T,retryOfRequestLogID:s,startTime:x}}async fetchWithTimeout(e,o,s,l){const c=o||{},{signal:d,method:g}=c,y=wl(c,["signal","method"]);d&&d.addEventListener("abort",()=>l.abort());const m=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,l){var c;let d;const g=l==null?void 0:l.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(d=m)}const y=l==null?void 0:l.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await mb(d),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,d=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return d*g*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,l,c;const d=Object.assign({},e),{method:g,path:y,query:m,defaultBaseURL:v}=d,E=this.buildURL(y,m,v);"timeout"in d&&hb("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:d}),x=await this.buildHeaders({options:e,method:g,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:x},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(c=d.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:d.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:l}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let g=ks([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),_b()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(g),g.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=ks([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Eb(e)}:this.encoder({body:e,headers:s})}}ql.DEFAULT_TIMEOUT=6e4;class je extends ql{constructor(){super(...arguments),this.interactions=new Dy(this)}}Ly=je;je.GeminiNextGenAPIClient=Ly;je.GeminiNextGenAPIClientError=Bt;je.APIError=ct;je.APIConnectionError=Bl;je.APIConnectionTimeoutError=gy;je.APIUserAbortError=Hc;je.NotFoundError=Ty;je.ConflictError=Ey;je.RateLimitError=Cy;je.BadRequestError=yy;je.AuthenticationError=vy;je.InternalServerError=Ay;je.PermissionDeniedError=_y;je.UnprocessableEntityError=Sy;je.toFile=wb;je.Interactions=Dy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function zb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function qb(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Fb(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Jb(n,e,o){const s={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=u(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","epochCount"],c);const d=u(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","batchSize"],g);const y=u(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function Yb(n,e,o){const s={};let l=u(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const A=u(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec"],c0(A))}else if(l==="PREFERENCE_TUNING"){const A=u(n,["validationDataset"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec"],c0(A))}const c=u(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&f(e,["tunedModelDisplayName"],c);const d=u(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(n,["epochCount"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=u(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(m==="PREFERENCE_TUNING"){const A=u(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(n,["adapterSize"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const T=u(n,["beta"]);return e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function Kb(n,e){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=u(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const c=u(n,["trainingDataset"]);c!=null&&oI(c);const d=u(n,["config"]);return d!=null&&Jb(d,o),o}function Xb(n,e){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=u(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const c=u(n,["trainingDataset"]);c!=null&&sI(c,o,e);const d=u(n,["config"]);return d!=null&&Yb(d,o,e),o}function $b(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Qb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Zb(n,e,o){const s={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const d=u(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function Wb(n,e,o){const s={},l=u(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const d=u(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function jb(n,e){const o={},s=u(n,["config"]);return s!=null&&Zb(s,o),o}function eI(n,e){const o={},s=u(n,["config"]);return s!=null&&Wb(s,o),o}function tI(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=u(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const c=u(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>ky(g))),f(o,["tuningJobs"],d)}return o}function nI(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=u(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const c=u(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Vc(g))),f(o,["tuningJobs"],d)}return o}function iI(n,e){const o={},s=u(n,["name"]);s!=null&&f(o,["model"],s);const l=u(n,["name"]);return l!=null&&f(o,["endpoint"],l),o}function oI(n,e){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(o,["examples","examples"],l)}return o}function sI(n,e,o){const s={};let l=u(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=u(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=u(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function ky(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=u(n,["name"]);l!=null&&f(o,["name"],l);const c=u(n,["state"]);c!=null&&f(o,["state"],Z0(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const g=u(n,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["description"]);v!=null&&f(o,["description"],v);const E=u(n,["baseModel"]);E!=null&&f(o,["baseModel"],E);const T=u(n,["_self"]);return T!=null&&f(o,["tunedModel"],iI(T)),o}function Vc(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=u(n,["name"]);l!=null&&f(o,["name"],l);const c=u(n,["state"]);c!=null&&f(o,["state"],Z0(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const g=u(n,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["error"]);v!=null&&f(o,["error"],v);const E=u(n,["description"]);E!=null&&f(o,["description"],E);const T=u(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const A=u(n,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const x=u(n,["preTunedModel"]);x!=null&&f(o,["preTunedModel"],x);const L=u(n,["supervisedTuningSpec"]);L!=null&&f(o,["supervisedTuningSpec"],L);const U=u(n,["preferenceOptimizationSpec"]);U!=null&&f(o,["preferenceOptimizationSpec"],U);const V=u(n,["tuningDataStats"]);V!=null&&f(o,["tuningDataStats"],V);const F=u(n,["encryptionSpec"]);F!=null&&f(o,["encryptionSpec"],F);const z=u(n,["partnerModelTuningSpec"]);z!=null&&f(o,["partnerModelTuningSpec"],z);const Y=u(n,["customBaseModel"]);Y!=null&&f(o,["customBaseModel"],Y);const j=u(n,["experiment"]);j!=null&&f(o,["experiment"],j);const te=u(n,["labels"]);te!=null&&f(o,["labels"],te);const J=u(n,["outputUri"]);J!=null&&f(o,["outputUri"],J);const fe=u(n,["pipelineJob"]);fe!=null&&f(o,["pipelineJob"],fe);const Z=u(n,["serviceAccount"]);Z!=null&&f(o,["serviceAccount"],Z);const de=u(n,["tunedModelDisplayName"]);de!=null&&f(o,["tunedModelDisplayName"],de);const Te=u(n,["veoTuningSpec"]);return Te!=null&&f(o,["veoTuningSpec"],Te),o}function rI(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=u(n,["name"]);l!=null&&f(o,["name"],l);const c=u(n,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(n,["done"]);d!=null&&f(o,["done"],d);const g=u(n,["error"]);return g!=null&&f(o,["error"],g),o}function c0(n,e){const o={},s=u(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const l=u(n,["vertexDatasetResource"]);return l!=null&&f(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends xn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(bn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),c=await this.tuneMldevInternal(l);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:wc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Qb(e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Vc(v))}else{const m=$b(e);return g=X("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>ky(v))}}async listInternal(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=eI(e);return g=X("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=nI(v),T=new Pg;return Object.assign(T,E),T})}else{const m=jb(e);return g=X("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=tI(v),T=new Pg;return Object.assign(T,E),T})}}async cancel(e){var o,s,l,c;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=zb(e);return g=X("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Fb(v),T=new Hg;return Object.assign(T,E),T})}else{const m=Bb(e);return g=X("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=qb(v),T=new Hg;return Object.assign(T,E),T})}}async tuneInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const g=Xb(e,e);return c=X("tuningJobs",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>Vc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Kb(e);return c=X("tunedModels",g._url),d=g._query,delete g._url,delete g._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>rI(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aI{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uI=1024*1024*8,cI=3,fI=1e3,dI=2,Nl="x-goog-upload-status";async function hI(n,e,o){var s;const l=await Py(n,e,o),c=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function pI(n,e,o){var s;const l=await Py(n,e,o),c=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=J0(c),g=new ef;return Object.assign(g,d),g}async function Py(n,e,o){var s,l;let c=0,d=0,g=new xc(new Response),y="upload";for(c=n.size;d<c;){const m=Math.min(uI,c-d),v=n.slice(d,d+m);d+m>=c&&(y+=", finalize");let E=0,T=fI;for(;E<cI&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Nl]));)E++,await gI(T),T=T*dI;if(d+=m,((l=g==null?void 0:g.headers)===null||l===void 0?void 0:l[Nl])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function mI(n){return{size:n.size,type:n.type}}function gI(n){return new Promise(e=>setTimeout(e,n))}class yI{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hI(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pI(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vI{create(e,o,s){return new _I(e,o,s)}}class _I{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0="x-goog-api-key";class TI{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(f0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(f0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI="gl-node/";class SI{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=mE(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new TI(this.apiKey);this.apiClient=new mR({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:EI+"web",uploader:new yI,downloader:new aI}),this.models=new LR(this.apiClient),this.live=new wR(this.apiClient,l,new vI),this.batches=new FS(this.apiClient),this.chats=new RC(this.models,this.apiClient),this.caches=new SC(this.apiClient),this.files=new kC(this.apiClient),this.operations=new kR(this.apiClient),this.authTokens=new ZR(this.apiClient),this.tunings=new lI(this.apiClient),this.fileSearchStores=new sb(this.apiClient)}}const CI=async(n,e,o="1:1",s)=>{const c="AIzaSyAAWU26prjZPFYx2U2kgcy6jRtzs9WUeJE".split(",").map(E=>E.trim()).filter(E=>E.length>0);if(c.length===0)throw new Error("Konfigurasi Error: API Key tidak ditemukan. Pastikan VITE_API_KEY atau VITE_GEMINI_API_KEY ada di file .env dan server di-restart.");const d=c[Math.floor(Math.random()*c.length)],g=new SI({apiKey:d}),y=E=>{if(!E.includes(";base64,"))return{mimeType:"image/png",data:E};const T=E.split(";base64,"),A=T[0].split(":")[1]||"image/png",x=T[1];return{mimeType:A,data:x}},m=y(n),v=[{inlineData:{data:m.data,mimeType:m.mimeType}}];if(s){const E=y(s);v.push({inlineData:{data:E.data,mimeType:E.mimeType}}),v.push({text:`INSTRUCTION: ${e}. TASK: Use the style or content from the second image and apply it to the first image. Preserve the subject's identity.`})}else v.push({text:`INSTRUCTION: ${e}. TASK: Edit this image based on the instruction while maintaining the subject's likeness.`});try{const E=await g.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:v},config:{imageConfig:{aspectRatio:o}}});let T="",A="";const x=E.candidates;if(x&&x.length>0&&x[0].content.parts)for(const L of x[0].content.parts)L.inlineData?T=`data:image/png;base64,${L.inlineData.data}`:L.text&&(A+=L.text);if(!T)throw A?new Error(`AI Responded: ${A}`):new Error("AI tidak menghasilkan gambar. Hal ini mungkin disebabkan oleh filter keamanan (Safety Filter).");return{imageUrl:T,text:A}}catch(E){console.error("Gemini Edit Service Error:",E);const T=E.message||"";throw T.includes("429")||T.includes("RESOURCE_EXHAUSTED")||T.includes("Quota exceeded")?new Error("Kuota API Google habis (Limit Provider). Coba tambah API Key atau tunggu sebentar."):T.includes("API key not valid")||T.includes("entity was not found")?new Error("Koneksi API bermasalah. Kunci API tidak valid atau tidak dikonfigurasi dengan benar."):E}},AI=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(n){const e=[];let o=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[o++]=l:l<2048?(e[o++]=l>>6|192,e[o++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[o++]=l>>18|240,e[o++]=l>>12&63|128,e[o++]=l>>6&63|128,e[o++]=l&63|128):(e[o++]=l>>12|224,e[o++]=l>>6&63|128,e[o++]=l&63|128)}return e},RI=function(n){const e=[];let o=0,s=0;for(;o<n.length;){const l=n[o++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=n[o++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=n[o++],d=n[o++],g=n[o++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=n[o++],d=n[o++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const c=n[l],d=l+1<n.length,g=d?n[l+1]:0,y=l+2<n.length,m=y?n[l+2]:0,v=c>>2,E=(c&3)<<4|g>>4;let T=(g&15)<<2|m>>6,A=m&63;y||(A=64,d||(T=64)),s.push(o[v],o[E],o[T],o[A])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const c=o[n.charAt(l++)],g=l<n.length?o[n.charAt(l)]:0;++l;const m=l<n.length?o[n.charAt(l)]:64;++l;const E=l<n.length?o[n.charAt(l)]:64;if(++l,c==null||g==null||m==null||E==null)throw new bI;const T=c<<2|g>>4;if(s.push(T),m!==64){const A=g<<4&240|m>>2;if(s.push(A),E!==64){const x=m<<6&192|E;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(n){const e=Hy(n);return Gy.encodeByteArray(e,!0)},Oy=function(n){return II(n).replace(/\./g,"")},Vy=function(n){try{return Gy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=()=>wI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof d0>"u")return;const n=d0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vy(n[1]);return e&&JSON.parse(e)},uf=()=>{try{return AI()||xI()||NI()||MI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DI=n=>{var e,o;return(o=(e=uf())==null?void 0:e.emulatorHosts)==null?void 0:o[n]},By=()=>{var n;return(n=uf())==null?void 0:n.config},zy=n=>{var e;return(e=uf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LI(n){return(await fetch(n,{credentials:"include"})).ok}const Hs={};function kI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hs))Hs[e]?n.emulator.push(e):n.prod.push(e);return n}function PI(n){let e=document.getElementById(n),o=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),o=!0),{created:o,element:e}}let h0=!1;function HI(n,e){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||Hs[n]===e||Hs[n]||h0)return;Hs[n]=e;function o(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=kI().prod.length>0;function d(){const T=document.getElementById(s);T&&T.remove()}function g(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{h0=!0,d()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=PI(s),A=o("text"),x=document.getElementById(A)||document.createElement("span"),L=o("learnmore"),U=document.getElementById(L)||document.createElement("a"),V=o("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;g(z),v(U,L);const Y=m();y(F,V),z.append(F,x,U,Y),document.body.appendChild(z)}c?(x.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function OI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zI(){const n=ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((n,e)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),o||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{o=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(o){e(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class ci extends Error{constructor(e,o,s){super(o),this.code=e,this.customData=s,this.name=JI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qs.prototype.create)}}class qs{constructor(e,o,s){this.service=e,this.serviceName=o,this.errors=s}create(e,...o){const s=o[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?YI(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ci(l,g,s)}}function YI(n,e){return n.replace(KI,(o,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const KI=/\{\$([^}]+)}/g;function XI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Do(n,e){if(n===e)return!0;const o=Object.keys(n),s=Object.keys(e);for(const l of o){if(!s.includes(l))return!1;const c=n[l],d=e[l];if(p0(c)&&p0(d)){if(!Do(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!o.includes(l))return!1;return!0}function p0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n){const e=[];for(const[o,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $I(n,e){const o=new QI(n,e);return o.subscribe.bind(o)}class QI{constructor(e,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(o=>{o.next(e)})}error(e){this.forEachObserver(o=>{o.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,o,s){let l;if(e===void 0&&o===void 0&&s===void 0)throw new Error("Missing Observer.");ZI(e,["next","error","complete"])?l=e:l={next:e,error:o,complete:s},l.next===void 0&&(l.next=Tc),l.error===void 0&&(l.error=Tc),l.complete===void 0&&(l.complete=Tc);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,e)}sendOne(e,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{o(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZI(n,e){if(typeof n!="object"||n===null)return!1;for(const o of e)if(o in n&&typeof n[o]=="function")return!0;return!1}function Tc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n){return n&&n._delegate?n._delegate:n}class Uo{constructor(e,o,s){this.name=e,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const s=new UI;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:o});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ew(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,o){const s=this.normalizeInstanceIdentifier(o),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,o){const s=this.onInitCallbacks.get(o);if(s)for(const l of s)try{l(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jI(e),options:o}),this.instances.set(e,s),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(n){return n===Mi?void 0:n}function ew(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new WI(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const nw={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},iw=ke.INFO,ow={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},sw=(n,e,...o)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=ow[e];if(l)console[l](`[${s}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qy{constructor(e){this.name=e,this._logLevel=iw,this._logHandler=sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const rw=(n,e)=>e.some(o=>n instanceof o);let m0,g0;function lw(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aw(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fy=new WeakMap,Bc=new WeakMap,Jy=new WeakMap,Ec=new WeakMap,cf=new WeakMap;function uw(n){const e=new Promise((o,s)=>{const l=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{o(li(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(o=>{o instanceof IDBCursor&&Fy.set(o,n)}).catch(()=>{}),cf.set(e,n),e}function cw(n){if(Bc.has(n))return;const e=new Promise((o,s)=>{const l=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{o(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Bc.set(n,e)}let zc={get(n,e,o){if(n instanceof IDBTransaction){if(e==="done")return Bc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Jy.get(n);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return li(n[e])},set(n,e,o){return n[e]=o,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fw(n){zc=n(zc)}function dw(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const s=n.call(Sc(this),e,...o);return Jy.set(s,e.sort?e.sort():[e]),li(s)}:aw().includes(n)?function(...e){return n.apply(Sc(this),e),li(Fy.get(this))}:function(...e){return li(n.apply(Sc(this),e))}}function hw(n){return typeof n=="function"?dw(n):(n instanceof IDBTransaction&&cw(n),rw(n,lw())?new Proxy(n,zc):n)}function li(n){if(n instanceof IDBRequest)return uw(n);if(Ec.has(n))return Ec.get(n);const e=hw(n);return e!==n&&(Ec.set(n,e),cf.set(e,n)),e}const Sc=n=>cf.get(n);function pw(n,e,{blocked:o,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(n,e),g=li(d);return s&&d.addEventListener("upgradeneeded",y=>{s(li(d.result),y.oldVersion,y.newVersion,li(d.transaction),y)}),o&&d.addEventListener("blocked",y=>o(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const mw=["get","getKey","getAll","getAllKeys","count"],gw=["put","add","delete","clear"],Cc=new Map;function y0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cc.get(e))return Cc.get(e);const o=e.replace(/FromIndex$/,""),s=e!==o,l=gw.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(l||mw.includes(o)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let m=y.store;return s&&(m=m.index(g.shift())),(await Promise.all([m[o](...g),l&&y.done]))[0]};return Cc.set(e,c),c}fw(n=>({...n,get:(e,o,s)=>y0(e,o)||n.get(e,o,s),has:(e,o)=>!!y0(e,o)||n.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(vw(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function vw(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qc="@firebase/app",v0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new qy("@firebase/app"),_w="@firebase/app-compat",Tw="@firebase/analytics-compat",Ew="@firebase/analytics",Sw="@firebase/app-check-compat",Cw="@firebase/app-check",Aw="@firebase/auth",Rw="@firebase/auth-compat",bw="@firebase/database",Iw="@firebase/data-connect",ww="@firebase/database-compat",xw="@firebase/functions",Nw="@firebase/functions-compat",Mw="@firebase/installations",Dw="@firebase/installations-compat",Uw="@firebase/messaging",Lw="@firebase/messaging-compat",kw="@firebase/performance",Pw="@firebase/performance-compat",Hw="@firebase/remote-config",Gw="@firebase/remote-config-compat",Ow="@firebase/storage",Vw="@firebase/storage-compat",Bw="@firebase/firestore",zw="@firebase/ai",qw="@firebase/firestore-compat",Fw="firebase",Jw="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]",Yw={[qc]:"fire-core",[_w]:"fire-core-compat",[Ew]:"fire-analytics",[Tw]:"fire-analytics-compat",[Cw]:"fire-app-check",[Sw]:"fire-app-check-compat",[Aw]:"fire-auth",[Rw]:"fire-auth-compat",[bw]:"fire-rtdb",[Iw]:"fire-data-connect",[ww]:"fire-rtdb-compat",[xw]:"fire-fn",[Nw]:"fire-fn-compat",[Mw]:"fire-iid",[Dw]:"fire-iid-compat",[Uw]:"fire-fcm",[Lw]:"fire-fcm-compat",[kw]:"fire-perf",[Pw]:"fire-perf-compat",[Hw]:"fire-rc",[Gw]:"fire-rc-compat",[Ow]:"fire-gcs",[Vw]:"fire-gcs-compat",[Bw]:"fire-fst",[qw]:"fire-fst-compat",[zw]:"fire-vertex","fire-js":"fire-js",[Fw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Map,Kw=new Map,Jc=new Map;function _0(n,e){try{n.container.addComponent(e)}catch(o){In.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,o)}}function Vs(n){const e=n.name;if(Jc.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;Jc.set(e,n);for(const o of Os.values())_0(o,n);for(const o of Kw.values())_0(o,n);return!0}function Yy(n,e){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(e)}function tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new qs("app","Firebase",Xw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,o,s){this._isDeleted=!1,this._options={...e},this._config={...o},this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=Jw;function Ky(n,e={}){let o=n;typeof e!="object"&&(e={name:e});const s={name:Fc,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ai.create("bad-app-name",{appName:String(l)});if(o||(o=By()),!o)throw ai.create("no-options");const c=Os.get(l);if(c){if(Do(o,c.options)&&Do(s,c.config))return c;throw ai.create("duplicate-app",{appName:l})}const d=new tw(l);for(const y of Jc.values())d.addComponent(y);const g=new $w(o,s,d);return Os.set(l,g),g}function Yc(n=Fc){const e=Os.get(n);if(!e&&n===Fc&&By())return Ky();if(!e)throw ai.create("no-app",{appName:n});return e}function T0(){return Array.from(Os.values())}function wo(n,e,o){let s=Yw[n]??n;o&&(s+=`-${o}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(d.join(" "));return}Vs(new Uo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebase-heartbeat-database",Zw=1,Bs="firebase-heartbeat-store";let Ac=null;function Xy(){return Ac||(Ac=pw(Qw,Zw,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bs)}catch(o){console.warn(o)}}}}).catch(n=>{throw ai.create("idb-open",{originalErrorMessage:n.message})})),Ac}async function Ww(n){try{const o=(await Xy()).transaction(Bs),s=await o.objectStore(Bs).get($y(n));return await o.done,s}catch(e){if(e instanceof ci)In.warn(e.message);else{const o=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});In.warn(o.message)}}}async function E0(n,e){try{const s=(await Xy()).transaction(Bs,"readwrite");await s.objectStore(Bs).put(e,$y(n)),await s.done}catch(o){if(o instanceof ci)In.warn(o.message);else{const s=ai.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});In.warn(s.message)}}}function $y(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=1024,ex=30;class tx{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new ix(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,o;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=S0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)==null?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>ex){const d=ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){In.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=S0(),{heartbeatsToSend:s,unsentEntries:l}=nx(this._heartbeatsCache.heartbeats),c=Oy(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=o,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(o){return In.warn(o),""}}}function S0(){return new Date().toISOString().substring(0,10)}function nx(n,e=jw){const o=[];let s=n.slice();for(const l of n){const c=o.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),C0(o)>e){c.dates.pop();break}}else if(o.push({agent:l.agent,dates:[l.date]}),C0(o)>e){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class ix{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await Ww(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C0(n){return Oy(JSON.stringify({version:2,heartbeats:n})).length}function ox(n){if(n.length===0)return-1;let e=0,o=n[0].date;for(let s=1;s<n.length;s++)n[s].date<o&&(o=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){Vs(new Uo("platform-logger",e=>new yw(e),"PRIVATE")),Vs(new Uo("heartbeat",e=>new tx(e),"PRIVATE")),wo(qc,v0,n),wo(qc,v0,"esm2020"),wo("fire-js","")}sx("");var rx="firebase",lx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(rx,lx,"app");function Qy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ax=Qy,Zy=new qs("auth","Firebase",Qy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new qy("@firebase/auth");function ux(n,...e){Ml.logLevel<=ke.WARN&&Ml.warn(`Auth (${Js}): ${n}`,...e)}function El(n,...e){Ml.logLevel<=ke.ERROR&&Ml.error(`Auth (${Js}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n,...e){throw df(n,...e)}function $t(n,...e){return df(n,...e)}function ff(n,e,o){const s={...ax(),[e]:o};return new qs("auth","Firebase",s).create(e,{appName:n.name})}function Ui(n){return ff(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cx(n,e,o){const s=o;if(!(e instanceof s))throw s.name!==e.constructor.name&&on(n,"argument-error"),ff(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function df(n,...e){if(typeof n!="string"){const o=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(o,...s)}return Zy.create(n,...e)}function oe(n,e,...o){if(!n)throw df(e,...o)}function An(n){const e="INTERNAL ASSERTION FAILED: "+n;throw El(e),new Error(e)}function wn(n,e){n||An(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function fx(){return A0()==="http:"||A0()==="https:"}function A0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fx()||VI()||"connection"in navigator)?navigator.onLine:!0}function hx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,o){this.shortDelay=e,this.longDelay=o,wn(o>e,"Short delay should be less than long delay!"),this.isMobile=GI()||BI()}get(){return dx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n,e){wn(n.emulator,"Emulator should always be set here");const{url:o}=n.emulator;return e?`${o}${e.startsWith("/")?e.slice(1):e}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static initialize(e,o,s){this.fetchImpl=e,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;An("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;An("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;An("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gx=new Ys(3e4,6e4);function pf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Go(n,e,o,s,l={}){return jy(n,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=Fs({key:n.config.apiKey,...d}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:y,...c};return OI()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(m.credentials="include"),Wy.fetch()(await ev(n,n.config.apiHost,o,g),m)})}async function jy(n,e,o){n._canInitEmulator=!1;const s={...px,...e};try{const l=new vx(n),c=await Promise.race([o(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vl(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,m]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vl(n,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw vl(n,"email-already-in-use",d);if(y==="USER_DISABLED")throw vl(n,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ff(n,v,m);on(n,v)}}catch(l){if(l instanceof ci)throw l;on(n,"network-request-failed",{message:String(l)})}}async function yx(n,e,o,s,l={}){const c=await Go(n,e,o,s,l);return"mfaPendingCredential"in c&&on(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function ev(n,e,o,s){const l=`${e}${o}?${s}`,c=n,d=c.config.emulator?hf(n.config,l):`${n.config.apiScheme}://${l}`;return mx.includes(o)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class vx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s($t(this.auth,"network-request-failed")),gx.get())})}}function vl(n,e,o){const s={appName:n.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const l=$t(n,e,s);return l.customData._tokenResponse=o,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(n,e){return Go(n,"POST","/v1/accounts:delete",e)}async function Dl(n,e){return Go(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tx(n,e=!1){const o=Pi(n),s=await o.getIdToken(e),l=mf(s);oe(l&&l.exp&&l.auth_time&&l.iat,o.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Gs(Rc(l.auth_time)),issuedAtTime:Gs(Rc(l.iat)),expirationTime:Gs(Rc(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Rc(n){return Number(n)*1e3}function mf(n){const[e,o,s]=n.split(".");if(e===void 0||o===void 0||s===void 0)return El("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vy(o);return l?JSON.parse(l):(El("Failed to decode base64 JWT payload"),null)}catch(l){return El("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function R0(n){const e=mf(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(n,e,o=!1){if(o)return e;try{return await e}catch(s){throw s instanceof ci&&Ex(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function Ex({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,o){this.createdAt=e,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){var E;const e=n.auth,o=await n.getIdToken(),s=await zs(n,Dl(e,{idToken:o}));oe(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=(E=l.providerUserInfo)!=null&&E.length?tv(l.providerUserInfo):[],d=Ax(n.providerData,c),g=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),m=g?y:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xc(l.createdAt,l.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function Cx(n){const e=Pi(n);await Ul(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ax(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function tv(n){return n.map(({providerId:e,...o})=>({providerId:e,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(n,e){const o=await jy(n,{},async()=>{const s=Fs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=n.config,d=await ev(n,l,"/v1/token",`key=${c}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(y.credentials="include"),Wy.fetch()(d,y)});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function bx(n,e){return Go(n,"POST","/v2/accounts:revokeToken",pf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const o="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,o)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const o=R0(e);this.updateTokensAndExpiration(e,null,o)}async getToken(e,o=!1){return!o&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,o){const{accessToken:s,refreshToken:l,expiresIn:c}=await Rx(e,o);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,o,s){this.refreshToken=o||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,o){const{refreshToken:s,accessToken:l,expirationTime:c}=o,d=new xo;return s&&(oe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(oe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(oe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yt{constructor({uid:e,auth:o,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=o,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xc(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const o=await zs(this,this.stsTokenManager.getToken(this.auth,e));return oe(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(e){return Tx(this,e)}reload(){return Cx(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(o=>({...o})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const o=new Yt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return o.metadata._copy(this.metadata),o}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,o=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),o&&await Ul(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await zs(this,_x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,o){const s=o.displayName??void 0,l=o.email??void 0,c=o.phoneNumber??void 0,d=o.photoURL??void 0,g=o.tenantId??void 0,y=o._redirectEventId??void 0,m=o.createdAt??void 0,v=o.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:x,stsTokenManager:L}=o;oe(E&&L,e,"internal-error");const U=xo.fromJSON(this.name,L);oe(typeof E=="string",e,"internal-error"),ni(s,e.name),ni(l,e.name),oe(typeof T=="boolean",e,"internal-error"),oe(typeof A=="boolean",e,"internal-error"),ni(c,e.name),ni(d,e.name),ni(g,e.name),ni(y,e.name),ni(m,e.name),ni(v,e.name);const V=new Yt({uid:E,auth:e,email:l,emailVerified:T,displayName:s,isAnonymous:A,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:U,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(V.providerData=x.map(F=>({...F}))),y&&(V._redirectEventId=y),V}static async _fromIdTokenResponse(e,o,s=!1){const l=new xo;l.updateFromServerResponse(o);const c=new Yt({uid:o.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ul(c),c}static async _fromGetAccountInfoResponse(e,o,s){const l=o.users[0];oe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?tv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new xo;g.updateFromIdToken(s);const y=new Yt({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xc(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,m),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function Rn(n){wn(n instanceof Function,"Expected a class definition");let e=b0.get(n);return e?(wn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,b0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,o){this.storage[e]=o}async _get(e){const o=this.storage[e];return o===void 0?null:o}async _remove(e){delete this.storage[e]}_addListener(e,o){}_removeListener(e,o){}}nv.type="NONE";const I0=nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n,e,o){return`firebase:${n}:${e}:${o}`}class No{constructor(e,o,s){this.persistence=e,this.auth=o,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Sl(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sl("persistence",l.apiKey,c),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const o=await Dl(this.auth,{idToken:e}).catch(()=>{});return o?Yt._fromGetAccountInfoResponse(this.auth,o,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,o,s="authUser"){if(!o.length)return new No(Rn(I0),e,s);const l=(await Promise.all(o.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=l[0]||Rn(I0);const d=Sl(s,e.config.apiKey,e.name);let g=null;for(const m of o)try{const v=await m._get(d);if(v){let E;if(typeof v=="string"){const T=await Dl(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Yt._fromGetAccountInfoResponse(e,T,v)}else E=Yt._fromJSON(e,v);m!==c&&(g=E),c=m;break}}catch{}const y=l.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new No(c,e,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(o.map(async m=>{if(m!==c)try{await m._remove(d)}catch{}})),new No(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(av(e))return"Blackberry";if(uv(e))return"Webos";if(ov(e))return"Safari";if((e.includes("chrome/")||sv(e))&&!e.includes("edge/"))return"Chrome";if(lv(e))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(o);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iv(n=ft()){return/firefox\//i.test(n)}function ov(n=ft()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sv(n=ft()){return/crios\//i.test(n)}function rv(n=ft()){return/iemobile/i.test(n)}function lv(n=ft()){return/android/i.test(n)}function av(n=ft()){return/blackberry/i.test(n)}function uv(n=ft()){return/webos/i.test(n)}function gf(n=ft()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ix(n=ft()){var e;return gf(n)&&!!((e=window.navigator)!=null&&e.standalone)}function wx(){return zI()&&document.documentMode===10}function cv(n=ft()){return gf(n)||lv(n)||uv(n)||av(n)||/windows phone/i.test(n)||rv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n,e=[]){let o;switch(n){case"Browser":o=w0(ft());break;case"Worker":o=`${w0(ft())}-${n}`;break;default:o=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${o}/JsCore/${Js}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,o){const s=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});s.onAbort=o,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const o=[];try{for(const s of this.queue)await s(e),s.onAbort&&o.push(s.onAbort)}catch(s){o.reverse();for(const l of o)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(n,e={}){return Go(n,"GET","/v2/passwordPolicy",pf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6;class Dx{constructor(e){var s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=o.minPasswordLength??Mx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=o.meetsMinPasswordLength??!0),o.isValid&&(o.isValid=o.meetsMaxPasswordLength??!0),o.isValid&&(o.isValid=o.containsLowercaseLetter??!0),o.isValid&&(o.isValid=o.containsUppercaseLetter??!0),o.isValid&&(o.isValid=o.containsNumericCharacter??!0),o.isValid&&(o.isValid=o.containsNonAlphanumericCharacter??!0),o}validatePasswordLengthOptions(e,o){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(o.meetsMinPasswordLength=e.length>=s),l&&(o.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(o,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,o,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,o,s,l){this.app=e,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,o){return o&&(this._popupRedirectResolver=Rn(o)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const o=await Dl(this,{idToken:e}),s=await Yt._fromGetAccountInfoResponse(this,o,e);await this.directlySetCurrentUser(s)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(tn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let s=o,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(e){try{await Ul(e)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Ui(this));const o=e?Pi(e):null;return o&&oe(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(e,o=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nx(this),o=new Dx(e);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qs("auth","Firebase",e())}onAuthStateChanged(e,o,s){return this.registerStateListener(this.authStateSubscription,e,o,s)}beforeAuthStateChanged(e,o){return this.beforeStateQueue.pushCallback(e,o)}onIdTokenChanged(e,o,s){return this.registerStateListener(this.idTokenSubscription,e,o,s)}authStateReady(){return new Promise((e,o)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},o)}})}async revokeAccessToken(e){if(this.currentUser){const o=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};this.tenantId!=null&&(s.tenantId=this.tenantId),await bx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,o){const s=await this.getOrInitRedirectPersistenceManager(o);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const o=e&&Rn(e)||this._popupRedirectResolver;oe(o,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Rn(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var o,s;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)==null?void 0:o._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((o=this.currentUser)==null?void 0:o.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,o,s,l){if(this._deleted)return()=>{};const c=typeof o=="function"?o:o.next.bind(o);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof o=="function"){const y=e.addObserver(o,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(o);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const o=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());o&&(e["X-Firebase-Client"]=o);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var o;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((o=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getToken());return e!=null&&e.error&&ux(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jl(n){return Pi(n)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$I(o=>this.observer=o)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lx(n){yf=n}function kx(n){return yf.loadJS(n)}function Px(){return yf.gapiScript}function Hx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(n,e){const o=Yy(n,"auth");if(o.isInitialized()){const l=o.getImmediate(),c=o.getOptions();if(Do(c,e??{}))return l;on(l,"already-initialized")}return o.initialize({options:e})}function Ox(n,e){const o=(e==null?void 0:e.persistence)||[],s=(Array.isArray(o)?o:[o]).map(Rn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Vx(n,e,o){const s=Jl(n);oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=dv(e),{host:d,port:g}=Bx(e),y=g===null?"":`:${g}`,m={url:`${c}//${d}${y}/`},v=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),oe(Do(m,s.config.emulator)&&Do(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Fl(d)?(LI(`${c}//${d}${y}`),HI("Auth",!0)):zx()}function dv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bx(n){const e=dv(n),o=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:N0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:N0(d)}}}function N0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zx(){function n(){const e=document.createElement("p"),o=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,o){this.providerId=e,this.signInMethod=o}toJSON(){return An("not implemented")}_getIdTokenResponse(e){return An("not implemented")}_linkToIdToken(e,o){return An("not implemented")}_getReauthenticationResolver(e){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return yx(n,"POST","/v1/accounts:signInWithIdp",pf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="http://localhost";class Li extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const o=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(o.idToken=e.idToken),e.accessToken&&(o.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(o.nonce=e.nonce),e.pendingToken&&(o.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(o.accessToken=e.oauthToken,o.secret=e.oauthTokenSecret):on("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=o;if(!s||!l)return null;const d=new Li(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const o=this.buildRequest();return Mo(e,o)}_linkToIdToken(e,o){const s=this.buildRequest();return s.idToken=o,Mo(e,s)}_getReauthenticationResolver(e){const o=this.buildRequest();return o.autoCreate=!1,Mo(e,o)}buildRequest(){const e={requestUri:qx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),e.postBody=Fs(o)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ks{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(e,o){return Li._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:o})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:o,oauthAccessToken:s}=e;if(!o&&!s)return null;try{return Cn.credential(o,s)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ks{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ks{constructor(){super("twitter.com")}static credential(e,o){return Li._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:o})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:o,oauthTokenSecret:s}=e;if(!o||!s)return null;try{return si.credential(o,s)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,o,s,l=!1){const c=await Yt._fromIdTokenResponse(e,s,l),d=M0(s);return new Lo({user:c,providerId:d,_tokenResponse:s,operationType:o})}static async _forOperation(e,o,s){await e._updateTokensIfNecessary(s,!0);const l=M0(s);return new Lo({user:e,providerId:l,_tokenResponse:s,operationType:o})}}function M0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends ci{constructor(e,o,s,l){super(o.code,o.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ll.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,o,s,l){return new Ll(e,o,s,l)}}function pv(n,e,o,s){return(e==="reauthenticate"?o._getReauthenticationResolver(n):o._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ll._fromErrorAndOperation(n,c,e,s):c})}async function Fx(n,e,o=!1){const s=await zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),o);return Lo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(n,e,o=!1){const{auth:s}=n;if(tn(s.app))return Promise.reject(Ui(s));const l="reauthenticate";try{const c=await zs(n,pv(s,l,e,n),o);oe(c.idToken,s,"internal-error");const d=mf(c.idToken);oe(d,s,"internal-error");const{sub:g}=d;return oe(n.uid===g,s,"user-mismatch"),Lo._forOperation(n,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&on(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(n,e,o=!1){if(tn(n.app))return Promise.reject(Ui(n));const s="signIn",l=await pv(n,s,e),c=await Lo._fromIdTokenResponse(n,s,l);return o||await n._updateCurrentUser(c.user),c}function Kx(n,e,o,s){return Pi(n).onIdTokenChanged(e,o,s)}function Xx(n,e,o){return Pi(n).beforeAuthStateChanged(e,o)}function $x(n,e,o,s){return Pi(n).onAuthStateChanged(e,o,s)}const kl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,o){this.storageRetriever=e,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(kl,"1"),this.storage.removeItem(kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,o){return this.storage.setItem(e,JSON.stringify(o)),Promise.resolve()}_get(e){const o=this.storage.getItem(e);return Promise.resolve(o?JSON.parse(o):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,Zx=10;class gv extends mv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,o)=>this.onStorageEvent(e,o),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const o of Object.keys(this.listeners)){const s=this.storage.getItem(o),l=this.localCache[o];s!==l&&e(o,l,s)}}onStorageEvent(e,o=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=e.key;o?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!o&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);wx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Zx):l()}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,o,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:o,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,o){await super._set(e,o),this.localCache[e]=JSON.stringify(o)}async _get(e){const o=await super._get(e);return this.localCache[e]=JSON.stringify(o),o}async _remove(e){await super._remove(e),delete this.localCache[e]}}gv.type="LOCAL";const Wx=gv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends mv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,o){}_removeListener(e,o){}}yv.type="SESSION";const vv=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const o=this.receivers.find(l=>l.isListeningto(e));if(o)return o;const s=new Yl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const o=e,{eventId:s,eventType:l,data:c}=o.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;o.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async m=>m(o.origin,c)),y=await jx(g);o.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(o)}_unsubscribe(e,o){this.handlersMap[e]&&o&&this.handlersMap[e].delete(o),(!o||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n="",e=10){let o="";for(let s=0;s<e;s++)o+=Math.floor(Math.random()*10);return n+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,o,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const m=_f("",20);l.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(T.data.response);break;default:clearTimeout(v),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:o},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function tN(n){nn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function nN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function oN(){return _v()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="firebaseLocalStorageDb",sN=1,Pl="firebaseLocalStorage",Ev="fbase_key";class Xs{constructor(e){this.request=e}toPromise(){return new Promise((e,o)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function Kl(n,e){return n.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function rN(){const n=indexedDB.deleteDatabase(Tv);return new Xs(n).toPromise()}function $c(){const n=indexedDB.open(Tv,sN);return new Promise((e,o)=>{n.addEventListener("error",()=>{o(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Pl,{keyPath:Ev})}catch(l){o(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Pl)?e(s):(s.close(),await rN(),e(await $c()))})})}async function D0(n,e,o){const s=Kl(n,!0).put({[Ev]:e,value:o});return new Xs(s).toPromise()}async function lN(n,e){const o=Kl(n,!1).get(e),s=await new Xs(o).toPromise();return s===void 0?null:s.value}function U0(n,e){const o=Kl(n,!0).delete(e);return new Xs(o).toPromise()}const aN=800,uN=3;class Sv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $c(),this.db)}async _withRetries(e){let o=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(o++>uN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _v()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yl._getInstance(oN()),this.receiver._subscribe("keyChanged",async(e,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(e,o)=>["keyChanged"])}async initializeSender(){var o,s;if(this.activeServiceWorker=await nN(),!this.activeServiceWorker)return;this.sender=new eN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(o=e[0])!=null&&o.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $c();return await D0(e,kl,"1"),await U0(e,kl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,o){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,o)),this.localCache[e]=o,this.notifyServiceWorker(e)))}async _get(e){const o=await this._withRetries(s=>lN(s,e));return this.localCache[e]=o,o}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(o=>U0(o,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Kl(l,!1).getAll();return new Xs(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const o=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),o.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),o.push(l));return o}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sv.type="LOCAL";const cN=Sv;new Ys(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n,e){return e?Rn(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,o){return Mo(e,this._buildIdpRequest(o))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(o.idToken=e),o}}function fN(n){return Yx(n.auth,new Tf(n),n.bypassAuthState)}function dN(n){const{auth:e,user:o}=n;return oe(o,e,"internal-error"),Jx(o,new Tf(n),n.bypassAuthState)}async function hN(n){const{auth:e,user:o}=n;return oe(o,e,"internal-error"),Fx(o,new Tf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,o,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(e,o)=>{this.pendingPromise={resolve:e,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:o,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:o,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:on(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Ys(2e3,1e4);async function mN(n,e,o){if(tn(n.app))return Promise.reject($t(n,"operation-not-supported-in-this-environment"));const s=Jl(n);cx(n,e,vf);const l=Cv(s,o);return new Di(s,"signInViaPopup",e,l).executeNotNull()}class Di extends Av{constructor(e,o,s,l,c){super(e,o,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Di.currentPopupAction&&Di.currentPopupAction.cancel(),Di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){wn(this.filter.length===1,"Popup operations only handle one event");const e=_f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var o,s;if((s=(o=this.authWindow)==null?void 0:o.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="pendingRedirect",Cl=new Map;class yN extends Av{constructor(e,o,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}async execute(){let e=Cl.get(this.auth._key());if(!e){try{const s=await vN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(o){e=()=>Promise.reject(o)}Cl.set(this.auth._key(),e)}return this.bypassAuthState||Cl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const o=await this.auth._redirectUserForId(e.eventId);if(o)return this.user=o,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vN(n,e){const o=EN(e),s=TN(n);if(!await s._isAvailable())return!1;const l=await s._get(o)==="true";return await s._remove(o),l}function _N(n,e){Cl.set(n._key(),e)}function TN(n){return Rn(n._redirectPersistence)}function EN(n){return Sl(gN,n.config.apiKey,n.name)}async function SN(n,e,o=!1){if(tn(n.app))return Promise.reject(Ui(n));const s=Jl(n),l=Cv(s,e),d=await new yN(s,l,o).execute();return d&&!o&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=600*1e3;class AN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(o=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RN(e)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=e,o=!0)),o}sendToConsumer(e,o){var s;if(e.error&&!Rv(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";o.onError($t(this.auth,l))}else o.onAuthEvent(e)}isEventForConsumer(e,o){const s=o.eventId===null||!!e.eventId&&e.eventId===o.eventId;return o.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Rv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e={}){return Go(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wN=/^https?/;async function xN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bN(n);for(const o of e)try{if(NN(o))return}catch{}on(n,"unauthorized-domain")}function NN(n){const e=Kc(),{protocol:o,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?o==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):o==="chrome-extension:"&&d.hostname===s}if(!wN.test(o))return!1;if(IN.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Ys(3e4,6e4);function k0(){const n=nn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let o=0;o<n.CP.length;o++)n.CP[o]=null}}function DN(n){return new Promise((e,o)=>{var l,c,d;function s(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),o($t(n,"network-request-failed"))},timeout:MN.get()})}if((c=(l=nn().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=nn().gapi)!=null&&d.load)s();else{const g=Hx("iframefcb");return nn()[g]=()=>{gapi.load?s():o($t(n,"network-request-failed"))},kx(`${Px()}?onload=${g}`).catch(y=>o(y))}}).catch(e=>{throw Al=null,e})}let Al=null;function UN(n){return Al=Al||DN(n),Al}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Ys(5e3,15e3),kN="__/auth/iframe",PN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ON(n){const e=n.config;oe(e.authDomain,n,"auth-domain-config-required");const o=e.emulator?hf(e,PN):`https://${n.config.authDomain}/${kN}`,s={apiKey:e.apiKey,appName:n.name,v:Js},l=GN.get(n.config.apiHost);l&&(s.eid=l);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${o}?${Fs(s).slice(1)}`}async function VN(n){const e=await UN(n),o=nn().gapi;return oe(o,n,"internal-error"),e.open({where:document.body,url:ON(n),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=$t(n,"network-request-failed"),g=nn().setTimeout(()=>{c(d)},LN.get());function y(){nn().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zN=500,qN=600,FN="_blank",JN="http://localhost";class P0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(n,e,o,s=zN,l=qN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...BN,width:s.toString(),height:l.toString(),top:c,left:d},m=ft().toLowerCase();o&&(g=sv(m)?FN:o),iv(m)&&(e=e||JN,y.scrollbars="yes");const v=Object.entries(y).reduce((T,[A,x])=>`${T}${A}=${x},`,"");if(Ix(m)&&g!=="_self")return KN(e||"",g),new P0(null);const E=window.open(e||"",g,v);oe(E,n,"popup-blocked");try{E.focus()}catch{}return new P0(E)}function KN(n,e){const o=document.createElement("a");o.href=n,o.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",$N="emulator/auth/handler",QN=encodeURIComponent("fac");async function H0(n,e,o,s,l,c){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:o,redirectUrl:s,v:Js,eventId:l};if(e instanceof vf){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",XI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof Ks){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}n.tenantId&&(d.tid=n.tenantId);const g=d;for(const v of Object.keys(g))g[v]===void 0&&delete g[v];const y=await n._getAppCheckToken(),m=y?`#${QN}=${encodeURIComponent(y)}`:"";return`${ZN(n)}?${Fs(g).slice(1)}${m}`}function ZN({config:n}){return n.emulator?hf(n,$N):`https://${n.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="webStorageSupport";class WN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vv,this._completeRedirectFn=SN,this._overrideRedirectResult=_N}async _openPopup(e,o,s,l){var d;wn((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await H0(e,o,s,Kc(),l);return YN(e,c,_f())}async _openRedirect(e,o,s,l){await this._originValidation(e);const c=await H0(e,o,s,Kc(),l);return tN(c),new Promise(()=>{})}_initialize(e){const o=e._key();if(this.eventManagers[o]){const{manager:l,promise:c}=this.eventManagers[o];return l?Promise.resolve(l):(wn(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}async initAndGetManager(e){const o=await VN(e),s=new AN(e);return o.register("authEvent",l=>(oe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=o,s}_isIframeWebStorageSupported(e,o){this.iframes[e._key()].send(bc,{type:bc},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[bc];c!==void 0&&o(!!c),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const o=e._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=xN(e)),this.originValidationPromises[o]}get _shouldInitProactively(){return cv()||ov()||gf()}}const jN=WN;var G0="@firebase/auth",O0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const o=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,o),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const o=this.internalListeners.get(e);o&&(this.internalListeners.delete(e),o(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nM(n){Vs(new Uo("auth",(e,{options:o})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;oe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fv(n)},m=new Ux(s,l,c,y);return Ox(m,o),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,o,s)=>{e.getProvider("auth-internal").initialize()})),Vs(new Uo("auth-internal",e=>{const o=Jl(e.getProvider("auth").getImmediate());return(s=>new eM(s))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(G0,O0,tM(n)),wo(G0,O0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=300,oM=zy("authIdTokenMaxAge")||iM;let V0=null;const sM=n=>async e=>{const o=e&&await e.getIdTokenResult(),s=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(s&&s>oM)return;const l=o==null?void 0:o.token;V0!==l&&(V0=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rM(n=Yc()){const e=Yy(n,"auth");if(e.isInitialized())return e.getImmediate();const o=Gx(n,{popupRedirectResolver:jN,persistence:[cN,Wx,vv]}),s=zy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=sM(c.toString());Xx(o,d,()=>d(o.currentUser)),Kx(o,g=>d(g))}}const l=DI("auth");return l&&Vx(o,`http://${l}`),o}function lM(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Lx({loadJS(n){return new Promise((e,o)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const c=$t("internal-error");c.customData=l,o(c)},s.type="text/javascript",s.charset="UTF-8",lM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nM("Browser");const bv={apiKey:"AIzaSyBTRvHGa-hHDU8PlazCruWSizkzJzQpg3U",authDomain:"mamboro-ai-c3dca.firebaseapp.com",projectId:"mamboro-ai-c3dca",storageBucket:"mamboro-ai-c3dca.firebasestorage.app",messagingSenderId:"335802027282",appId:"1:335802027282:web:a8c323f0d45a61df1e37cb"};console.log("Firebase Config:",bv);let xt;var q0,F0;try{xt=T0().length?Yc():Ky(bv),console.debug("Firebase app initialized:",xt==null?void 0:xt.name,((q0=xt==null?void 0:xt.options)==null?void 0:q0.projectId)||((F0=xt==null?void 0:xt.options)==null?void 0:F0.projectId))}catch(n){console.error("Firebase initialization failed:",n),xt=T0().length?Yc():null}const Qc=xt?rM(xt):{},Iv=new Cn;Iv.setCustomParameters({prompt:"select_account"});var Jt=(n=>(n.IDLE="IDLE",n.PROCESSING="PROCESSING",n.SUCCESS="SUCCESS",n.ERROR="ERROR",n))(Jt||{});const Ef=({className:n="w-10 h-10",size:e=60})=>C.jsx("div",{className:`relative flex items-center justify-center ${n}`,children:C.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:e,height:e},children:[C.jsxs("defs",{children:[C.jsxs("linearGradient",{id:"mamboroNeonGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:"#00f2ff"}),C.jsx("stop",{offset:"50%",stopColor:"#7000ff"}),C.jsx("stop",{offset:"100%",stopColor:"#bc00ff"})]}),C.jsxs("filter",{id:"mamboroGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[C.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),C.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),C.jsxs("filter",{id:"nodeGlow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[C.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"blur"}),C.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),C.jsxs("g",{stroke:"url(#mamboroNeonGrad)",strokeWidth:"1.2",filter:"url(#mamboroGlow)",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8",children:[C.jsx("path",{d:"M15 15 L15 85 M15 15 L35 25 L35 85 L15 85 Z"}),C.jsx("path",{d:"M15 15 L35 45 M15 35 L35 25 M15 35 L35 65 M15 60 L35 45 M15 60 L35 85 M15 85 L35 65"}),C.jsx("path",{d:"M35 25 L50 60 L65 25"}),C.jsx("path",{d:"M35 45 L50 60 M35 65 L50 85 M50 85 L65 65 M50 60 L65 45"}),C.jsx("path",{d:"M35 85 L50 85 L65 85"}),C.jsx("path",{d:"M65 25 L85 15 L85 85 L65 85 Z"}),C.jsx("path",{d:"M85 85 L65 65 M85 60 L65 85 M85 60 L65 45 M85 35 L65 65 M85 35 L65 25 M85 15 L65 45"}),C.jsx("path",{d:"M85 15 L85 85"})]}),C.jsxs("g",{fill:"white",filter:"url(#nodeGlow)",children:[C.jsx("circle",{cx:"15",cy:"15",r:"2.5",fill:"#00f2ff"}),C.jsx("circle",{cx:"15",cy:"35",r:"2.5",fill:"#00f2ff"}),C.jsx("circle",{cx:"15",cy:"60",r:"2.5",fill:"#00f2ff"}),C.jsx("circle",{cx:"15",cy:"85",r:"2.5",fill:"#00f2ff"}),C.jsx("circle",{cx:"35",cy:"25",r:"2.5",fill:"#3b82f6"}),C.jsx("circle",{cx:"35",cy:"45",r:"2.5",fill:"#3b82f6"}),C.jsx("circle",{cx:"35",cy:"65",r:"2.5",fill:"#3b82f6"}),C.jsx("circle",{cx:"35",cy:"85",r:"2.5",fill:"#3b82f6"}),C.jsx("circle",{cx:"50",cy:"60",r:"3",fill:"#7000ff"}),C.jsx("circle",{cx:"50",cy:"85",r:"3",fill:"#7000ff"}),C.jsx("circle",{cx:"65",cy:"25",r:"2.5",fill:"#8b5cf6"}),C.jsx("circle",{cx:"65",cy:"45",r:"2.5",fill:"#8b5cf6"}),C.jsx("circle",{cx:"65",cy:"65",r:"2.5",fill:"#8b5cf6"}),C.jsx("circle",{cx:"65",cy:"85",r:"2.5",fill:"#8b5cf6"}),C.jsx("circle",{cx:"85",cy:"15",r:"2.5",fill:"#bc00ff"}),C.jsx("circle",{cx:"85",cy:"35",r:"2.5",fill:"#bc00ff"}),C.jsx("circle",{cx:"85",cy:"60",r:"2.5",fill:"#bc00ff"}),C.jsx("circle",{cx:"85",cy:"85",r:"2.5",fill:"#bc00ff"})]})]})}),wv=n=>{const e=n.charAt(0).toUpperCase();return{A:"bg-blue-600",B:"bg-green-600",C:"bg-yellow-600",D:"bg-red-600",E:"bg-indigo-600",F:"bg-pink-600",G:"bg-purple-600",H:"bg-cyan-600",I:"bg-orange-600",J:"bg-teal-600",K:"bg-lime-600",L:"bg-emerald-600",M:"bg-violet-600",N:"bg-fuchsia-600",S:"bg-rose-600"}[e]||"bg-slate-600"},aM=({onLoginSuccess:n})=>{const[e,o]=Pe.useState(!1),[s,l]=Pe.useState(null),[c,d]=Pe.useState(!1);Pe.useEffect(()=>{d(!0)},[]);const g=async()=>{o(!0),l(null);try{const m=(await mN(Qc,Iv)).user;n({name:m.displayName||"User",email:m.email||"",picture:m.photoURL||""})}catch(y){console.error("Firebase Login Error:",y),l("Gagal masuk dengan Google. Pastikan konfigurasi Firebase benar.")}finally{o(!1)}};return C.jsxs("div",{className:`min-h-screen bg-[#050505] flex flex-col items-center justify-center p-4 overflow-hidden relative text-white transition-opacity duration-1000 ${c?"opacity-100":"opacity-0"}`,children:[C.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-blue-600/10 rounded-full blur-[120px] animate-pulse"}),C.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"}),C.jsxs("div",{className:"w-full max-w-md relative z-10 text-center space-y-12 animate-in fade-in zoom-in duration-700",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"mx-auto w-32 h-32 md:w-40 md:h-40 bg-slate-900 border border-slate-800 rounded-3xl flex items-center justify-center shadow-2xl relative group overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500/10 to-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),C.jsx(Ef,{size:100})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tighter text-white",children:["MAMBORO",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-500",children:"AI"})]}),C.jsx("p",{className:"text-blue-400 font-bold uppercase tracking-[0.4em] text-[10px] opacity-80",children:"Pro Image Studio"})]})]}),C.jsxs("div",{className:"bg-slate-900/60 p-8 rounded-[2.5rem] border border-slate-800/50 backdrop-blur-xl shadow-2xl",children:[C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"Selamat Datang"}),C.jsx("p",{className:"text-slate-400 text-sm mt-2 leading-relaxed",children:"Masuk ke Studio Editing Mamboro-AI."})]}),e?C.jsxs("div",{className:"flex flex-col items-center gap-4 py-6",children:[C.jsx("div",{className:"w-10 h-10 border-4 border-slate-800 border-t-blue-500 rounded-full animate-spin"}),C.jsx("p",{className:"text-[10px] text-blue-500 font-bold tracking-widest uppercase",children:"Sinkronisasi Keamanan..."})]}):C.jsxs("div",{className:"space-y-4",children:[C.jsxs("button",{onClick:g,className:"w-full group bg-white hover:bg-slate-50 text-slate-900 px-6 py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-3 transition-all shadow-xl hover:translate-y-[-2px] active:translate-y-[0px]",children:[C.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[C.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),C.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),C.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),C.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Masuk dengan Google"]}),s&&C.jsx("p",{className:"text-red-400 text-[10px] font-bold uppercase tracking-tight",children:s})]}),C.jsx("p",{className:"mt-8 text-[10px] text-slate-600 font-medium",children:" 2025 MAMBORO-AI  INDONESIA"})]})]})]})},uM=({onOpenSettings:n,quota:e=0,maxQuota:o=5,user:s})=>{const l=e<=1,c=e===0;return C.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-slate-800/50 bg-slate-950/80 backdrop-blur-xl",children:C.jsxs("div",{className:"container mx-auto px-4 h-16 md:h-20 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[C.jsx("div",{className:"bg-black p-1 md:p-1.5 rounded-lg md:rounded-xl border border-slate-800 shadow-inner group cursor-pointer",onClick:()=>window.location.reload(),children:C.jsx(Ef,{size:28,className:"md:w-8 md:h-8"})}),C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("h1",{className:"text-sm sm:text-lg md:text-xl font-black tracking-tighter text-white leading-none",children:["MAMBORO",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-fuchsia-500",children:"AI"})]}),C.jsx("p",{className:"text-[7px] sm:text-[9px] uppercase tracking-[0.2em] sm:tracking-[0.3em] text-cyan-400/60 font-black mt-0.5 sm:mt-1",children:"Image Studio"})]})]}),C.jsxs("div",{className:"flex items-center gap-2 md:gap-5",children:[C.jsx("div",{className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3.5 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border transition-all ${c?"bg-red-500/10 border-red-500/20 text-red-400":l?"bg-amber-500/10 border-amber-500/20 text-amber-400":"bg-cyan-500/10 border-cyan-500/20 text-cyan-400"}`,children:C.jsxs("span",{className:"text-[8px] sm:text-[10px] md:text-xs font-black uppercase tracking-widest flex items-center gap-1 sm:gap-2",children:[C.jsx("span",{className:`w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full ${c?"bg-red-500":l?"bg-amber-500":"bg-cyan-500"} animate-pulse`}),e," ",C.jsx("span",{className:"hidden xs:inline",children:"Tokens"})]})}),C.jsxs("div",{onClick:n,className:"flex items-center gap-2 md:gap-3 pl-2 sm:pl-3 pr-1 py-1 bg-slate-900 border border-slate-800 rounded-full hover:border-slate-600 transition-all cursor-pointer group",children:[C.jsxs("div",{className:"hidden sm:block text-right",children:[C.jsx("p",{className:"text-[10px] font-bold text-white leading-tight",children:s.name}),C.jsx("p",{className:"text-[9px] text-slate-500 font-medium",children:s.email})]}),s.picture?C.jsx("img",{src:s.picture,className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full border border-slate-700 shadow-lg group-hover:scale-105 transition-transform object-cover"}):C.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full border border-slate-700 shadow-lg group-hover:scale-105 transition-transform flex items-center justify-center text-white font-bold text-[10px] sm:text-xs md:text-base ${wv(s.name)}`,children:s.name.charAt(0).toUpperCase()})]})]})]})})},cM=({onUpload:n,currentImage:e})=>{const o=Pe.useRef(null),s=c=>{var g;const d=(g=c.target.files)==null?void 0:g[0];if(d){const y=new FileReader;y.onloadend=()=>{n(y.result)},y.readAsDataURL(d)}},l=()=>{var c;return(c=o.current)==null?void 0:c.click()};return e?C.jsxs("div",{className:"relative group overflow-hidden rounded-xl md:rounded-2xl border border-slate-700 bg-black",children:[C.jsx("img",{src:e,alt:"Upload preview",className:"w-full h-auto max-h-[300px] object-contain transition-transform duration-500 group-hover:scale-[1.02]"}),C.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:C.jsx("button",{onClick:l,className:"p-3 bg-white/10 hover:bg-white/20 backdrop-blur-md text-white rounded-full transition-all border border-white/20",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})}),C.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:s})]}):C.jsxs("div",{onClick:l,className:"border-2 border-dashed border-slate-700 hover:border-blue-500 bg-slate-800/20 hover:bg-blue-500/5 rounded-2xl py-12 px-8 transition-all cursor-pointer flex flex-col items-center gap-4 group",children:[C.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center text-slate-500 group-hover:text-blue-400 group-hover:scale-110 transition-all duration-300",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"text-base font-bold text-slate-300 uppercase tracking-widest",children:"Unggah Gambar"}),C.jsx("p",{className:"text-[10px] text-slate-500 mt-1 uppercase tracking-tight",children:"PNG, JPG, WEBP  Max 10MB"})]}),C.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:s})]})},fM=["1:1","4:3","3:4","16:9","9:16"],dM=({prompt:n,setPrompt:e,aspectRatio:o,setAspectRatio:s,onEdit:l,isLoading:c,isQuotaExhausted:d=!1})=>C.jsxs("section",{className:"bg-slate-800/50 p-4 md:p-5 rounded-2xl md:rounded-3xl border border-slate-700 backdrop-blur-sm shadow-xl space-y-4 md:space-y-5",children:[C.jsxs("h2",{className:"text-base md:text-lg font-bold flex items-center gap-2 text-white",children:[C.jsx("span",{className:"p-1.5 bg-green-500/20 rounded-lg text-green-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"Parameter Edit"]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] md:text-xs font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Apa yang ingin Anda ubah?"}),C.jsx("textarea",{value:n,onChange:g=>e(g.target.value),placeholder:"Contoh: 'Tambahkan matahari terbenam', 'Ubah warna baju'...",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 md:p-4 text-sm text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none h-24 md:h-28 resize-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] md:text-xs font-bold text-slate-500 mb-3 uppercase tracking-widest",children:"Rasio Aspek"}),C.jsx("div",{className:"grid grid-cols-5 gap-2",children:fM.map(g=>C.jsx("button",{onClick:()=>s(g),className:`py-2 px-1 rounded-lg text-[10px] md:text-xs font-bold transition-all border ${o===g?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-600/20":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:g},g))})]}),C.jsx("button",{onClick:l,disabled:c||!n.trim()||d,className:`w-full py-3.5 rounded-xl font-bold text-base transition-all flex items-center justify-center gap-3 ${c||!n.trim()||d?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white shadow-lg shadow-blue-600/20"}`,children:c?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Memproses..."]}):d?C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Kuota Habis"]}):C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Terapkan"]})}),d&&C.jsx("p",{className:"text-[9px] text-red-400 text-center font-bold uppercase tracking-widest",children:"Tunggu esok hari untuk kuota baru"})]}),B0=[{id:"suit",label:"Setelan Jas",icon:"",prompt:"ganti pakaian menjadi setelan jas formal hitam yang rapi dan mewah"},{id:"batik",label:"Batik",icon:"",prompt:"ganti pakaian menjadi kemeja batik Indonesia modern dengan motif yang elegan"},{id:"casual",label:"Casual",icon:"",prompt:"ganti pakaian menjadi kaos putih and jaket denim casual modern"},{id:"traditional",label:"Adat",icon:"",prompt:"ganti pakaian menjadi baju adat tradisional Indonesia yang megah"},{id:"sport",label:"Sport",icon:"",prompt:"ganti pakaian menjadi setelan jersey olahraga profesional yang stylish"},{id:"doctor",label:"Dokter",icon:"",prompt:"ganti pakaian menjadi jas putih dokter yang bersih and profesional"}],hM=({onApply:n,isLoading:e,refImage:o,setRefImage:s,isQuotaExhausted:l=!1})=>{const[c,d]=Pe.useState(null),[g,y]=Pe.useState(""),m=Pe.useRef(null),v=T=>{var x;const A=(x=T.target.files)==null?void 0:x[0];if(A){const L=new FileReader;L.onloadend=()=>{s(L.result),d("custom_ref")},L.readAsDataURL(A)}},E=()=>{if(l)return;let T="";if(o)T=`Ganti pakaian subjek agar persis seperti pakaian dalam gambar referensi kedua. ${g?`Gunakan detail tambahan: ${g}.`:""} Pertahankan bentuk tubuh dan wajah subjek asli.`;else{const A=B0.find(x=>x.id===c);A&&(T=`${A.prompt}. ${g?`Gunakan detail tambahan: ${g}.`:""} Pastikan wajah dan latar belakang tetap asli.`)}T&&n(T)};return C.jsxs("section",{className:"bg-slate-800/50 p-4 md:p-5 rounded-2xl md:rounded-3xl border border-slate-700 backdrop-blur-sm shadow-xl space-y-4 md:space-y-5 animate-in slide-in-from-right-4 duration-500",children:[C.jsxs("h2",{className:"text-base md:text-lg font-bold flex items-center gap-2 text-white",children:[C.jsx("span",{className:"p-1.5 bg-indigo-500/20 rounded-lg text-indigo-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.38 3.46 16 2a4 4 0 0 0-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"})})}),"Pilih Pakaian Baru"]}),C.jsxs("div",{className:"space-y-2.5",children:[C.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Referensi Baju (Optional)"}),o?C.jsxs("div",{className:"relative w-full h-28 rounded-xl overflow-hidden border border-indigo-500/50 group bg-slate-900",children:[C.jsx("img",{src:o,alt:"Reference",className:"w-full h-full object-contain"}),C.jsx("button",{onClick:()=>s(null),className:"absolute top-1.5 right-1.5 p-1 bg-red-500/80 text-white rounded-lg hover:bg-red-600 transition-colors",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):C.jsxs("div",{onClick:()=>{var T;return(T=m.current)==null?void 0:T.click()},className:"w-full h-16 border-2 border-dashed border-slate-700 hover:border-indigo-500 rounded-xl flex flex-col items-center justify-center gap-1 cursor-pointer transition-all bg-slate-900/30 group",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-600 group-hover:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),C.jsx("span",{className:"text-[9px] font-bold text-slate-500 group-hover:text-indigo-300",children:"UNGGAH CONTOH"})]}),C.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:v})]}),C.jsx("div",{className:"grid grid-cols-3 gap-2.5",children:B0.map(T=>C.jsxs("button",{onClick:()=>{d(T.id),s(null)},className:`p-3 md:p-4 rounded-xl border flex flex-col items-center gap-1.5 transition-all duration-200 ${c===T.id&&!o?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-600/20 scale-[1.02]":"bg-slate-900/50 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:[C.jsx("span",{className:"text-xl md:text-2xl",children:T.icon}),C.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight text-center",children:T.label})]},T.id))}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-slate-500 mb-2 uppercase tracking-widest",children:"Detail Tambahan"}),C.jsx("input",{type:"text",value:g,onChange:T=>y(T.target.value),placeholder:"Warna merah, bahan sutra...",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-2.5 text-white placeholder:text-slate-600 focus:ring-2 focus:ring-indigo-500 outline-none text-xs transition-all"})]}),C.jsx("button",{onClick:E,disabled:e||!c&&!o||l,className:`w-full py-3.5 rounded-xl font-bold text-base transition-all flex items-center justify-center gap-3 ${e||!c&&!o||l?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white shadow-xl shadow-indigo-600/20"}`,children:e?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Memproses..."]}):l?C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Kuota Habis"]}):C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 3zM5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Ganti Pakaian"]})})]})},pM=["1:1","4:3","3:4","16:9","9:16"],mM=({onApply:n,isLoading:e,aspectRatio:o,setAspectRatio:s,refImage:l,setRefImage:c,prompt:d,setPrompt:g,isQuotaExhausted:y=!1})=>{const m=Pe.useRef(null),v=E=>{var A;const T=(A=E.target.files)==null?void 0:A[0];if(T){const x=new FileReader;x.onloadend=()=>{c(x.result)},x.readAsDataURL(T)}};return C.jsxs("section",{className:"bg-slate-800/50 p-4 md:p-5 rounded-2xl md:rounded-3xl border border-slate-700 backdrop-blur-sm shadow-xl space-y-4 md:space-y-5 animate-in slide-in-from-right-4 duration-500",children:[C.jsxs("h2",{className:"text-base md:text-lg font-bold flex items-center gap-2 text-white",children:[C.jsx("span",{className:"p-1.5 bg-cyan-500/20 rounded-lg text-cyan-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"Edit Referensi"]}),C.jsxs("div",{className:"space-y-2.5",children:[C.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Gambar Referensi (Gaya/Objek)"}),l?C.jsxs("div",{className:"relative w-full h-28 md:h-36 rounded-xl overflow-hidden border border-cyan-500/50 group bg-slate-900",children:[C.jsx("img",{src:l,alt:"Reference",className:"w-full h-full object-contain"}),C.jsx("button",{onClick:()=>c(null),className:"absolute top-1.5 right-1.5 p-1 bg-red-500/80 text-white rounded-lg hover:bg-red-600 transition-colors",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):C.jsxs("div",{onClick:()=>{var E;return(E=m.current)==null?void 0:E.click()},className:"w-full h-16 border-2 border-dashed border-slate-700 hover:border-cyan-500 rounded-xl flex flex-col items-center justify-center gap-1 cursor-pointer transition-all bg-slate-900/30 group",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-600 group-hover:text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),C.jsx("span",{className:"text-[9px] font-bold text-slate-500 group-hover:text-cyan-300",children:"UNGGAH REFERENSI"})]}),C.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:v})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Instruksi Perubahan"}),C.jsx("textarea",{value:d,onChange:E=>g(E.target.value),placeholder:"Contoh: 'Terapkan gaya ini ke subjek'...",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm text-white focus:ring-2 focus:ring-cyan-500 outline-none h-20 resize-none transition-all"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-slate-500 mb-3 uppercase tracking-widest",children:"Rasio Aspek"}),C.jsx("div",{className:"grid grid-cols-5 gap-2",children:pM.map(E=>C.jsx("button",{onClick:()=>s(E),className:`py-2 rounded-lg text-[10px] font-bold transition-all border ${o===E?"bg-cyan-600 border-cyan-500 text-white shadow-lg shadow-cyan-600/20":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:E},E))})]}),C.jsx("button",{onClick:()=>n(d),disabled:e||!d.trim()||!l||y,className:`w-full py-3.5 rounded-xl font-bold text-base transition-all flex items-center justify-center gap-3 ${e||!d.trim()||!l||y?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white shadow-xl shadow-cyan-600/20"}`,children:e?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Memproses..."]}):y?C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Kuota Habis"]}):C.jsxs(C.Fragment,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Terapkan"]})})]})},gM=({resultImage:n,sourceImage:e})=>{const[o,s]=Pe.useState("result");if(!n)return C.jsxs("div",{className:"text-center text-slate-500 p-6",children:[C.jsx("div",{className:"mb-4 text-slate-700",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 md:w-16 md:h-16 mx-auto opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),C.jsx("p",{className:"font-bold text-xs md:text-sm uppercase tracking-widest text-slate-600",children:"Hasil Render"}),C.jsx("p",{className:"text-[10px] md:text-xs mt-1 text-slate-500",children:"Silakan unggah gambar dan pilih instruksi untuk melihat hasil."})]});const l=()=>{const c=document.createElement("a");c.href=n,c.download=`mamboro-ai-${Date.now()}.png`,document.body.appendChild(c),c.click(),document.body.removeChild(c)};return C.jsxs("div",{className:"w-full flex flex-col h-full animate-in fade-in duration-500 p-2 md:p-4",children:[C.jsxs("div",{className:"flex bg-slate-900/50 backdrop-blur-sm rounded-xl p-1 mb-3 md:mb-4 self-center border border-slate-700/50",children:[C.jsx("button",{onClick:()=>s("result"),className:`px-4 py-1.5 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${o==="result"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Hasil"}),C.jsx("button",{onClick:()=>s("original"),className:`px-4 py-1.5 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all ${o==="original"?"bg-slate-700 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:"Asli"})]}),C.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-slate-700/50 bg-black flex-grow flex items-center justify-center min-h-0",children:[C.jsx("img",{src:o==="result"?n:e||"",alt:"Result",className:"max-w-full h-auto max-h-full object-contain transition-all"}),C.jsxs("button",{onClick:l,className:"absolute bottom-3 right-3 md:bottom-4 md:right-4 p-2.5 md:p-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl shadow-2xl transition-all flex items-center gap-2 group border border-blue-400/50",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 group-hover:translate-y-0.5 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),C.jsx("span",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest",children:"Simpan"})]})]})]})},yM=()=>C.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-md z-10 flex flex-col items-center justify-center rounded-xl",children:[C.jsxs("div",{className:"relative w-24 h-24 mb-6 flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0 border-4 border-blue-500/20 rounded-full"}),C.jsx("div",{className:"absolute inset-0 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),C.jsx("div",{className:"bg-slate-900 rounded-full p-4 shadow-lg",children:C.jsx(Ef,{size:40,className:"animate-pulse"})})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Mamboro-Ai sedang bekerja..."}),C.jsx("p",{className:"text-slate-400 text-sm max-w-[250px]",children:"Kecerdasan buatan kami sedang memproses gambar Anda. Tunggu sebentar ya."})]})]}),vM=({message:n})=>C.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[C.jsx("div",{className:"p-1 bg-red-500/20 rounded text-red-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),C.jsxs("div",{children:[C.jsx("h4",{className:"text-red-400 font-bold text-sm",children:"Error Occurred"}),C.jsx("p",{className:"text-red-300/80 text-xs mt-0.5",children:n})]})]}),_M=({isOpen:n,onClose:e,onLogout:o,quota:s,user:l})=>n?C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:C.jsxs("div",{className:"bg-slate-900 border border-slate-800 w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"p-8 pb-4 flex items-center justify-between",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("h2",{className:"text-2xl font-black text-white leading-tight",children:"Akun Saya"}),C.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.3em] mt-1",children:"Sesi Aktif Google"})]}),C.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white transition-colors p-2.5 bg-white/5 hover:bg-white/10 rounded-full",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsxs("div",{className:"px-8 pb-10 space-y-6",children:[C.jsxs("div",{className:"flex flex-col items-center py-6 gap-4",children:[C.jsxs("div",{className:"relative",children:[l.picture?C.jsx("img",{src:l.picture,alt:l.name,referrerPolicy:"no-referrer",className:"w-24 h-24 rounded-full border-4 border-slate-800 shadow-2xl object-cover"}):C.jsx("div",{className:`w-24 h-24 rounded-full border-4 border-slate-800 shadow-2xl flex items-center justify-center text-white font-bold text-4xl ${wv(l.name)}`,children:l.name.charAt(0).toUpperCase()}),C.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-500 border-4 border-slate-900 rounded-full flex items-center justify-center",children:C.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("h3",{className:"text-xl font-bold text-white",children:l.name}),C.jsx("p",{className:"text-sm text-slate-500",children:l.email})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"p-5 bg-slate-800/40 rounded-3xl border border-slate-800 flex items-center justify-between group",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Status Token Harian"}),C.jsxs("p",{className:"text-base text-slate-200",children:["Tersisa ",C.jsxs("span",{className:"text-blue-400 font-black",children:[s," token"]})]})]}),C.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-950 border border-slate-800 flex items-center justify-center text-xs font-black text-blue-400",children:s})]}),C.jsx("button",{onClick:o,className:"w-full py-4 bg-red-500/5 hover:bg-red-500/10 text-red-500 border border-red-500/20 rounded-2xl text-sm font-bold transition-all flex items-center justify-center gap-3",children:"Keluar Sesi Google"})]}),C.jsx("div",{className:"pt-6 border-t border-slate-800",children:C.jsxs("p",{className:"text-[10px] text-slate-600 text-center leading-relaxed font-medium",children:["V2.1.0 (Google Identity Synced)",C.jsx("br",{}),"MAMBORO-AI STUDIO  2025."]})})]})]})}):null,So=5,z0=["andry.saringgan85@gmail.com"],TM=()=>{const[n,e]=Pe.useState(null),[o,s]=Pe.useState(!0),[l,c]=Pe.useState("general"),[d,g]=Pe.useState(null),[y,m]=Pe.useState(null),[v,E]=Pe.useState(null),[T,A]=Pe.useState(""),[x,L]=Pe.useState("1:1"),[U,V]=Pe.useState(Jt.IDLE),[F,z]=Pe.useState(null),[Y,j]=Pe.useState(So),[te,J]=Pe.useState(!1),fe=Pe.useRef(null);Pe.useEffect(()=>{const ge=$x(Qc,le=>{e(le?{name:le.displayName||"User",email:le.email||"",picture:le.photoURL||""}:null),s(!1)});return()=>ge()},[]),Pe.useEffect(()=>{if(!n)return;if(z0.includes(n.email)){j(9999);return}(()=>{const le=new Date().toISOString().split("T")[0],De=`quota_${n.email}`,ze=`reset_${n.email}`,P=localStorage.getItem(ze),q=localStorage.getItem(De);P!==le?(j(So),localStorage.setItem(De,So.toString()),localStorage.setItem(ze,le)):q!==null?j(parseInt(q,10)):(j(So),localStorage.setItem(De,So.toString()),localStorage.setItem(ze,le))})()},[n]);const Z=async()=>{try{await Qc.signOut(),J(!1),g(null),m(null),E(null),V(Jt.IDLE)}catch(ge){console.error("Logout error",ge)}},de=ge=>{g(ge),E(null),V(Jt.IDLE),z(null)},Te=async(ge,le)=>{const De=n&&z0.includes(n.email);if(!De&&Y<=0){z("Kuota harian aplikasi Anda telah habis. Silakan coba lagi besok.");return}const ze=ge||T,P=le!==void 0?le:y;if(!d){z("Silakan unggah gambar terlebih dahulu.");return}if(!ze.trim()){z("Silakan masukkan instruksi edit.");return}V(Jt.PROCESSING),z(null);try{const q=await CI(d,ze,x,P);if(E(q.imageUrl),V(Jt.SUCCESS),!De){const ne=Math.max(0,Y-1);j(ne),n&&localStorage.setItem(`quota_${n.email}`,ne.toString())}setTimeout(()=>{var ne;(ne=fe.current)==null||ne.scrollIntoView({behavior:"smooth",block:"start"})},500)}catch(q){console.error("Edit Error:",q),V(Jt.ERROR),z(q.message||"Terjadi kesalahan pada layanan AI. Silakan coba beberapa saat lagi.")}};return o?C.jsx("div",{className:"min-h-screen bg-[#0f172a] flex items-center justify-center",children:C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),C.jsx("p",{className:"text-blue-400 font-bold uppercase tracking-widest text-xs",children:"Menghubungkan..."})]})}):n?C.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0f172a] text-slate-100 animate-in fade-in duration-700 overflow-x-hidden",children:[C.jsx(uM,{onOpenSettings:()=>J(!0),quota:Y,maxQuota:So,user:n}),C.jsx(_M,{isOpen:te,onClose:()=>J(!1),onLogout:Z,quota:Y,user:n}),C.jsxs("main",{className:"flex-grow w-full max-w-[1400px] mx-auto px-4 py-4 md:py-6",children:[C.jsx("div",{className:"flex justify-center mb-6 md:mb-8 px-2 md:px-0",children:C.jsxs("div",{className:"bg-slate-900/80 p-1.5 rounded-2xl md:rounded-3xl border border-slate-700 backdrop-blur-md flex w-full md:w-auto gap-2 shadow-2xl overflow-x-auto no-scrollbar",children:[C.jsxs("button",{onClick:()=>c("general"),className:`flex-1 md:flex-none flex items-center justify-center gap-3 px-5 md:px-8 py-2.5 md:py-3 rounded-xl md:rounded-2xl font-black transition-all duration-300 text-[11px] md:text-sm whitespace-nowrap group ${l==="general"?"bg-blue-600 text-white ring-2 ring-blue-500/20":"text-slate-500 hover:text-slate-300"}`,children:[C.jsx("div",{className:`p-1 rounded-lg transition-all ${l==="general"?"bg-white/20 scale-110":"bg-slate-800 group-hover:bg-slate-700"}`,children:C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"gradUmumMagic",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:"#fbbf24"}),C.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]})}),C.jsx("path",{d:"M15 4L16 6M20 9L22 10M17 10L19 12M5 19L14 10L11 7L2 16L5 19Z",stroke:l==="general"?"white":"url(#gradUmumMagic)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Umum"]}),C.jsxs("button",{onClick:()=>c("clothes"),className:`flex-1 md:flex-none flex items-center justify-center gap-3 px-5 md:px-8 py-2.5 md:py-3 rounded-xl md:rounded-2xl font-black transition-all duration-300 text-[11px] md:text-sm whitespace-nowrap group ${l==="clothes"?"bg-indigo-600 text-white ring-2 ring-indigo-500/20":"text-slate-500 hover:text-slate-300"}`,children:[C.jsx("div",{className:`p-1 rounded-lg transition-all ${l==="clothes"?"bg-white/20 scale-110":"bg-slate-800 group-hover:bg-slate-700"}`,children:C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"gradClothesHanger",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),C.jsx("stop",{offset:"100%",stopColor:"#6366f1"})]})}),C.jsx("path",{d:"M12 2V5M12 5C14.5 5 18 7.5 21 11H3C6 7.5 9.5 5 12 5ZM12 2C13 2 14 3 14 4C14 5 13 6 12 6",stroke:l==="clothes"?"white":"url(#gradClothesHanger)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Ganti Baju"]}),C.jsxs("button",{onClick:()=>c("reference"),className:`flex-1 md:flex-none flex items-center justify-center gap-3 px-5 md:px-8 py-2.5 md:py-3 rounded-xl md:rounded-2xl font-black transition-all duration-300 text-[11px] md:text-sm whitespace-nowrap group ${l==="reference"?"bg-cyan-600 text-white ring-2 ring-cyan-500/20":"text-slate-500 hover:text-slate-300"}`,children:[C.jsx("div",{className:`p-1 rounded-lg transition-all ${l==="reference"?"bg-white/20 scale-110":"bg-slate-800 group-hover:bg-slate-700"}`,children:C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("defs",{children:C.jsxs("linearGradient",{id:"gradRefGallery",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),C.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})}),C.jsx("rect",{x:"3",y:"7",width:"14",height:"14",rx:"2",stroke:l==="reference"?"white":"url(#gradRefGallery)",strokeWidth:"2.5",strokeLinejoin:"round"})]})}),"Referensi"]})]})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[460px_1fr] gap-6 md:gap-8 items-start",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsx("section",{className:"bg-slate-800/40 p-4 md:p-6 rounded-2xl md:rounded-3xl border border-slate-700/50 shadow-2xl backdrop-blur-sm",children:C.jsx(cM,{onUpload:de,currentImage:d})}),d&&C.jsx("div",{className:"animate-in slide-in-from-bottom-6 duration-500 space-y-6",children:l==="general"?C.jsx(dM,{prompt:T,setPrompt:A,aspectRatio:x,setAspectRatio:L,onEdit:()=>Te(),isLoading:U===Jt.PROCESSING,isQuotaExhausted:Y<=0}):l==="clothes"?C.jsx(hM,{onApply:ge=>Te(ge,y),isLoading:U===Jt.PROCESSING,aspectRatio:x,setAspectRatio:L,refImage:y,setRefImage:m,isQuotaExhausted:Y<=0}):C.jsx(mM,{onApply:ge=>Te(ge,y),isLoading:U===Jt.PROCESSING,aspectRatio:x,setAspectRatio:L,refImage:y,setRefImage:m,prompt:T,setPrompt:A,isQuotaExhausted:Y<=0})}),F&&C.jsx(vM,{message:F})]}),C.jsx("div",{className:"space-y-6 lg:sticky lg:top-24 h-fit",children:C.jsx("section",{className:"bg-slate-800/40 p-4 md:p-6 rounded-2xl md:rounded-3xl border border-slate-700/50 shadow-2xl backdrop-blur-sm flex flex-col relative overflow-hidden h-full min-h-[500px] lg:min-h-[calc(100vh-160px)]",children:C.jsxs("div",{ref:fe,className:"flex-grow flex items-center justify-center relative bg-slate-950/50 rounded-2xl md:rounded-3xl border border-slate-800/50 shadow-inner group overflow-hidden",children:[U===Jt.PROCESSING&&C.jsx(yM,{}),C.jsx(gM,{resultImage:v,sourceImage:d})]})})})]})]})]}):C.jsx(aM,{onLoginSuccess:()=>{}})},xv=document.getElementById("root");if(!xv)throw new Error("Could not find root element to mount to");const EM=cE.createRoot(xv);EM.render(C.jsx(iE.StrictMode,{children:C.jsx(TM,{})}));
